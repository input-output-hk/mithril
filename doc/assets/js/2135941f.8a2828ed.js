"use strict";(self.webpackChunkmithril_doc=self.webpackChunkmithril_doc||[]).push([[762],{86942:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var o=t(51054),r=t(74848),i=t(28453);const a={title:"UTXO-HD ledger state snapshot converter command in client CLI",authors:[{name:"Mithril Team"}],tags:["mithril client","cli","command","utxo-hd","conversion"]},s=void 0,d={authorsImageUrls:[void 0]},c=[{value:"Introducing the UTXO-HD ledger state snapshot converter command in the Mithril client CLI",id:"introducing-the-utxo-hd-ledger-state-snapshot-converter-command-in-the-mithril-client-cli",level:3}];function l(e){const n={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Update 2025/09/17"}),": The command has been promoted to ",(0,r.jsx)(n.code,{children:"stable"})," and is now available without the ",(0,r.jsx)(n.code,{children:"--unstable"})," flag."]}),"\n",(0,r.jsx)(n.h3,{id:"introducing-the-utxo-hd-ledger-state-snapshot-converter-command-in-the-mithril-client-cli",children:"Introducing the UTXO-HD ledger state snapshot converter command in the Mithril client CLI"}),"\n",(0,r.jsxs)(n.p,{children:["With the release of the new ",(0,r.jsx)(n.a,{href:"https://github.com/input-output-hk/mithril/releases/tag/2524.0",children:"2524"})," distribution, the ",(0,r.jsx)(n.strong,{children:"tools"})," command has been added to the ",(0,r.jsx)(n.strong,{children:"Mithril client CLI"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Since the release of Cardano node ",(0,r.jsx)(n.a,{href:"https://github.com/IntersectMBO/cardano-node/releases/tag/10.4.1",children:"v.10.4.1"}),", the Mithril aggregator node has been producing snapshots of the Cardano database using the ",(0,r.jsx)(n.code,{children:"InMemory"})," UTXO-HD flavor."]}),"\n",(0,r.jsxs)(n.p,{children:["When restoring a Cardano database snapshot, if the Cardano node is configured to use the on-disk (LMDB) or ",(0,r.jsx)(n.code,{children:"Legacy"})," format (as in Cardano node v.10.3 and earlier), the ledger state snapshot must be converted before restarting the node."]}),"\n",(0,r.jsxs)(n.p,{children:["The new ",(0,r.jsx)(n.code,{children:"utxo-hd snapshot-converter"})," subcommand simplifies node bootstrapping by converting the restored ledger state snapshot into the required format (",(0,r.jsx)(n.code,{children:"LMDB"})," or ",(0,r.jsx)(n.code,{children:"Legacy"}),")."]}),"\n",(0,r.jsxs)(n.p,{children:["This conversion tool is currently marked as ",(0,r.jsx)(n.code,{children:"unstable"})," and is available on Linux, macOS, and Windows."]}),"\n",(0,r.jsxs)(n.p,{children:["It operates using the ",(0,r.jsx)(n.code,{children:"snapshot-converter"})," binary included with the Cardano node distribution."]}),"\n",(0,r.jsx)(n.p,{children:"Usage:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mithril-client tools utxo-hd snapshot-converter --db-directory $DB_DIRECTORY --cardano-node-version 10.1.4 --utxo-hd-flavor $UTXO_HD_FLAVOR\n"})}),"\n",(0,r.jsx)(n.p,{children:"Parameters:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--db-directory"}),": path to the Cardano database directory"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--cardano-node-version"}),": version used to download the ",(0,r.jsx)(n.code,{children:"snapshot-converter"})," binary (specific version, eg, ",(0,r.jsx)(n.code,{children:"10.1.4"}),", ",(0,r.jsx)(n.code,{children:"latest"}),", or ",(0,r.jsx)(n.code,{children:"prerelease"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--utxo-hd-flavor"}),": target UTXO-HD flavor (",(0,r.jsx)(n.code,{children:"LMDB"})," or ",(0,r.jsx)(n.code,{children:"Legacy"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The 'Bootstrap a Cardano node' guide now includes a new optional ",(0,r.jsx)(n.a,{href:"https://mithril.network/doc/manual/getting-started/bootstrap-cardano-node#step-5-optional-convert-the-ledger-state-snapshot-to-another-flavor",children:"step"})," that describes how to use the command."]}),"\n",(0,r.jsxs)(n.p,{children:["The documentation for the ",(0,r.jsx)(n.strong,{children:"client CLI"})," has been updated accordingly and is available ",(0,r.jsx)(n.a,{href:"https://mithril.network/doc/manual/developer-docs/nodes/mithril-client#tools-unstable",children:"here"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["For any inquiries or assistance, contact the team on the ",(0,r.jsx)(n.a,{href:"https://discord.gg/5kaErDKDRq",children:"Discord channel"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var o=t(96540);const r={},i=o.createContext(r);function a(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:n},e.children)}},51054:e=>{e.exports=JSON.parse('{"permalink":"/doc/dev-blog/2025/06/16/client-cli-utxo-snapshot-converter-command","source":"@site/blog/2025-06-16-client-cli-utxo-snapshot-converter-command.md","title":"UTXO-HD ledger state snapshot converter command in client CLI","description":"Update 2025/09/17: The command has been promoted to stable and is now available without the --unstable flag.","date":"2025-06-16T00:00:00.000Z","tags":[{"inline":true,"label":"mithril client","permalink":"/doc/dev-blog/tags/mithril-client"},{"inline":true,"label":"cli","permalink":"/doc/dev-blog/tags/cli"},{"inline":true,"label":"command","permalink":"/doc/dev-blog/tags/command"},{"inline":true,"label":"utxo-hd","permalink":"/doc/dev-blog/tags/utxo-hd"},{"inline":true,"label":"conversion","permalink":"/doc/dev-blog/tags/conversion"}],"readingTime":1.62,"hasTruncateMarker":false,"authors":[{"name":"Mithril Team","socials":{},"key":null,"page":null}],"frontMatter":{"title":"UTXO-HD ledger state snapshot converter command in client CLI","authors":[{"name":"Mithril Team"}],"tags":["mithril client","cli","command","utxo-hd","conversion"]},"unlisted":false,"prevItem":{"title":"Switching to Cardano database incremental certification","permalink":"/doc/dev-blog/2025/06/17/client-cli-cardano-database-backends"},"nextItem":{"title":"Distribution `2524` is now available","permalink":"/doc/dev-blog/2025/06/16/distribution-2524"}}')}}]);