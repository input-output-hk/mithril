(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{439:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5155);n(2115);var i=n(2619),a=n.n(i);function s(e){let{href:t,children:n,className:i,disabled:s,variant:c="primary",...l}=e;return!0===s?i="".concat(i," disabled"):s=!1,(0,r.jsx)(a(),{href:t,"aria-disabled":s,className:"btn btn-".concat(c," link-underline-opacity-0 ").concat(i),...l,children:n})}},651:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","http://localhost:8080/aggregator"]},1483:e=>{e.exports={events:"styles_events__fx6_1",error:"styles_error__jDHvR"}},1749:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5155);n(2115);var i=n(1577),a=n(3912),s=n(5117);function c(e){let{tooltip:t="Raw JSON",color:n="black",...c}=e;return(0,r.jsx)(i.A,{overlay:(0,r.jsx)(a.A,{children:t}),children:(0,r.jsx)(s.A,{variant:"outline-secondary",target:"_blank",...c,children:(0,r.jsx)("i",{className:"bi bi-filetype-json text-".concat(n)})})})}},1751:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mithril_client_wasm_bg.31a3f9d2.wasm"},2898:e=>{e.exports={artifactColLabel:"styles_artifactColLabel__RngDR"}},3087:(e,t,n)=>{"use strict";n.d(t,{W6:()=>s,an:()=>i,h1:()=>a});var r=n(5515);function i(e){let t=(null!=e?e:[]).map(e=>e.stake/1e12);return{labels:["< 1M₳","≥ 1M₳ < 10M₳","≥ 10M₳ < 25M₳","≥ 25M₳ < 50M₳","≥ 50M₳ < 75M₳","≥ 75M₳ < 100M₳","≥ 100M₳"],datasets:[{label:"Number of signers",data:[t.filter(e=>e<1).length,t.filter(e=>e>=1&&e<10).length,t.filter(e=>e>=10&&e<25).length,t.filter(e=>e>=25&&e<50).length,t.filter(e=>e>=50&&e<75).length,t.filter(e=>e>=75&&e<100).length,t.filter(e=>e>100).length]}]}}function a(e){let t=null!=e?e:[];return{labels:t.map(e=>e.party_id),datasets:[{label:"Stake (₳)",data:t.map(e=>(0,r.toAda)(e.stake))}]}}function s(e){let t=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],n=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];e.defaults.plugins.legend.display=!1,e.defaults.elements.arc.backgroundColor=t,e.defaults.elements.arc.borderColor=n,e.defaults.elements.arc.borderWidth=1,e.defaults.elements.bar.backgroundColor=t,e.defaults.elements.bar.borderColor=n,e.defaults.elements.bar.borderWidth=1}},3554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(4378),i=n(5515);e.exports={newMithrilWasmClient:async function(e,t){return new r.MithrilClient(e,t,{})},fetchGenesisVerificationKey:async function(e){let t=(0,i.computeAggregatorNetworkFromUrl)(e);return fetch("https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/".concat(t,"/genesis.vkey")).then(e=>e.text()).catch(e=>console.error("Error fetching genesis verification key:",e))}}},4345:(e,t,n)=>{Promise.resolve().then(n.bind(n,4680))},4378:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{BlockNumber:()=>I,CardanoTransactionsProofs:()=>F,CardanoTransactionsSetProofMessagePart:()=>E,IntoUnderlyingByteSource:()=>R,IntoUnderlyingSink:()=>M,IntoUnderlyingSource:()=>D,JSBroadcastChannelFeedbackReceiver:()=>V,MithrilClient:()=>L,default:()=>Q,initSync:()=>G});let i="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&i.decode();let a=null;function s(){return(null===a||0===a.byteLength)&&(a=new Uint8Array(r.memory.buffer)),a}function c(e,t){return e>>>=0,i.decode(s().subarray(e,e+t))}function l(e){let t=r.__externref_table_alloc();return r.__wbindgen_export_2.set(t,e),t}function o(e,t){try{return e.apply(this,t)}catch(t){let e=l(t);r.__wbindgen_exn_store(e)}}function d(e){return null==e}let _=0,h="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof h.encodeInto?function(e,t){return h.encodeInto(e,t)}:function(e,t){let n=h.encode(e);return t.set(n),{read:e.length,written:n.length}};function u(e,t,n){if(void 0===n){let n=h.encode(e),r=t(n.length,1)>>>0;return s().subarray(r,r+n.length).set(n),_=n.length,r}let r=e.length,i=t(r,1)>>>0,a=s(),c=0;for(;c<r;c++){let t=e.charCodeAt(c);if(t>127)break;a[i+c]=t}if(c!==r){0!==c&&(e=e.slice(c)),i=n(i,r,r=c+3*e.length,1)>>>0;let t=g(e,s().subarray(i+c,i+r));c+=t.written,i=n(i,r,c,1)>>>0}return _=c,i}let f=null;function b(){return(null===f||!0===f.buffer.detached||void 0===f.buffer.detached&&f.buffer!==r.memory.buffer)&&(f=new DataView(r.memory.buffer)),f}let x="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{r.__wbindgen_export_5.get(e.dtor)(e.a,e.b)});function m(e,t,n,i){let a={a:e,b:t,cnt:1,dtor:n},s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.cnt++;let s=a.a;a.a=0;try{return i(s,a.b,...t)}finally{0==--a.cnt?(r.__wbindgen_export_5.get(a.dtor)(s,a.b),x.unregister(a)):a.a=s}};return s.original=a,x.register(s,a,a),s}function j(e,t){let n=t(4*e.length,4)>>>0;for(let t=0;t<e.length;t++){let r=l(e[t]);b().setUint32(n+4*t,r,!0)}return _=e.length,n}function w(e,t){if(!(e instanceof t))throw Error("expected instance of ".concat(t.name))}function p(e,t){e>>>=0;let n=b(),i=[];for(let a=e;a<e+4*t;a+=4)i.push(r.__wbindgen_export_2.get(n.getUint32(a,!0)));return r.__externref_drop_slice(e,t),i}function y(e,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h099ae56f144195ca(e,t)}function v(e,t,n){r.closure1349_externref_shim(e,t,n)}let A=["bytes"],C=["default","no-store","reload","no-cache","force-cache","only-if-cached"],S=["omit","same-origin","include"],k=["same-origin","no-cors","cors","navigate"],N="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_blocknumber_free(e>>>0,1));class I{static __wrap(e){e>>>=0;let t=Object.create(I.prototype);return t.__wbg_ptr=e,N.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_blocknumber_free(e,0)}get 0(){return BigInt.asUintN(64,r.__wbg_get_blocknumber_0(this.__wbg_ptr))}set 0(e){r.__wbg_set_blocknumber_0(this.__wbg_ptr,e)}}let z="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_cardanotransactionsproofs_free(e>>>0,1));class F{static __wrap(e){e>>>=0;let t=Object.create(F.prototype);return t.__wbg_ptr=e,z.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,z.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_cardanotransactionsproofs_free(e,0)}get certificate_hash(){let e,t;try{let n=r.__wbg_get_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr);return e=n[0],t=n[1],c(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}set certificate_hash(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;r.__wbg_set_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr,t,n)}get certified_transactions(){let e=r.__wbg_get_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr);var t=p(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set certified_transactions(e){let t=j(e,r.__wbindgen_malloc),n=_;r.__wbg_set_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr,t,n)}get non_certified_transactions(){let e=r.__wbg_get_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr);var t=p(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set non_certified_transactions(e){let t=j(e,r.__wbindgen_malloc),n=_;r.__wbg_set_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr,t,n)}get latest_block_number(){let e=r.__wbg_get_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr);return I.__wrap(e)}set latest_block_number(e){w(e,I);var t=e.__destroy_into_raw();r.__wbg_set_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr,t)}get transactions_hashes(){let e=r.cardanotransactionsproofs_transactions_hashes(this.__wbg_ptr);var t=p(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}}let T="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_cardanotransactionssetproofmessagepart_free(e>>>0,1));class E{static __wrap(e){e>>>=0;let t=Object.create(E.prototype);return t.__wbg_ptr=e,T.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof E?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_cardanotransactionssetproofmessagepart_free(e,0)}get transactions_hashes(){let e=r.__wbg_get_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr);var t=p(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set transactions_hashes(e){let t=j(e,r.__wbindgen_malloc),n=_;r.__wbg_set_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr,t,n)}get proof(){let e,t;try{let n=r.__wbg_get_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr);return e=n[0],t=n[1],c(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}set proof(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;r.__wbg_set_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr,t,n)}}let P="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_intounderlyingbytesource_free(e>>>0,1));class R{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_intounderlyingbytesource_free(e,0)}get type(){return A[r.intounderlyingbytesource_type(this.__wbg_ptr)]}get autoAllocateChunkSize(){return r.intounderlyingbytesource_autoAllocateChunkSize(this.__wbg_ptr)>>>0}start(e){r.intounderlyingbytesource_start(this.__wbg_ptr,e)}pull(e){return r.intounderlyingbytesource_pull(this.__wbg_ptr,e)}cancel(){let e=this.__destroy_into_raw();r.intounderlyingbytesource_cancel(e)}}let B="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_intounderlyingsink_free(e>>>0,1));class M{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,B.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_intounderlyingsink_free(e,0)}write(e){return r.intounderlyingsink_write(this.__wbg_ptr,e)}close(){let e=this.__destroy_into_raw();return r.intounderlyingsink_close(e)}abort(e){let t=this.__destroy_into_raw();return r.intounderlyingsink_abort(t,e)}}let O="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_intounderlyingsource_free(e>>>0,1));class D{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,O.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_intounderlyingsource_free(e,0)}pull(e){return r.intounderlyingsource_pull(this.__wbg_ptr,e)}cancel(){let e=this.__destroy_into_raw();r.intounderlyingsource_cancel(e)}}let H="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_jsbroadcastchannelfeedbackreceiver_free(e>>>0,1));class V{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,H.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_jsbroadcastchannelfeedbackreceiver_free(e,0)}}let U="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_mithrilclient_free(e>>>0,1));class L{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,U.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_mithrilclient_free(e,0)}get_snapshot(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_snapshot(this.__wbg_ptr,t,n)}get_cardano_database_snapshot(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_cardano_database_snapshot(this.__wbg_ptr,t,n)}list_snapshots(){return r.mithrilclient_list_snapshots(this.__wbg_ptr)}list_cardano_database_snapshots(){return r.mithrilclient_list_cardano_database_snapshots(this.__wbg_ptr)}get_mithril_stake_distribution(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_mithril_stake_distribution(this.__wbg_ptr,t,n)}list_mithril_stake_distributions(){return r.mithrilclient_list_mithril_stake_distributions(this.__wbg_ptr)}compute_mithril_stake_distribution_message(e,t){return r.mithrilclient_compute_mithril_stake_distribution_message(this.__wbg_ptr,e,t)}verify_message_match_certificate(e,t){return r.mithrilclient_verify_message_match_certificate(this.__wbg_ptr,e,t)}get_mithril_certificate(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_mithril_certificate(this.__wbg_ptr,t,n)}list_mithril_certificates(){return r.mithrilclient_list_mithril_certificates(this.__wbg_ptr)}verify_certificate_chain(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_verify_certificate_chain(this.__wbg_ptr,t,n)}list_cardano_transactions_snapshots(){return r.mithrilclient_list_cardano_transactions_snapshots(this.__wbg_ptr)}get_cardano_transactions_snapshot(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_cardano_transactions_snapshot(this.__wbg_ptr,t,n)}get_cardano_transaction_proofs(e){let t=j(e,r.__wbindgen_malloc),n=_;return r.mithrilclient_get_cardano_transaction_proofs(this.__wbg_ptr,t,n)}verify_cardano_transaction_proof_then_compute_message(e,t){return w(e,F),r.mithrilclient_verify_cardano_transaction_proof_then_compute_message(this.__wbg_ptr,e.__wbg_ptr,t)}get_cardano_stake_distribution(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_cardano_stake_distribution(this.__wbg_ptr,t,n)}get_cardano_stake_distribution_by_epoch(e){return r.mithrilclient_get_cardano_stake_distribution_by_epoch(this.__wbg_ptr,e)}list_cardano_stake_distributions(){return r.mithrilclient_list_cardano_stake_distributions(this.__wbg_ptr)}compute_cardano_stake_distribution_message(e,t){return r.mithrilclient_compute_cardano_stake_distribution_message(this.__wbg_ptr,e,t)}fetch_current_mithril_era(){return r.mithrilclient_fetch_current_mithril_era(this.__wbg_ptr)}get_cardano_database_v2(e){let t=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=_;return r.mithrilclient_get_cardano_database_v2(this.__wbg_ptr,t,n)}list_cardano_database_v2(){return r.mithrilclient_list_cardano_database_v2(this.__wbg_ptr)}reset_certificate_verifier_cache(){return r.mithrilclient_reset_certificate_verifier_cache(this.__wbg_ptr)}is_certificate_verifier_cache_enabled(){return r.mithrilclient_is_certificate_verifier_cache_enabled(this.__wbg_ptr)}constructor(e,t,n){let i=u(e,r.__wbindgen_malloc,r.__wbindgen_realloc),a=_,s=u(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=_,l=r.mithrilclient_new(i,a,s,c,n);return this.__wbg_ptr=l>>>0,U.register(this,this.__wbg_ptr,this),this}}async function W(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function q(){let e={};return e.wbg={},e.wbg.__wbg_abort_410ec47a64ac6117=function(e,t){e.abort(t)},e.wbg.__wbg_abort_775ef1d17fc65868=function(e){e.abort()},e.wbg.__wbg_append_8c7dd8d641a5f01b=function(){return o(function(e,t,n,r,i){e.append(c(t,n),c(r,i))},arguments)},e.wbg.__wbg_arrayBuffer_d1b44c4390db422f=function(){return o(function(e){return e.arrayBuffer()},arguments)},e.wbg.__wbg_buffer_09165b52af8c5237=function(e){return e.buffer},e.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},e.wbg.__wbg_byobRequest_77d9adf63337edfb=function(e){let t=e.byobRequest;return d(t)?0:l(t)},e.wbg.__wbg_byteLength_e674b853d9c77e1d=function(e){return e.byteLength},e.wbg.__wbg_byteOffset_fd862df290ef848d=function(e){return e.byteOffset},e.wbg.__wbg_call_672a4d21634d4a24=function(){return o(function(e,t){return e.call(t)},arguments)},e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return o(function(e,t,n){return e.call(t,n)},arguments)},e.wbg.__wbg_cardanotransactionsproofs_new=function(e){return F.__wrap(e)},e.wbg.__wbg_cardanotransactionssetproofmessagepart_new=function(e){return E.__wrap(e)},e.wbg.__wbg_cardanotransactionssetproofmessagepart_unwrap=function(e){return E.__unwrap(e)},e.wbg.__wbg_clearTimeout_6222fede17abcb1a=function(e){return clearTimeout(e)},e.wbg.__wbg_close_304cc1fef3466669=function(){return o(function(e){e.close()},arguments)},e.wbg.__wbg_close_5ce03e29be453811=function(){return o(function(e){e.close()},arguments)},e.wbg.__wbg_close_f886a0707cf69e52=function(e){e.close()},e.wbg.__wbg_done_769e5ede4b31c67b=function(e){return e.done},e.wbg.__wbg_enqueue_bb16ba72f537dc9e=function(){return o(function(e,t){e.enqueue(t)},arguments)},e.wbg.__wbg_entries_3265d4158b33e5dc=function(e){return Object.entries(e)},e.wbg.__wbg_fetch_509096533071c657=function(e,t){return e.fetch(t)},e.wbg.__wbg_fetch_f156d10be9a5c88a=function(e){return fetch(e)},e.wbg.__wbg_getItem_17f98dee3b43fa7e=function(){return o(function(e,t,n,i){let a=t.getItem(c(n,i));var s=d(a)?0:u(a,r.__wbindgen_malloc,r.__wbindgen_realloc),l=_;b().setInt32(e+4,l,!0),b().setInt32(e+0,s,!0)},arguments)},e.wbg.__wbg_getRandomValues_38a1ff1ea09f6cc7=function(){return o(function(e,t){var n;globalThis.crypto.getRandomValues((n=e>>>0,s().subarray(n/1,n/1+t)))},arguments)},e.wbg.__wbg_getTime_46267b1c24877e30=function(e){return e.getTime()},e.wbg.__wbg_get_67b2ba62fc30de12=function(){return o(function(e,t){return Reflect.get(e,t)},arguments)},e.wbg.__wbg_get_b9b93047fe3cf45b=function(e,t){return e[t>>>0]},e.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(e,t){return e[t]},e.wbg.__wbg_has_a5ea9117f258a0ec=function(){return o(function(e,t){return Reflect.has(e,t)},arguments)},e.wbg.__wbg_headers_9cb51cfd2ac780a4=function(e){return e.headers},e.wbg.__wbg_instanceof_ArrayBuffer_e14585432e3737fc=function(e){let t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Response_f2cc20d9f7dfd644=function(e){let t;try{t=e instanceof Response}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Uint8Array_17156bcf118086a9=function(e){let t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Window_def73ea0955fc569=function(e){let t;try{t=e instanceof Window}catch(e){t=!1}return t},e.wbg.__wbg_isArray_a1eab7e0d067391b=function(e){return Array.isArray(e)},e.wbg.__wbg_isSafeInteger_343e2beeeece1bb0=function(e){return Number.isSafeInteger(e)},e.wbg.__wbg_iterator_9a24c88df860dc65=function(){return Symbol.iterator},e.wbg.__wbg_key_c5e0a01cf450dca2=function(){return o(function(e,t,n){let i=t.key(n>>>0);var a=d(i)?0:u(i,r.__wbindgen_malloc,r.__wbindgen_realloc),s=_;b().setInt32(e+4,s,!0),b().setInt32(e+0,a,!0)},arguments)},e.wbg.__wbg_length_a446193dc22c12f8=function(e){return e.length},e.wbg.__wbg_length_e2d2a49132c1b256=function(e){return e.length},e.wbg.__wbg_length_ed4a84b02b798bda=function(){return o(function(e){return e.length},arguments)},e.wbg.__wbg_localStorage_1406c99c39728187=function(){return o(function(e){let t=e.localStorage;return d(t)?0:l(t)},arguments)},e.wbg.__wbg_new0_f788a2397c7ca929=function(){return new Date},e.wbg.__wbg_new_018dcc2d6c8c2f6a=function(){return o(function(){return new Headers},arguments)},e.wbg.__wbg_new_23a2665fac83c611=function(e,t){try{var n={a:e,b:t};return new Promise((e,t)=>{let i=n.a;n.a=0;try{var a;return a=n.b,void r.closure1480_externref_shim(i,a,e,t)}finally{n.a=i}})}finally{n.a=n.b=0}},e.wbg.__wbg_new_405e22f390576ce2=function(){return{}},e.wbg.__wbg_new_5e0be73521bc8c17=function(){return new Map},e.wbg.__wbg_new_78feb108b6472713=function(){return[]},e.wbg.__wbg_new_7f19378ebfdc87d5=function(){return o(function(e,t){return new BroadcastChannel(c(e,t))},arguments)},e.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},e.wbg.__wbg_new_c68d7209be747379=function(e,t){return Error(c(e,t))},e.wbg.__wbg_new_e25e5aab09ff45db=function(){return o(function(){return new AbortController},arguments)},e.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,t){return Function(c(e,t))},e.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(e,t,n){return new Uint8Array(e,t>>>0,n>>>0)},e.wbg.__wbg_newwithstrandinit_06c535e0a867c635=function(){return o(function(e,t,n){return new Request(c(e,t),n)},arguments)},e.wbg.__wbg_next_25feadfc0913fea9=function(e){return e.next},e.wbg.__wbg_next_6574e1a8a62d1055=function(){return o(function(e){return e.next()},arguments)},e.wbg.__wbg_postMessage_bb72e89e7ba80355=function(){return o(function(e,t){e.postMessage(t)},arguments)},e.wbg.__wbg_queueMicrotask_97d92b4fcc8a61c5=function(e){queueMicrotask(e)},e.wbg.__wbg_queueMicrotask_d3219def82552485=function(e){return e.queueMicrotask},e.wbg.__wbg_removeItem_9d2669ee3bba6f7d=function(){return o(function(e,t,n){e.removeItem(c(t,n))},arguments)},e.wbg.__wbg_resolve_4851785c9c5f573d=function(e){return Promise.resolve(e)},e.wbg.__wbg_respond_1f279fa9f8edcb1c=function(){return o(function(e,t){e.respond(t>>>0)},arguments)},e.wbg.__wbg_setItem_212ecc915942ab0a=function(){return o(function(e,t,n,r,i){e.setItem(c(t,n),c(r,i))},arguments)},e.wbg.__wbg_setTimeout_2b339866a2aa3789=function(e,t){return setTimeout(e,t)},e.wbg.__wbg_set_37837023f3d740e8=function(e,t,n){e[t>>>0]=n},e.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,n){e[t]=n},e.wbg.__wbg_set_65595bdd868b3009=function(e,t,n){e.set(t,n>>>0)},e.wbg.__wbg_set_8fc6bf8a5b1071d1=function(e,t,n){return e.set(t,n)},e.wbg.__wbg_setbody_5923b78a95eedf29=function(e,t){e.body=t},e.wbg.__wbg_setcache_12f17c3a980650e4=function(e,t){e.cache=C[t]},e.wbg.__wbg_setcredentials_c3a22f1cd105a2c6=function(e,t){e.credentials=S[t]},e.wbg.__wbg_setheaders_834c0bdb6a8949ad=function(e,t){e.headers=t},e.wbg.__wbg_setmethod_3c5280fe5d890842=function(e,t,n){e.method=c(t,n)},e.wbg.__wbg_setmode_5dc300b865044b65=function(e,t){e.mode=k[t]},e.wbg.__wbg_setsignal_75b21ef3a81de905=function(e,t){e.signal=t},e.wbg.__wbg_signal_aaf9ad74119f20a4=function(e){return e.signal},e.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){let e="undefined"==typeof global?null:global;return d(e)?0:l(e)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){let e="undefined"==typeof globalThis?null:globalThis;return d(e)?0:l(e)},e.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){let e="undefined"==typeof self?null:self;return d(e)?0:l(e)},e.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){let e=window;return d(e)?0:l(e)},e.wbg.__wbg_status_f6360336ca686bf0=function(e){return e.status},e.wbg.__wbg_stringify_f7ed6987935b4a24=function(){return o(function(e){return JSON.stringify(e)},arguments)},e.wbg.__wbg_text_7805bea50de2af49=function(){return o(function(e){return e.text()},arguments)},e.wbg.__wbg_then_44b73946d2fb3e7d=function(e,t){return e.then(t)},e.wbg.__wbg_then_48b406749878a531=function(e,t,n){return e.then(t,n)},e.wbg.__wbg_url_ae10c34ca209681d=function(e,t){let n=u(t.url,r.__wbindgen_malloc,r.__wbindgen_realloc),i=_;b().setInt32(e+4,i,!0),b().setInt32(e+0,n,!0)},e.wbg.__wbg_value_cd1ffa7b1ab794f1=function(e){return e.value},e.wbg.__wbg_view_fd8a56e8983f448d=function(e){let t=e.view;return d(t)?0:l(t)},e.wbg.__wbg_warn_4ca3906c248c47c4=function(e){console.warn(e)},e.wbg.__wbindgen_as_number=function(e){return+e},e.wbg.__wbindgen_bigint_from_u64=function(e){return BigInt.asUintN(64,e)},e.wbg.__wbindgen_bigint_get_as_i64=function(e,t){let n="bigint"==typeof t?t:void 0;b().setBigInt64(e+8,d(n)?BigInt(0):n,!0),b().setInt32(e+0,!d(n),!0)},e.wbg.__wbindgen_boolean_get=function(e){return"boolean"==typeof e?+!!e:2},e.wbg.__wbindgen_cb_drop=function(e){let t=e.original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbindgen_closure_wrapper2963=function(e,t,n){return m(e,t,1300,y)},e.wbg.__wbindgen_closure_wrapper3081=function(e,t,n){return m(e,t,1350,v)},e.wbg.__wbindgen_debug_string=function(e,t){let n=u(function e(t){let n,r=typeof t;if("number"==r||"boolean"==r||null==t)return"".concat(t);if("string"==r)return'"'.concat(t,'"');if("symbol"==r){let e=t.description;return null==e?"Symbol":"Symbol(".concat(e,")")}if("function"==r){let e=t.name;return"string"==typeof e&&e.length>0?"Function(".concat(e,")"):"Function"}if(Array.isArray(t)){let n=t.length,r="[";n>0&&(r+=e(t[0]));for(let i=1;i<n;i++)r+=", "+e(t[i]);return r+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(n=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):n}(t),r.__wbindgen_malloc,r.__wbindgen_realloc),i=_;b().setInt32(e+4,i,!0),b().setInt32(e+0,n,!0)},e.wbg.__wbindgen_error_new=function(e,t){return Error(c(e,t))},e.wbg.__wbindgen_in=function(e,t){return e in t},e.wbg.__wbindgen_init_externref_table=function(){let e=r.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e.wbg.__wbindgen_is_bigint=function(e){return"bigint"==typeof e},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof e},e.wbg.__wbindgen_is_object=function(e){return"object"==typeof e&&null!==e},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof e},e.wbg.__wbindgen_is_undefined=function(e){return void 0===e},e.wbg.__wbindgen_jsval_eq=function(e,t){return e===t},e.wbg.__wbindgen_jsval_loose_eq=function(e,t){return e==t},e.wbg.__wbindgen_memory=function(){return r.memory},e.wbg.__wbindgen_number_get=function(e,t){let n="number"==typeof t?t:void 0;b().setFloat64(e+8,d(n)?0:n,!0),b().setInt32(e+0,!d(n),!0)},e.wbg.__wbindgen_number_new=function(e){return e},e.wbg.__wbindgen_string_get=function(e,t){let n="string"==typeof t?t:void 0;var i=d(n)?0:u(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=_;b().setInt32(e+4,a,!0),b().setInt32(e+0,i,!0)},e.wbg.__wbindgen_string_new=function(e,t){return c(e,t)},e.wbg.__wbindgen_throw=function(e,t){throw Error(c(e,t))},e}function K(e,t){return r=e.exports,J.__wbindgen_wasm_module=t,f=null,a=null,r.__wbindgen_start(),r}function G(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=q();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),K(new WebAssembly.Instance(e,t),e)}async function J(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new n.U(n(1751)));let t=q();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:a}=await W(await e,t);return K(i,a)}let Q=J},4680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>eq});var r=n(5155),i=n(2115),a=n(1213),s=n(63),c=n(7141),l=n(2639),o=n(2825),d=n(1607),_=n(1577),h=n(3912),g=n(3746),u=n(3599),f=n(3365),b=n(1812),x=n(5117),m=n(9177),j=n(9413),w=n(9058),p=n(5515);function y(e){let[t,n]=(0,i.useState)(""),[s,c]=(0,i.useState)(!1),l=(0,a.wA)();function o(){e.onAskClose(),c(!1),n("")}function d(e){e.preventDefault(),(0,p.checkUrl)(t)?(o(),l((0,m.QB)(t))):c(!0)}return(0,r.jsxs)(j.A,{show:e.show,onHide:o,size:"lg","aria-labelledby":"add-aggregator-title",centered:!0,children:[(0,r.jsx)(j.A.Header,{closeButton:!0,children:(0,r.jsx)(j.A.Title,{id:"add-aggregator-title",children:"New aggregator source"})}),(0,r.jsx)(j.A.Body,{children:(0,r.jsx)(g.A,{onSubmit:d,children:(0,r.jsxs)(w.A,{children:[(0,r.jsx)(g.A.Label,{children:"URL"}),(0,r.jsx)(g.A.Control,{type:"url",value:t,onChange:e=>n(e.target.value),isInvalid:s,autoFocus:!0}),(0,r.jsx)(g.A.Control.Feedback,{type:"invalid",children:"Invalid URL"})]})})}),(0,r.jsxs)(j.A.Footer,{children:[(0,r.jsx)(x.A,{variant:"secondary",onClick:o,children:"Close"}),(0,r.jsx)(x.A,{variant:"primary",onClick:d,children:"Save"})]})]})}function v(e){let[t,n]=(0,i.useState)(!1),s=(0,a.d4)(e=>e.settings.selectedAggregator),c=(0,a.d4)(e=>e.settings.availableAggregators),l=(0,a.d4)(e=>e.settings.canRemoveSelected),o=(0,a.wA)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{show:t,onAskClose:()=>n(!1)}),(0,r.jsx)(g.A.Group,{as:f.A,...e,children:(0,r.jsxs)(b.A,{children:[(0,r.jsx)(x.A,{variant:"outline-success",onClick:()=>n(!0),children:(0,r.jsx)("i",{className:"bi bi-plus-circle"})}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{variant:"outline-danger",onClick:()=>o((0,m.rT)()),children:(0,r.jsx)("i",{className:"bi bi-dash-circle"})}),(0,r.jsx)(_.A,{overlay:(0,r.jsx)(h.A,{children:"Unofficial Aggregator"}),children:(0,r.jsx)(x.A,{variant:"outline-warning",children:(0,r.jsx)("i",{className:"bi bi-exclamation-triangle"})})})]}),(0,r.jsx)(g.A.Select,{value:s,onChange:e=>o((0,m.QB)(e.target.value)),children:c.map((e,t)=>(0,r.jsx)("option",{value:e,children:e},"agg-"+t))}),(0,r.jsx)(_.A,{overlay:(0,r.jsx)(h.A,{children:"Copy url"}),children:(0,r.jsx)(x.A,{variant:"outline-secondary",onClick:function(){window.isSecureContext&&s&&navigator.clipboard.writeText(s).then(()=>{})},children:(0,r.jsx)("i",{className:"bi bi-clipboard"})})})]})})]})}var A=n(5387),C=n(8427),S=n(1804),k=n(439),N=n(1749),I=n(8403);function z(e){let{protocolParameters:t,padding:n,...i}=e,a="p-".concat(null!=n?n:"auto");return(0,r.jsxs)(I.A,{horizontal:!0,...i,children:[(0,r.jsxs)(I.A.Item,{className:"".concat(a),children:[(0,r.jsx)("em",{children:"k:"})," ",null==t?void 0:t.k]}),(0,r.jsxs)(I.A.Item,{className:"".concat(a),children:[(0,r.jsx)("em",{children:"m:"})," ",null==t?void 0:t.m]}),(0,r.jsxs)(I.A.Item,{className:"".concat(a),children:[(0,r.jsx)("em",{children:"f:"})," ",null==t?void 0:t.phi_f]})]})}var F=n(2430);function T(){var e;let[t,n]=(0,i.useState)({}),s=(0,a.d4)(e=>e.settings.selectedAggregator),l=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/epoch-settings")),o=(0,a.d4)(e=>e.settings.refreshSeed),d=(0,a.d4)(e=>e.settings.updateInterval),[_,h]=(0,i.useState)(void 0),[g,b]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(l).then(e=>200===e.status?e.json():{}).then(e=>n(e)).catch(e=>{n({}),console.error("Fetch epoch-settings error:",e)})};if(e(),d){let t=setInterval(e,d);return()=>clearInterval(t)}},[l,d,o]),(0,i.useEffect)(()=>{if((0,p.checkUrl)(s)){let e=new URLSearchParams;e.set("aggregator",s),b("/registrations-in-out?".concat(e.toString()))}if((0,p.checkUrl)(s)&&Number.isInteger(null==t?void 0:t.epoch)){let e=new URLSearchParams;e.set("aggregator",s),e.set("epoch",t.epoch),h("/registrations?".concat(e.toString()))}},[s,t]),(0,r.jsxs)(A.A,{children:[(0,r.jsx)(A.A.Body,{children:(0,r.jsx)(S.A,{children:(0,r.jsxs)(u.A,{children:[(0,r.jsxs)(f.A,{xs:12,md:"auto",children:[(0,r.jsx)("h5",{children:"Current Epoch"}),(0,r.jsx)("div",{className:"mb-2 ps-3",children:t.epoch})]}),(0,r.jsxs)(f.A,{xs:12,md:"auto",children:[(0,r.jsx)("h5",{children:"Registration Protocol Parameters"}),(0,r.jsx)(z,{protocolParameters:null!=(e=t.signer_registration_protocol)?e:t.next_protocol})]})]})})}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,className:"justify-content-md-end align-items-stretch justify-content-sm-center",children:[(0,r.jsxs)(k.A,{href:null!=_?_:"#",disabled:void 0===_,children:[(0,r.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,r.jsxs)(k.A,{href:null!=g?g:"#",disabled:void 0===g,children:[(0,r.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,r.jsx)(N.A,{href:l,variant:"outline-secondary"})]})})]})}function E(e){let{tooltip:t,...n}=e;return(0,r.jsx)(_.A,{overlay:(0,r.jsx)(h.A,{children:t}),children:(0,r.jsx)("span",{...n,children:(0,r.jsx)("i",{className:"bi bi-question-circle text-secondary"})})})}var P=n(3339);function R(e){let{children:t,title:n,...i}=e;return(0,r.jsx)(f.A,{xs:12,sm:6,md:4,lg:3,xl:2,className:"mb-3",...i,children:(0,r.jsx)(A.A,{className:"h-100",...i,children:(0,r.jsxs)(A.A.Body,{children:[(0,r.jsx)("h5",{children:n}),(0,r.jsx)("div",{className:"ps-1",children:t})]})})})}function B(e){let{label:t,children:n,className:i="",...a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between ".concat(i),...a,children:[(0,r.jsx)("div",{className:"me-2 flex-fill",children:(0,r.jsxs)("em",{children:[t,":"]})}),(0,r.jsx)("div",{className:"text-end",children:n})]}),(0,r.jsx)("hr",{className:"my-2"})]})}function M(e){let{value:t,total:n,...i}=e;return(0,r.jsx)(E,{tooltip:"".concat(t," out of ").concat(n),...i})}function O(e){var t,n,s,l,o,d,_,h;let{showContent:g=!0}=e,[f,b]=(0,i.useState)({}),[x,j]=(0,i.useState)({}),w=(0,a.d4)(e=>e.settings.selectedAggregator),y=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/status")),[v,A]=(0,i.useState)(void 0),[I,E]=(0,i.useState)(void 0),O=(0,a.d4)(e=>e.settings.refreshSeed),D=(0,a.d4)(e=>e.settings.updateInterval),[H,V]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(y).then(e=>200===e.status?e.json():{}).then(e=>{b(e),V(!1)}).catch(e=>{b({}),V(!0)})};if(e(),D){let t=setInterval(e,D);return()=>clearInterval(t)}},[y,D,O]),(0,i.useEffect)(()=>{var e,t,n,r;if(!(0,p.checkUrl)(w))return;let i=null!=(t=null==f||null==(e=f.aggregator_node_version)?void 0:e.split("+"))?t:[];j({number:null!=(n=i[0])?n:"0.0.0",sha:null!=(r=i[1])?r:void 0});let a=new URLSearchParams;if(a.set("aggregator",w),E("/registrations-in-out?".concat(a.toString())),Number.isInteger(null==f?void 0:f.epoch)){let e=new URLSearchParams;e.set("aggregator",w),e.set("epoch",f.epoch),A("/registrations?".concat(e.toString()))}},[w,f]),H?(0,r.jsx)(c.A,{direction:"horizontal",children:(0,r.jsx)(C.A,{in:g,children:(0,r.jsx)("div",{id:"contentRow",children:(0,r.jsx)(T,{})})})}):(0,r.jsxs)(S.A,{fluid:!0,children:[(0,r.jsx)(C.A,{in:g,children:(0,r.jsx)("div",{id:"contentRow",children:(0,r.jsxs)(u.A,{className:"d-flex flex-wrap justify-content-md-center",children:[(0,r.jsxs)(R,{title:"Epoch ".concat(f.epoch),children:[(0,r.jsx)(B,{label:"Cardano Network",className:"text-capitalize",children:f.cardano_network}),(0,r.jsx)(B,{label:"Cardano Era",children:f.cardano_era}),(0,r.jsx)(B,{label:"Mithril Era",className:"text-capitalize",children:f.mithril_era})]}),(0,r.jsxs)(R,{title:"SPOs",children:[(0,r.jsx)(B,{label:"Current Signers",children:null!=(t=f.total_signers)?t:0}),(0,r.jsx)(B,{label:"Next Signers",children:null!=(n=f.total_next_signers)?n:0}),(0,r.jsxs)(B,{label:"Cardano Adoption",children:[(0,p.percent)(f.total_signers,f.total_cardano_spo),"%"," ",(0,r.jsx)(M,{value:null!=(s=f.total_signers)?s:0,total:null!=(l=f.total_cardano_spo)?l:0})]})]}),(0,r.jsxs)(R,{title:"Stakes",children:[(0,r.jsx)(B,{label:"Current Signers",children:(0,r.jsx)(P.A,{lovelace:null!=(o=f.total_stakes_signers)?o:0})}),(0,r.jsx)(B,{label:"Next Signers",children:(0,r.jsx)(P.A,{lovelace:null!=(d=f.total_next_stakes_signers)?d:0})}),(0,r.jsxs)(B,{label:"Cardano Adoption",children:[(0,p.percent)(f.total_stakes_signers,f.total_cardano_stake),"%"," ",(0,r.jsx)(M,{value:null!=(_=(0,p.formatStake)(f.total_stakes_signers))?_:0,total:null!=(h=(0,p.formatStake)(f.total_cardano_stake))?h:0})]})]}),(0,r.jsxs)(R,{title:"Protocol Parameters",children:[(0,r.jsx)("em",{children:"Current:"}),(0,r.jsx)(z,{protocolParameters:f.protocol,padding:2}),(0,r.jsx)("em",{children:"Next:"}),(0,r.jsx)(z,{protocolParameters:f.next_protocol,padding:2})]}),(0,r.jsxs)(R,{title:"Versions",children:[(0,r.jsxs)(B,{label:"Aggregator",children:[x.number,x.sha&&(0,r.jsxs)("em",{children:[" (",x.sha,")"]})]}),(0,r.jsx)(B,{label:"Cardano",children:f.cardano_node_version})]})]})})}),(0,r.jsx)(u.A,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,className:"align-items-stretch justify-content-sm-center border bg-light rounded p-2",children:[(0,r.jsxs)(k.A,{className:"ms-auto",href:null!=v?v:"#",disabled:void 0===v,children:[(0,r.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,r.jsxs)(k.A,{href:null!=I?I:"#",disabled:void 0===I,children:[(0,r.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,r.jsx)(N.A,{href:y,variant:"outline-secondary",tooltip:"Aggregator Status Raw JSON",className:"ms-auto"})]})})]})}function D(e){let t=(0,a.d4)(e=>e.settings.updateInterval),n=(0,a.wA)();return(0,r.jsx)(g.A.Group,{as:f.A,...e,children:(0,r.jsxs)(b.A,{children:[(0,r.jsx)(x.A,{type:"button",onClick:()=>n((0,m.XN)()),variant:"primary",children:"Refresh"}),(0,r.jsx)(_.A,{overlay:(0,r.jsx)(h.A,{children:"Set auto-refresh interval"}),children:(0,r.jsxs)(g.A.Select,{"aria-label":"Auto refresh interval",value:t,onChange:e=>n((0,m.PY)(parseInt(e.target.value))),children:[(0,r.jsx)("option",{value:void 0,children:"Off"}),(0,r.jsx)("option",{value:1e3,children:"1 second"}),(0,r.jsx)("option",{value:5e3,children:"5 seconds"}),(0,r.jsx)("option",{value:1e4,children:"10 seconds"})]})})]})})}function H(){let[e,t]=(0,i.useState)(!0);return(0,r.jsxs)(c.A,{gap:2,children:[(0,r.jsx)("h3",{children:(0,r.jsxs)("a",{role:"button",onClick:()=>t(!e),"aria-expanded":e,"aria-controls":"contentRow",children:["Aggregator"," ",(0,r.jsx)(_.A,{overlay:(0,r.jsx)(h.A,{children:"Show/hide Aggregator status"}),children:(0,r.jsx)("i",{className:"bi bi-chevron-".concat(e?"up":"down")})})]})}),(0,r.jsx)(g.A,{children:(0,r.jsxs)(u.A,{xs:1,sm:2,className:"row-gap-2",children:[(0,r.jsx)(v,{sm:8}),(0,r.jsx)(D,{sm:4})]})}),(0,r.jsx)(O,{showContent:e})]})}var V=n(504),U=n(3162);function L(e){let{hash:t,index:n}=e;return(0,r.jsxs)(c.A,{direction:"horizontal",gap:2,children:[(0,r.jsxs)("h6",{className:"text-secondary card-title",children:["#",n+1,"."]}),(0,r.jsx)(A.A.Title,{children:(0,r.jsx)(U.A,{hash:t})})]})}var W=n(2898),q=n.n(W);function K(e){let{label:t,children:n,className:i="",...a}=e;return(0,r.jsxs)(f.A,{className:"mx-2 px-0 py-1 d-flex flex-column justify-content-between ".concat(i),...a,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:q().artifactColLabel,children:(0,r.jsxs)("em",{children:[t,":"]})}),(0,r.jsx)("div",{className:"test-end",children:n})]}),(0,r.jsx)("hr",{className:"my-1"})]})}function G(e){let{show:t}=e;return!0===t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.default,{bg:"primary",children:"Latest"})," "]}):(0,r.jsx)(r.Fragment,{})}var J=n(859),Q=n(548),X=n(877),Y=n(3087);function Z(e){let{signedEntityType:t,table:n=!1}=e,i=(0,p.parseSignedEntity)(t);return n?(0,r.jsx)(J.A,{className:"mb-3",children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:2,children:(0,r.jsx)("h6",{children:i.name})})}),Object.entries(i.fields).map(e=>{let[t,n]=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)("em",{children:[t,":"]})}),(0,r.jsx)("td",{children:n})]},t)})]})}):(0,r.jsxs)(I.A,{children:[(0,r.jsx)(I.A.Item,{children:(0,r.jsx)("h6",{children:i.name})}),(0,r.jsx)(I.A.Item,{children:(0,r.jsx)(I.A,{horizontal:"xxl",children:Object.entries(i.fields).map(e=>{let[t,n]=e;return(0,r.jsxs)(I.A.Item,{children:[t,": ",n]},t)})})})]})}var $=n(3636),ee=n(5442),et=n(7606),en=n(6806),er=n(409);function ei(e){let{datetime:t}=e;return(0,r.jsx)(r.Fragment,{children:new Date(t).toLocaleString()})}var ea=n(1483),es=n.n(ea);let ec=0,el={ready:1,validationInProgress:2,done:3},eo={started:"CertificateChainValidationStarted",certificateValidated:"CertificateValidated",certificateFetchedFromCache:"CertificateFetchedFromCache",done:"CertificateChainValidated"},ed={beforeTable:1,inTable:2,afterTable:3};function e_(e){let{hash:t,onClick:n,showLink:i,linkVariant:a="dark"}=e;return i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"#",target:"_blank",className:"link-".concat(a," link-underline-opacity-0 link-underline-opacity-100-hover"),onClick:function(e){e.preventDefault(),n(t)},children:t})," ",(0,r.jsx)(en.A,{textToCopy:t})]}):(0,r.jsx)(U.A,{hash:t})}function eh(e){let{client:t,certificate:n,hideSpinner:a=!1,showCertificateLinks:s=!1,onStepChange:c=e=>{},onChainValidationError:l=e=>{},onCertificateClick:o=e=>{}}=e,[d,_]=(0,i.useState)(el.ready),[h,g]=(0,i.useState)(void 0),[u,f]=(0,i.useState)(null),[b,x]=(0,i.useState)([]);async function m(e,t){let n=performance.now();await e.verify_certificate_chain(t),f((0,p.formatProcessDuration)(n))}function j(e){let t=e.data,n=(0,r.jsx)(r.Fragment,{}),i=ed.afterTable;switch(t.type){case eo.started:i=ed.beforeTable,n=(0,r.jsx)(r.Fragment,{children:"The certificate chain validation has started..."});break;case eo.certificateValidated:i=ed.inTable,n={certificateHash:t.payload.certificate_hash,cached:!1};break;case eo.certificateFetchedFromCache:i=ed.inTable,n={certificateHash:t.payload.certificate_hash,cached:!0};break;case eo.done:n=(0,r.jsxs)(r.Fragment,{children:["The certificate chain is valid ",(0,r.jsx)("i",{className:"text-success bi bi-check-circle-fill"})]});break;default:n=(0,r.jsx)(r.Fragment,{children:t})}x(e=>[...e,{id:ec++,position:i,message:n}])}async function w(){await t.reset_certificate_verifier_cache()}return(0,i.useEffect)(()=>{let e=new BroadcastChannel("mithril-client");return e.addEventListener("message",j),()=>e.close()},[]),(0,i.useEffect)(()=>{c(d)},[d,c]),(0,i.useEffect)(()=>{h&&l(h)},[h,l]),(0,i.useEffect)(()=>{d===el.ready&&(x([]),g(void 0),t&&n&&(_(el.validationInProgress),m(t,n.hash).catch(e=>{console.error("Certificate Chain verification error:\n",e),g(e)}).finally(()=>_(el.done))))},[d,t,n]),(0,r.jsx)(r.Fragment,{children:Object.entries(n).length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{children:"Certificate Details"}),(0,r.jsxs)("div",{children:["Certificate hash:"," ",(0,r.jsx)(e_,{hash:n.hash,onClick:()=>o(n.hash),showLink:s,linkVariant:"primary"})]}),(0,r.jsxs)("div",{children:["Epoch: ",n.epoch]}),(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsxs)("div",{children:["Sealed at: ",(0,r.jsx)(ei,{datetime:n.metadata.sealed_at})]}),d===el.validationInProgress&&(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("div",{className:"ms-1 pe-1",children:"Verifying the certificate chain..."}),!a&&(0,r.jsx)(ee.A,{animation:"border",variant:"primary"})]}),d===el.done&&(0,r.jsxs)("div",{className:"ms-1 pe-1",children:["Verification duration: ",u]})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:es().events,children:[(0,r.jsx)("span",{}),(0,r.jsxs)("div",{children:[b.filter(e=>e.position===ed.beforeTable).map(e=>(0,r.jsx)("div",{children:e.message},e.id)),(0,r.jsxs)(J.A,{className:"my-2",responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Certificate hash"}),(0,r.jsx)("th",{children:"Checked"})]})}),(0,r.jsx)("tbody",{children:b.filter(e=>e.position===ed.inTable).map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(e_,{hash:e.message.certificateHash,onClick:()=>o(e.message.certificateHash),showLink:s})}),(0,r.jsx)("td",{children:e.message.cached?(0,r.jsx)(er.A,{tooltip:"cached",variant:"warning",icon:"clock-fill"}):(0,r.jsx)(er.A,{tooltip:"yes",variant:"success",icon:"check-circle-fill"})})]},e.id))})]}),b.filter(e=>e.position===ed.afterTable).map(e=>(0,r.jsx)("div",{children:e.message},e.id)),t.is_certificate_verifier_cache_enabled()&&d===el.done&&(0,r.jsxs)(r.Fragment,{children:["Cache enabled:"," ",(0,r.jsx)("a",{href:"#",onClick:w,children:"reset cache"})]}),void 0!==h&&(0,r.jsxs)(et.A,{variant:"danger",className:"mt-2",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Invalid certificate chain"]}),(0,r.jsx)("div",{className:es().error,children:h.toString()})]})]})]})]})})}function eg(e){let{show:t,onClose:s,certificateHash:c}=e,l=(0,a.d4)(e=>e.settings.selectedAggregator),[o,d]=(0,i.useState)(!1),[_,h]=(0,i.useState)(!1),[g,u]=(0,i.useState)(void 0),[f,b]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{if(t){let{fetchGenesisVerificationKey:e,newMithrilWasmClient:t}=n(3554);h(!1),e(l).then(e=>t(l,e)).then(e=>(u(e),e.get_mithril_certificate(c))).then(e=>b(e)).catch(e=>console.error("VerifyCertificateModal init error:",e))}},[t,l,c]),(0,i.useEffect)(()=>{o||h(!1)},[o]),(0,r.jsxs)(j.A,{show:t,onHide:function(){o?h(!0):s()},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(j.A.Header,{closeButton:!0,children:(0,r.jsx)(j.A.Title,{children:"Verify certificate"})}),(0,r.jsx)(j.A.Body,{children:t&&(0,r.jsxs)(r.Fragment,{children:[_&&(0,r.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."}),g&&f&&(0,r.jsx)(eh,{client:g,certificate:f,onStepChange:e=>d(e===el.validationInProgress)})]})}),(0,r.jsx)(j.A.Footer,{})]})}function eu(e){var t,n;let{hash:s,hideButtons:c=!1,onHashChange:l=e=>{}}=e,[o,d]=(0,i.useState)({}),[_,h]=(0,i.useState)({stakesBreakdown:{}}),[g,b]=(0,i.useState)(!1),w=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/certificate/").concat(s));return(0,i.useEffect)(()=>{s&&(0,F.fetchAggregator)(w).then(e=>200===e.status?e.json():{}).then(e=>{d(e),h({stakesBreakdown:(0,Y.an)(e.metadata.signers)})}).catch(e=>{d({}),console.error("Fetch certificate error:",e)})},[w,s]),(0,r.jsxs)(j.A,{show:void 0!==s,onHide:function(){l(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(j.A.Header,{className:"text-break",closeButton:!0,children:(0,r.jsxs)(j.A.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",o.hash]})}),(0,r.jsx)(j.A.Body,{children:0===Object.entries(o).length?(0,r.jsx)("p",{children:"Not found"}):(0,r.jsxs)(S.A,{className:g&&"d-none",children:[(0,r.jsxs)(u.A,{md:1,xl:"auto",children:[(0,r.jsxs)(f.A,{xl:4,className:"mb-3",children:[(0,r.jsx)("h4",{children:"Beacon"}),(0,r.jsx)(Z,{signedEntityType:o.signed_entity_type,table:!0}),(0,r.jsx)("h4",{children:"Protocol Parameters"}),(0,r.jsx)(z,{className:"mb-3",protocolParameters:o.metadata.parameters}),(0,r.jsx)("h4",{children:"Statistics"}),(0,r.jsx)(J.A,{className:"mb-0",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Number of signers:"})}),(0,r.jsx)("td",{children:null!=(t=null==o?void 0:o.metadata.signers.length)?t:0})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Total stakes:"})}),(0,r.jsx)("td",{children:(0,r.jsx)(P.A,{lovelace:null!=(n=null==o?void 0:o.metadata.signers.reduce((e,t)=>e+t.stake,0))?n:0})})]})]})})]}),(0,r.jsx)(f.A,{xl:8,className:"mb-1",children:""!==o.genesis_signature?(0,r.jsxs)("div",{children:["This is the chain"," ",(0,r.jsx)("em",{children:(0,r.jsx)("strong",{children:"Genesis Certificate"})}),", since it's manually created it doesn't contain any Signers."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Stakes breakdown"}),(0,r.jsx)(X.yP,{data:_.stakesBreakdown})]})})]}),(0,r.jsx)(u.A,{children:""===o.genesis_signature&&(0,r.jsx)(Q.A,{children:(0,r.jsxs)(Q.A.Item,{eventKey:"signers",children:[(0,r.jsx)(Q.A.Header,{children:(0,r.jsx)("h4",{children:"Signers"})}),(0,r.jsx)(Q.A.Body,{children:0===o.metadata.signers.length?(0,r.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,r.jsx)($.A,{signers:o.metadata.signers})})]})})})]})}),(0,r.jsxs)(j.A.Footer,{children:[!c&&(0,r.jsx)(x.A,{size:"sm",onClick:()=>b(!0),className:"text-break",children:"Verify certificate"}),""!==o.genesis_signature?(0,r.jsx)(V.default,{bg:"warning",children:"Genesis"}):!c&&(0,r.jsxs)(x.A,{size:"sm",onClick:function(){l(o.previous_hash)},className:"text-break",children:["Previous hash: ",o.previous_hash]}),(0,r.jsx)(N.A,{href:w,size:"sm"})]}),!c&&(0,r.jsx)(eg,{show:g,onClose:()=>b(!1),certificateHash:o.hash})]})}function ef(e){let[t,n]=(0,i.useState)([]),[s,l]=(0,i.useState)(void 0),o=(0,a.d4)(m.z1),d=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/artifact/snapshots")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{hash:s,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Db Snapshots"," ",(0,r.jsx)(N.A,{href:d,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No snapshot available"}):t.map((e,t)=>{var n,i;return(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.digest,index:t}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(K,{label:"Epoch",children:e.beacon.epoch}),(0,r.jsx)(K,{label:"Immutable file number",children:e.beacon.immutable_file_number}),(0,r.jsx)(K,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsxs)(K,{label:"Archive size",children:[(0,p.formatBytes)(e.size+(null!=(n=e.ancillary_size)?n:0)),(0,r.jsx)(E,{tooltip:(0,r.jsxs)("span",{children:["Immutable files archive size: ",(0,p.formatBytes)(e.size),(0,r.jsx)("hr",{className:"m-1"}),"Ancillary archive size:"," ",(0,p.formatBytes)(null!=(i=e.ancillary_size)?i:0)]})})]}),(0,r.jsx)(K,{label:"Cardano node",children:e.cardano_node_version}),(0,r.jsx)(K,{label:"Compression",children:e.compression_algorithm}),(0,r.jsx)(K,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(G,{show:0===t}),(0,r.jsx)(V.default,{bg:"secondary",children:e.network}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{l(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:"".concat(o,"/artifact/snapshot/").concat(e.digest),size:"sm"})]})})]})},e.digest)})})})]})]})}var eb=n(7185),ex=n(7695),em=n(9732),ej=n.n(em);let ew=()=>(0,r.jsx)("i",{className:"bi bi-download"}),ep=e=>(null==e?void 0:e.type)==="cloud_storage"||(null==e?void 0:e.type)==="aggregator";function ey(e){let{ariaLabel:t,locations:n,value:i,onChange:a}=e;return(0,r.jsx)(g.A.Select,{"aria-label":t,value:i,onChange:a,children:null==n?void 0:n.map((e,t)=>(0,r.jsx)("option",{value:t,children:function(e){switch(e){case"cloud_storage":return"Cloud Storage";case"aggregator":return"Aggregator";default:return e}}(e.type)},"digest-".concat(e.type,"-").concat(t)))})}function ev(e){let{max:t,value:n,onChange:i}=e;return(0,r.jsx)(g.A.Control,{type:"number",value:n,onChange:i,required:!0,min:0,max:t})}function eA(e){let{artifactUrl:t,...n}=e,[a,s]=(0,i.useState)(!1),l=(0,i.useRef)(null),[o,d]=(0,i.useState)(0),[_,h]=(0,i.useState)(0),[m,j]=(0,i.useState)(!1),[w,y]=(0,i.useState)(void 0),[v,A]=(0,i.useState)(0),[C,k]=(0,i.useState)(0),[N,I]=(0,i.useState)(0),[z,T]=(0,i.useState)(!1),E=()=>s(!1);function P(e){window.open(e,"_blank","noopener")}return(0,i.useEffect)(()=>{a&&!m&&(0,F.fetchAggregator)(t).then(e=>e.json()).then(e=>{y(e);let t=e.beacon.immutable_file_number;d(t),h(t)}).catch(e=>{y(void 0),d(0),h(0),console.error("Fetch Cardano DB v2 artifact details error:",e)}).finally(()=>j(!0))},[t,m,a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.A,{ref:l,variant:"outline-secondary",onClick:()=>s(!a),...n,children:["Download ",(0,r.jsx)(ew,{})]}),(0,r.jsx)(eb.A,{target:l.current,show:a,rootClose:!0,onHide:E,placement:"top-end",children:(0,r.jsxs)(ex.A,{className:ej().downloadPopover,children:[(0,r.jsxs)(ex.A.Header,{children:["Download Options"," ",(0,r.jsx)(x.A,{variant:"close",onClick:E,"aria-label":"Close",size:"sm"})]}),(0,r.jsx)(ex.A.Body,{as:S.A,className:"p-3",children:m?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.A,{gap:2,children:[(0,r.jsxs)(et.A,{variant:"danger",className:"mb-1",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"bi bi-exclamation-triangle"})," No certification"]}),"To download certified artifacts you ",(0,r.jsx)("strong",{children:"must"})," use the"," ",(0,r.jsx)(et.A.Link,{href:"https://mithril.network/doc/next/manual/develop/nodes/mithril-client",target:"_blank",children:"Mithril client"})," ","which will make sure they are correctly signed by the Mithril protocol."]}),(0,r.jsxs)(g.A.Text,{children:["Immutable (max: ",_,")"]}),(0,r.jsx)(g.A,{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),!0===e.target.checkValidity()){let e=null==w?void 0:w.immutables.locations[C];(null==e?void 0:e.type)==="cloud_storage"&&P((0,p.getImmutableUrlFromTemplate)(e.uri.Template,o)),T(!1)}else T(!0)},validated:z,children:(0,r.jsxs)(b.A,{children:[(0,r.jsx)(ev,{type:"text",max:_,value:o,onChange:e=>d(e.target.value)}),(0,r.jsx)(ey,{ariaLabel:"Immutable locations",locations:null==w?void 0:w.immutables.locations,onChange:e=>k(e.target.value),value:C}),(0,r.jsx)(x.A,{variant:"primary",type:"submit",children:(0,r.jsx)(ew,{})})]})}),(0,r.jsx)(g.A.Text,{children:"Digests"}),(0,r.jsxs)(b.A,{children:[(0,r.jsx)(ey,{ariaLabel:"Digests locations",locations:null==w?void 0:w.digests.locations,onChange:e=>A(e.target.value),value:v}),(0,r.jsx)(x.A,{variant:"primary",onClick:function(){let e=null==w?void 0:w.digests.locations[v];ep(e)&&P(e.uri)},children:(0,r.jsx)(ew,{})})]}),(0,r.jsx)(g.A.Text,{children:"Ancillary"}),(0,r.jsxs)(b.A,{children:[(0,r.jsx)(ey,{ariaLabel:"Ancillary locations",locations:null==w?void 0:w.ancillary.locations,onChange:e=>I(e.target.value),value:N}),(0,r.jsx)(x.A,{variant:"primary",onClick:function(){let e=null==w?void 0:w.ancillary.locations[N];ep(e)&&P(e.uri)},children:(0,r.jsx)(ew,{})})]})]})}):(0,r.jsx)(u.A,{className:"mb-2",children:(0,r.jsx)(f.A,{children:(0,r.jsx)(ee.A,{animation:"border"})})})})]})})]})}function eC(e){let[t,n]=(0,i.useState)([]),[s,l]=(0,i.useState)(void 0),o=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/artifact/cardano-database")),d=(0,a.d4)(e=>e.settings.refreshSeed),_=(0,a.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(o).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),_){let t=setInterval(e,_);return()=>clearInterval(t)}},[o,_,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{hash:s,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Db Snapshots v2"," ",(0,r.jsx)(N.A,{href:o,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No cardano database snapshot available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(K,{label:"Epoch",children:e.beacon.epoch}),(0,r.jsx)(K,{label:"Immutable file number",children:e.beacon.immutable_file_number}),(0,r.jsx)(K,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsxs)(K,{label:"DB size",children:[(0,p.formatBytes)(e.total_db_size_uncompressed)," ",(0,r.jsx)(E,{tooltip:"Total uncompressed database size"})]}),(0,r.jsx)(K,{label:"Cardano node",children:e.cardano_node_version}),(0,r.jsx)(K,{label:"Merkle Root",children:e.merkle_root}),(0,r.jsx)(K,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(G,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{l(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(eA,{size:"sm",artifactUrl:"".concat(o,"/").concat(e.hash)}),(0,r.jsx)(N.A,{href:"".concat(o,"/").concat(e.hash),size:"sm"})]})})]})},e.hash))})})]})]})}function eS(e){let[t,n]=(0,i.useState)([]),[s,l]=(0,i.useState)(void 0),o=(0,a.d4)(m.z1),d=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/artifact/cardano-stake-distributions")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch cardanoStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{aggregator:o,hash:s,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Stake Distribution"," ",(0,r.jsx)(N.A,{href:d,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No cardano stake distribution available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(K,{label:"Epoch",children:e.epoch}),(0,r.jsx)(K,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsx)(K,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(G,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{l(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:"".concat(o,"/artifact/cardano-stake-distribution/").concat(e.hash),size:"sm"})]})})]})},e.hash))})})]})]})}function ek(e){let{maxAllowedHashesByRequest:t}=e,n=Math.max(t,1);return(0,r.jsx)(w.A,{children:(0,r.jsxs)(b.A,{hasValidation:!0,children:[(0,r.jsx)(x.A,{type:"submit",children:"Certify transactions"}),(0,r.jsx)(g.A.Control,{name:"txHashes",type:"text",placeholder:"comma-separated list of transactions hashes",required:!0,pattern:" *(\\w+ *, *){0,".concat(n-1,"}\\w+,? *")}),(0,r.jsx)(g.A.Control.Feedback,{type:"invalid",children:"Please provide a comma-separated list of transactions hashes."})]})})}function eN(e){let t,{currentStep:n,isProofValid:i,isCertificateChainValid:a,onStepClick:s=e=>{}}=e,c=[{step:eM.fetchingProof,text:"Fetching Transactions Proof"},{step:eM.validatingProof,text:"Verifying Transactions Proof"},{step:eM.validatingCertificateChain,text:"Validating Certificate Chain"}];return(0,r.jsxs)(I.A,{horizontal:"sm",activeKey:n,numbered:!0,children:[c.map(e=>{let{step:t,text:c}=e;return(0,r.jsxs)(I.A.Item,{action:!0,eventKey:t,disabled:t>eM.validatingProof&&!i,onClick:()=>s(t),variant:function(e,t){if(e<t)return"light";if(t===e)return"primary";let n="";switch(t){case eM.fetchingProof:n="light";break;case eM.validatingProof:n=i?"light":"danger";break;case eM.validatingCertificateChain:n=i&&a?"light":"danger"}return n}(n,t),children:[c," ",n===t&&(0,r.jsx)(ee.A,{size:"sm"})]},t)}),(0,r.jsx)(I.A.Item,{action:!0,onClick:()=>s(eM.done),eventKey:eM.done,variant:(t="light",n===eM.done&&(t=i&&a?"success":"danger"),t),children:"Finish"})]})}var eI=n(6203),ez=n(3352);function eF(e){let{hash:t}=e,n=(0,a.d4)(e=>(0,eI.JN)(e)),i=(0,p.getCExplorerUrl)(n),s=i?"".concat(i,"/tx/").concat(t):void 0;return(0,r.jsx)(ez.m,{url:s,text:t,textClass:"text-break",showCopyButton:!0})}function eT(e){let{certificate:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"mb-2 px-2 fw-light",children:"The point of the Cardano chain used during the verification process."}),(0,r.jsxs)(I.A,{horizontal:!0,children:[(0,r.jsxs)(I.A.Item,{children:[(0,r.jsx)("span",{className:"fst-italic",children:"Epoch: "}),t.epoch]}),(0,r.jsxs)(I.A.Item,{children:[(0,r.jsx)("span",{className:"fst-italic",children:"Block number: "}),t.signed_entity_type.CardanoTransactions[1]]})]})]})}function eE(e){let{transactions:t}=e;return(0,r.jsxs)(J.A,{responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Transaction Hash"}),(0,r.jsx)("th",{children:"Certified"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(eF,{hash:e.hash})}),(0,r.jsx)("td",{children:e.certified?(0,r.jsx)(er.A,{tooltip:"Certified by Mithril",variant:"success",icon:"mithril"}):(0,r.jsx)(er.A,{tooltip:"Not certified",variant:"danger",icon:"shield-slash-fill"})})]},e.hash))})]})}function eP(e){let{certificate:t,isSuccess:n,certifiedTransactions:a,nonCertifiedTransactions:s}=e,[c,l]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=a.map(e=>({hash:e,certified:n})).concat(s.map(e=>({hash:e,certified:!1})));e.sort((e,t)=>e.hash<t.hash?-1:+(e.hash>t.hash)),l(e)},[n,a,s]),(0,r.jsxs)(r.Fragment,{children:[n?(0,r.jsx)(et.A,{variant:"success",className:"mb-2",children:(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"mi mi-logo"})," Mithril certified the transactions"]})}):(0,r.jsxs)(et.A,{variant:"danger",className:"mb-2",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,r.jsx)("p",{className:"mb-1",children:"Either the transactions proof is invalid or none of the transactions is certified."}),(0,r.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,r.jsx)("i",{className:"bi bi-info-circle"})," Mithril may still have to certify those transactions."]})]}),(0,r.jsx)("h5",{children:"Beacon"}),(0,r.jsx)(eT,{certificate:t}),(0,r.jsx)("h5",{className:"mt-2",children:"Transactions"}),(0,r.jsx)(eE,{transactions:c}),n&&s.length>0&&(0,r.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,r.jsx)("i",{className:"bi bi-info-circle"})," Some transactions could not be certified, Mithril may still have to certify those transactions or they don't exist in the blockchain."]})]})}function eR(e){let{transactionHashes:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Fetching a transactions proof of membership from the aggregator"}),(0,r.jsxs)(J.A,{responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("th",{children:"Transaction Hash to certify"})})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsx)("tr",{children:(0,r.jsx)("td",{children:(0,r.jsx)(U.A,{hash:e})})},e))})]})]})}function eB(e){let{isProofValid:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Checking transactions proof validity and certificate matching"}),(0,r.jsxs)(J.A,{responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Verification"}),(0,r.jsx)("th",{children:"Verified"})]})}),(0,r.jsx)("tbody",{children:["Transactions proof validity","Certificate matches transactions proof"].map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e}),(0,r.jsx)("td",{children:t?(0,r.jsx)(er.A,{variant:"success",tooltip:"yes",icon:"check-circle-fill"}):(0,r.jsx)(er.A,{variant:"danger",tooltip:"no",icon:"x-circle"})})]},e))})]})]})}let eM={ready:1,fetchingProof:2,validatingProof:3,validatingCertificateChain:4,done:5};function eO(e){let{transactionHashes:t,onHashesChange:s=e=>{}}=e,c=(0,a.d4)(e=>e.settings.selectedAggregator),[l,d]=(0,i.useState)(void 0),[_,h]=(0,i.useState)(void 0),[g,b]=(0,i.useState)(void 0),[x,m]=(0,i.useState)(el.ready),[w,p]=(0,i.useState)({}),[y,v]=(0,i.useState)(!1),[A,C]=(0,i.useState)(!1),[S,k]=(0,i.useState)(!0),[N,I]=(0,i.useState)(eM.ready),[z,F]=(0,i.useState)(M(eM.ready)),[T,E]=(0,i.useState)(void 0);async function P(e,t){let n=await e.get_cardano_transaction_proofs(t),r=await e.get_mithril_certificate(n.certificate_hash);p(n),h(r)}async function R(e,t,n){let r=await e.verify_cardano_transaction_proof_then_compute_message(t,n),i=await e.verify_message_match_certificate(r,n)===!0;return C(i),i}function B(e){console.error("Cardano Transactions Certification Error:",e),E(e),I(eM.done)}function M(e){switch(e){case eM.validatingCertificateChain:case eM.validatingProof:case eM.done:return"#step-".concat(e);case eM.ready:case eM.fetchingProof:default:return"#step-".concat(eM.fetchingProof)}}return(0,i.useEffect)(()=>{if(v(!1),C(!1),k(!0),h(void 0),I(eM.ready),E(void 0),(null==t?void 0:t.length)>0){let{fetchGenesisVerificationKey:e,newMithrilWasmClient:t}=n(3554);e(c).then(e=>t(c,e)).then(e=>d(e)).then(()=>I(eM.fetchingProof)).catch(e=>B(e))}},[c,t]),(0,i.useEffect)(()=>{x===el.done&&(I(eM.done),v(!1))},[x]),(0,i.useEffect)(()=>{F(M(N))},[N]),(0,i.useEffect)(()=>{N===eM.fetchingProof&&P(l,t).then(()=>setTimeout(()=>{I(eM.validatingProof)},350)).catch(e=>B(e))},[l,N,t]),(0,i.useEffect)(()=>{N===eM.validatingProof&&void 0!==_&&R(l,w,_).then(e=>{if(e)return setTimeout(()=>{I(eM.validatingCertificateChain)},250);I(eM.done)}).catch(e=>B(e))},[l,N,w,_]),(0,r.jsxs)(j.A,{show:void 0!==t&&t.length>0,onHide:function(){N!==eM.done?v(!0):s([])},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(j.A.Header,{className:"text-break",closeButton:!0,children:(0,r.jsx)(j.A.Title,{id:"contained-modal-title-vcenter",children:"Cardano Transactions Certification"})}),(0,r.jsx)(j.A.Body,{children:N>eM.ready&&(0,r.jsxs)(o.A.Container,{activeKey:z,children:[(0,r.jsx)(u.A,{className:"mb-2",children:(0,r.jsxs)(f.A,{children:[(0,r.jsx)(eN,{currentStep:N,isProofValid:A,isCertificateChainValid:S,onStepClick:function(e){N===eM.done&&F(M(e))}}),y&&(0,r.jsx)(et.A,{variant:"warning",className:"mt-2",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."})]})}),(0,r.jsx)(u.A,{className:g?"d-none":"",children:(0,r.jsx)(f.A,{children:(0,r.jsxs)(o.A.Content,{children:[(0,r.jsx)(o.A.Pane,{eventKey:M(eM.fetchingProof),children:(0,r.jsx)(eR,{transactionHashes:t})}),(0,r.jsx)(o.A.Pane,{eventKey:M(eM.validatingProof),children:(0,r.jsx)(eB,{isProofValid:A})}),(0,r.jsx)(o.A.Pane,{eventKey:M(eM.validatingCertificateChain),children:N>=eM.validatingCertificateChain&&A&&(0,r.jsx)(eh,{client:l,certificate:_,onStepChange:e=>m(e),onChainValidationError:()=>k(!1),onCertificateClick:function(e){N===eM.done&&b(e)},showCertificateLinks:!0,hideSpinner:!0})}),(0,r.jsxs)(o.A.Pane,{eventKey:M(eM.done),children:[N===eM.done&&void 0===T&&(0,r.jsx)(eP,{isSuccess:A&&S,certificate:_,certifiedTransactions:w.transactions_hashes,nonCertifiedTransactions:w.non_certified_transactions}),N===eM.done&&void 0!==T&&(0,r.jsxs)(et.A,{variant:"danger",className:"mb-2",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,r.jsx)("p",{className:"mb-2",children:"An error occurred during the verification process. Please try again."}),(0,r.jsx)("hr",{}),(0,r.jsx)("pre",{className:"mb-0",children:(0,r.jsx)("code",{children:T.toString()})})]})]})]})})})]})}),(0,r.jsx)(j.A.Footer,{}),(0,r.jsx)(eu,{hash:g,onHashChange:e=>b(e),hideButtons:!0})]})}var eD=n(2579);function eH(e){var t,n;let[s,l]=(0,i.useState)([]),[o,d]=(0,i.useState)(void 0),[_,h]=(0,i.useState)(!1),[b,j]=(0,i.useState)([]),w=(0,a.d4)(m.z1),p=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/artifact/cardano-transactions")),y=(0,a.d4)(e=>e.settings.refreshSeed),v=(0,a.d4)(e=>e.settings.updateInterval),C=(0,a.d4)(e=>(0,m.v)(e));return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(p).then(e=>e.json()).then(e=>l(e)).catch(e=>{l([]),console.error("Fetch cardano transactions snapshots error:",e)})};if(e(),v){let t=setInterval(e,v);return()=>clearInterval(t)}},[p,v,y]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{hash:o,onHashChange:function(e){d(e)}}),(0,r.jsx)(eO,{transactionHashes:b,onHashesChange:function(e){j(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Transactions Snapshots"," ",(0,r.jsx)(N.A,{href:p,variant:"outline-light",size:"sm"})]}),(0,r.jsxs)(S.A,{fluid:!0,children:[(0,r.jsx)(u.A,{className:"mb-2",children:(0,r.jsx)(g.A,{onSubmit:function(e){e.preventDefault();let t=e.target;if(!0===t.checkValidity()){var n;let e=Object.fromEntries(new FormData(t).entries()),r=(null!=(n=null==e?void 0:e.txHashes)?n:"").split(",").map(e=>e.trim()).filter(e=>e.length>0);r.sort(),j(r),h(!1)}else h(!0)},noValidate:!0,validated:_,children:(0,r.jsx)(u.A,{children:(0,r.jsx)(ek,{maxAllowedHashesByRequest:null!=(n=null==C||null==(t=C.cardano_transactions_prover)?void 0:t.max_hashes_allowed_by_request)?n:eD.defaultAggregatorCapabilities.cardano_transactions_prover.max_hashes_allowed_by_request})})})}),(0,r.jsx)(u.A,{children:0===Object.entries(s).length?(0,r.jsx)("p",{children:"No Cardano Transactions Snapshot available"}):s.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(K,{label:"Epoch",children:e.epoch}),(0,r.jsx)(K,{label:"Block Number",children:e.block_number}),(0,r.jsx)(K,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsx)(K,{label:"Merkle Root",children:e.merkle_root}),(0,r.jsx)(K,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(G,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{d(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:"".concat(w,"/artifact/cardano-transaction/").concat(e.hash),size:"sm"})]})})]})},e.hash))})]})]})]})}function eV(e){let{signedEntity:t}=e,n=(0,p.parseSignedEntity)(null!=t?t:{});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K,{label:"Type",children:(0,r.jsx)("h6",{children:n.name})}),Object.entries(n.fields).map(e=>{let[t,n]=e;return(0,r.jsx)(K,{label:t.replace(/_/g," "),children:n},t)})]})}function eU(e){let[t,n]=(0,i.useState)([]),[s,l]=(0,i.useState)(void 0),o=(0,a.d4)(m.z1),d=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/certificates")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch certificates error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{hash:s,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Certificates"," ",(0,r.jsx)(N.A,{href:d,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No certificate available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(eV,{signedEntity:e.signed_entity_type}),(0,r.jsx)(K,{label:"Number of signers",children:e.metadata.total_signers}),(0,r.jsx)(K,{label:"Initiated at",children:(0,r.jsx)(ei,{datetime:e.metadata.initiated_at})}),(0,r.jsx)(K,{label:"Sealed at",children:(0,r.jsx)(ei,{datetime:e.metadata.sealed_at})}),(0,r.jsxs)(K,{label:"Parent hash",children:[e.previous_hash," "]})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(G,{show:0===t}),(0,r.jsx)(V.default,{bg:"secondary",children:e.metadata.network}),(0,r.jsx)(x.A,{size:"sm",onClick:()=>{l(e.hash)},className:"ms-auto",children:"Show Details"}),(0,r.jsx)(x.A,{size:"sm",onClick:()=>{l(e.previous_hash)},children:"Show Parent"}),(0,r.jsx)(N.A,{href:"".concat(o,"/certificate/").concat(e.hash),size:"sm"})]})})]})},e.hash))})})]})]})}function eL(e){let[t,n]=(0,i.useState)([]),[s,l]=(0,i.useState)(void 0),o=(0,a.d4)(m.z1),d=(0,a.d4)(e=>"".concat((0,m.z1)(e),"/artifact/mithril-stake-distributions")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch mithrilStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu,{aggregator:o,hash:s,onHashChange:function(e){l(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Mithril Stake Distribution"," ",(0,r.jsx)(N.A,{href:d,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No mithril stake distribution available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(S.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(K,{label:"Epoch",children:e.epoch}),(0,r.jsx)(K,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsx)(K,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(G,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{l(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:"".concat(o,"/artifact/mithril-stake-distribution/").concat(e.hash),size:"sm"})]})})]})},e.hash))})})]})]})}d.t1.register(d.Bs,d.PP,d.kc,d.E8,d.hE,d.m_,d.s$),(0,Y.W6)(d.t1);let eW=eD.signedEntityType.CardanoImmutableFilesFull;function eq(){let e=(0,s.useSearchParams)(),t=(0,a.wA)(),[d,_]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),[b,x]=(0,i.useState)(!1),[j,w]=(0,i.useState)(eW),p=(0,a.d4)(m.z1),y=(0,a.d4)(e=>(0,m.CV)(e));return(0,i.useEffect)(()=>{g(y.includes(eD.signedEntityType.CardanoTransactions)),f(y.includes(eD.signedEntityType.CardanoStakeDistribution)),x(y.includes(eD.signedEntityType.CardanoDb))},[y]),(0,i.useEffect)(()=>{h||j!==eD.signedEntityType.CardanoTransactions||w(eW)},[j,h]),(0,i.useEffect)(()=>{(async()=>{let e=await Promise.resolve().then(n.bind(n,4378));await e.default()})().catch(e=>console.error("Mithril-client-wasm init error:",e))},[]),(0,i.useEffect)(()=>{if(p!==e.get(eD.aggregatorSearchParam)){let e=new URLSearchParams;e.set("aggregator",p),_(!0),window.history.pushState(null,"","?".concat(e.toString()))}t((0,eI.Vf)(p))},[p]),(0,i.useEffect)(()=>{if(d)_(!1);else{let n=e.get("aggregator");t((0,m.QB)(n))}},[e]),(0,r.jsxs)(c.A,{gap:3,children:[(0,r.jsx)(H,{}),(0,r.jsxs)(l.A,{activeKey:j,onSelect:e=>w(e),children:[(0,r.jsx)(o.A,{title:"Cardano Db",eventKey:eD.signedEntityType.CardanoImmutableFilesFull,children:(0,r.jsx)(ef,{})}),b&&(0,r.jsx)(o.A,{title:"Cardano Db v2",eventKey:eD.signedEntityType.CardanoDb,children:(0,r.jsx)(eC,{})}),h&&(0,r.jsx)(o.A,{title:"Cardano Transactions",eventKey:eD.signedEntityType.CardanoTransactions,children:(0,r.jsx)(eH,{})}),u&&(0,r.jsx)(o.A,{title:"Cardano Stake Distribution",eventKey:eD.signedEntityType.CardanoStakeDistribution,children:(0,r.jsx)(eS,{})}),(0,r.jsx)(o.A,{title:"Mithril Stake Distribution",eventKey:eD.signedEntityType.MithrilStakeDistribution,children:(0,r.jsx)(eL,{})}),(0,r.jsx)(o.A,{title:"Certificates",eventKey:"certificates",children:(0,r.jsx)(eU,{})})]})]})}},9177:(e,t,n)=>{"use strict";n.d(t,{CV:()=>j,Oz:()=>_,PY:()=>h,QB:()=>u,XN:()=>g,rT:()=>f,sI:()=>d,ue:()=>o,v:()=>m,z1:()=>x});var r=n(9267),i=n(2430),a=n.n(i),s=n(651),c=n(5515),l=n(2579);let o={updateInterval:void 0,refreshSeed:0,selectedAggregator:s.A[0],availableAggregators:s.A,aggregatorCapabilities:l.defaultAggregatorCapabilities,canRemoveSelected:!1},d=(0,r.Z0)({name:"settings",initialState:o,reducers:{setUpdateInterval:(e,t)=>{let n=t.payload;e.updateInterval=!Number.isNaN(n)&&Number.isInteger(n)?n:void 0},changeRefreshSeed:e=>{e.refreshSeed=Math.random()},selectAggregator:(e,t)=>{if(!(0,c.checkUrl)(t.payload))return e;let n=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:n,canRemoveSelected:!s.A.includes(t.payload)}},removeSelectedAggregator:e=>s.A.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!s.A.includes(e.availableAggregators.at(0))},updateSelectedAggregatorCapabilities:(e,t)=>({...e,aggregatorCapabilities:t.payload})}}),_=e=>{e.startListening({actionCreator:u,effect:async(e,t)=>{let n=e.payload;if(n){let e=await a().fetchAggregatorCapabilities(n);t.dispatch(b(e))}}})},{setUpdateInterval:h,changeRefreshSeed:g,selectAggregator:u,removeSelectedAggregator:f,updateSelectedAggregatorCapabilities:b}=d.actions,x=e=>e.settings.selectedAggregator,m=e=>{var t,n;return null!=(n=null==(t=e.settings)?void 0:t.aggregatorCapabilities)?n:l.defaultAggregatorCapabilities},j=e=>{var t,n,r;return null!=(r=null==(n=e.settings)||null==(t=n.aggregatorCapabilities)?void 0:t.signed_entity_types)?r:[]};d.reducer},9732:e=>{e.exports={downloadPopover:"styles_downloadPopover__3ISd5"}}},e=>{e.O(0,[606,647,639,487,619,603,111,40,874,441,255,358],()=>e(e.s=4345)),_N_E=e.O()}]);