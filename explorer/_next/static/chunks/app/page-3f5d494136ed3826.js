(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{589:e=>{e.exports={events:"styles_events__fx6_1",error:"styles_error__jDHvR"}},1751:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mithril_client_wasm_bg.eeb23ec2.wasm"},2986:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5155);n(2115);var i=n(958),s=n(3427),a=n(8956);function c({tooltip:e="Raw JSON",color:t="black",...n}){return(0,r.jsx)(i.A,{overlay:(0,r.jsx)(s.A,{children:e}),children:(0,r.jsx)(a.A,{variant:"outline-secondary",target:"_blank",...n,children:(0,r.jsx)("i",{className:`bi bi-filetype-json text-${t}`})})})}},3878:e=>{e.exports={downloadPopover:"styles_downloadPopover__3ISd5"}},4345:(e,t,n)=>{Promise.resolve().then(n.bind(n,6824))},6144:e=>{e.exports={artifactColLabel:"styles_artifactColLabel__RngDR"}},6207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(7315),i=n(506);e.exports={newMithrilWasmClient:async function(e,t){return new r.MithrilClient(e,t,{})},fetchGenesisVerificationKey:async function(e){let t=(0,i.computeAggregatorNetworkFromUrl)(e);return fetch(`https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/${t}/genesis.vkey`).then(e=>e.text()).catch(e=>console.error("Error fetching genesis verification key:",e))}}},6824:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>eU});var r=n(5155),i=n(2115),s=n(2834),a=n(3321),c=n(9853),o=n(6479),l=n(1360),_=n(3888),d=n(958),h=n(3427),g=n(9766),u=n(6072),f=n(5894),b=n(4562),x=n(8956),m=n(8208),w=n(2037),j=n(9861),p=n(506);function y(e){let[t,n]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),o=(0,s.wA)();function l(){e.onAskClose(),c(!1),n("")}function _(e){e.preventDefault(),(0,p.checkUrl)(t)?(l(),o((0,m.QB)(t))):c(!0)}return(0,r.jsxs)(w.A,{show:e.show,onHide:l,size:"lg","aria-labelledby":"add-aggregator-title",centered:!0,children:[(0,r.jsx)(w.A.Header,{closeButton:!0,children:(0,r.jsx)(w.A.Title,{id:"add-aggregator-title",children:"New aggregator source"})}),(0,r.jsx)(w.A.Body,{children:(0,r.jsx)(g.A,{onSubmit:_,children:(0,r.jsxs)(j.A,{children:[(0,r.jsx)(g.A.Label,{children:"URL"}),(0,r.jsx)(g.A.Control,{type:"url",value:t,onChange:e=>n(e.target.value),isInvalid:a,autoFocus:!0}),(0,r.jsx)(g.A.Control.Feedback,{type:"invalid",children:"Invalid URL"})]})})}),(0,r.jsxs)(w.A.Footer,{children:[(0,r.jsx)(x.A,{variant:"secondary",onClick:l,children:"Close"}),(0,r.jsx)(x.A,{variant:"primary",onClick:_,children:"Save"})]})]})}function v(e){let[t,n]=(0,i.useState)(!1),a=(0,s.d4)(e=>e.settings.selectedAggregator),c=(0,s.d4)(e=>e.settings.availableAggregators),o=(0,s.d4)(e=>e.settings.canRemoveSelected),l=(0,s.wA)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{show:t,onAskClose:()=>n(!1)}),(0,r.jsx)(g.A.Group,{as:f.A,...e,children:(0,r.jsxs)(b.A,{children:[(0,r.jsx)(x.A,{variant:"outline-success",onClick:()=>n(!0),children:(0,r.jsx)("i",{className:"bi bi-plus-circle"})}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{variant:"outline-danger",onClick:()=>l((0,m.rT)()),children:(0,r.jsx)("i",{className:"bi bi-dash-circle"})}),(0,r.jsx)(d.A,{overlay:(0,r.jsx)(h.A,{children:"Unofficial Aggregator"}),children:(0,r.jsx)(x.A,{variant:"outline-warning",children:(0,r.jsx)("i",{className:"bi bi-exclamation-triangle"})})})]}),(0,r.jsx)(g.A.Select,{value:a,onChange:e=>l((0,m.QB)(e.target.value)),children:c.map((e,t)=>(0,r.jsx)("option",{value:e,children:e},"agg-"+t))}),(0,r.jsx)(d.A,{overlay:(0,r.jsx)(h.A,{children:"Copy url"}),children:(0,r.jsx)(x.A,{variant:"outline-secondary",onClick:function(){window.isSecureContext&&a&&navigator.clipboard.writeText(a).then(()=>{})},children:(0,r.jsx)("i",{className:"bi bi-clipboard"})})})]})})]})}var A=n(7484),S=n(3758),C=n(7979),k=n(7018),N=n(2986),z=n(3461);function I({protocolParameters:e,padding:t,...n}){let i=`p-${t??"auto"}`;return(0,r.jsxs)(z.A,{horizontal:!0,...n,children:[(0,r.jsxs)(z.A.Item,{className:`${i}`,children:[(0,r.jsx)("em",{children:"k:"})," ",e?.k]}),(0,r.jsxs)(z.A.Item,{className:`${i}`,children:[(0,r.jsx)("em",{children:"m:"})," ",e?.m]}),(0,r.jsxs)(z.A.Item,{className:`${i}`,children:[(0,r.jsx)("em",{children:"f:"})," ",e?.phi_f]})]})}var F=n(1117);function E(){let[e,t]=(0,i.useState)({}),n=(0,s.d4)(e=>e.settings.selectedAggregator),a=(0,s.d4)(e=>`${(0,m.z1)(e)}/epoch-settings`),o=(0,s.d4)(e=>e.settings.refreshSeed),l=(0,s.d4)(e=>e.settings.updateInterval),[_,d]=(0,i.useState)(void 0),[h,g]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(a).then(e=>200===e.status?e.json():{}).then(e=>t(e)).catch(e=>{t({}),console.error("Fetch epoch-settings error:",e)})};if(e(),l){let t=setInterval(e,l);return()=>clearInterval(t)}},[a,l,o]),(0,i.useEffect)(()=>{if((0,p.checkUrl)(n)){let e=new URLSearchParams;e.set("aggregator",n),g(`/registrations-in-out?${e.toString()}`)}if((0,p.checkUrl)(n)&&Number.isInteger(e?.epoch)){let t=new URLSearchParams;t.set("aggregator",n),t.set("epoch",e.epoch),d(`/registrations?${t.toString()}`)}},[n,e]),(0,r.jsxs)(A.A,{children:[(0,r.jsx)(A.A.Body,{children:(0,r.jsx)(C.A,{children:(0,r.jsxs)(u.A,{children:[(0,r.jsxs)(f.A,{xs:12,md:"auto",children:[(0,r.jsx)("h5",{children:"Current Epoch"}),(0,r.jsx)("div",{className:"mb-2 ps-3",children:e.epoch})]}),(0,r.jsxs)(f.A,{xs:12,md:"auto",children:[(0,r.jsx)("h5",{children:"Registration Protocol Parameters"}),(0,r.jsx)(I,{protocolParameters:e.signer_registration_protocol??e.next_protocol})]})]})})}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,className:"justify-content-md-end align-items-stretch justify-content-sm-center",children:[(0,r.jsxs)(k.A,{href:_??"#",disabled:void 0===_,children:[(0,r.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,r.jsxs)(k.A,{href:h??"#",disabled:void 0===h,children:[(0,r.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,r.jsx)(N.A,{href:a,variant:"outline-secondary"})]})})]})}function P({tooltip:e,...t}){return(0,r.jsx)(d.A,{overlay:(0,r.jsx)(h.A,{children:e}),children:(0,r.jsx)("span",{...t,children:(0,r.jsx)("i",{className:"bi bi-question-circle text-secondary"})})})}var T=n(8028);function R({children:e,title:t,...n}){return(0,r.jsx)(f.A,{xs:12,sm:6,md:4,lg:3,xl:2,className:"mb-3",...n,children:(0,r.jsx)(A.A,{className:"h-100",...n,children:(0,r.jsxs)(A.A.Body,{children:[(0,r.jsx)("h5",{children:t}),(0,r.jsx)("div",{className:"ps-1",children:e})]})})})}function $({label:e,children:t,className:n="",...i}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:`d-flex justify-content-between ${n}`,...i,children:[(0,r.jsx)("div",{className:"me-2 flex-fill",children:(0,r.jsxs)("em",{children:[e,":"]})}),(0,r.jsx)("div",{className:"text-end",children:t})]}),(0,r.jsx)("hr",{className:"my-2"})]})}function B({value:e,total:t,...n}){return(0,r.jsx)(P,{tooltip:`${e} out of ${t}`,...n})}function M({showContent:e=!0}){let[t,n]=(0,i.useState)({}),[a,o]=(0,i.useState)({}),l=(0,s.d4)(e=>e.settings.selectedAggregator),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/status`),[d,h]=(0,i.useState)(void 0),[g,f]=(0,i.useState)(void 0),b=(0,s.d4)(e=>e.settings.refreshSeed),x=(0,s.d4)(e=>e.settings.updateInterval),[w,j]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>200===e.status?e.json():{}).then(e=>{n(e),j(!1)}).catch(e=>{n({}),j(!0)})};if(e(),x){let t=setInterval(e,x);return()=>clearInterval(t)}},[_,x,b]),(0,i.useEffect)(()=>{if(!(0,p.checkUrl)(l))return;let e=t?.aggregator_node_version?.split("+")??[];o({number:e[0]??"0.0.0",sha:e[1]??void 0});let n=new URLSearchParams;if(n.set("aggregator",l),f(`/registrations-in-out?${n.toString()}`),Number.isInteger(t?.epoch)){let e=new URLSearchParams;e.set("aggregator",l),e.set("epoch",t.epoch),h(`/registrations?${e.toString()}`)}},[l,t]),w?(0,r.jsx)(c.A,{direction:"horizontal",children:(0,r.jsx)(S.A,{in:e,children:(0,r.jsx)("div",{id:"contentRow",children:(0,r.jsx)(E,{})})})}):(0,r.jsxs)(C.A,{fluid:!0,children:[(0,r.jsx)(S.A,{in:e,children:(0,r.jsx)("div",{id:"contentRow",children:(0,r.jsxs)(u.A,{className:"d-flex flex-wrap justify-content-md-center",children:[(0,r.jsxs)(R,{title:`Epoch ${t.epoch}`,children:[(0,r.jsx)($,{label:"Cardano Network",className:"text-capitalize",children:t.cardano_network}),(0,r.jsx)($,{label:"Cardano Era",children:t.cardano_era}),(0,r.jsx)($,{label:"Mithril Era",className:"text-capitalize",children:t.mithril_era}),(0,r.jsx)($,{label:"Aggregation",className:"text-capitalize",children:t.aggregate_signature_type??"Concatenation"})]}),(0,r.jsxs)(R,{title:"SPOs",children:[(0,r.jsx)($,{label:"Current Signers",children:t.total_signers??0}),(0,r.jsx)($,{label:"Next Signers",children:t.total_next_signers??0}),(0,r.jsxs)($,{label:"Cardano Adoption",children:[(0,p.percent)(t.total_signers,t.total_cardano_spo),"%"," ",(0,r.jsx)(B,{value:t.total_signers??0,total:t.total_cardano_spo??0})]})]}),(0,r.jsxs)(R,{title:"Stakes",children:[(0,r.jsx)($,{label:"Current Signers",children:(0,r.jsx)(T.A,{lovelace:t.total_stakes_signers??0})}),(0,r.jsx)($,{label:"Next Signers",children:(0,r.jsx)(T.A,{lovelace:t.total_next_stakes_signers??0})}),(0,r.jsxs)($,{label:"Cardano Adoption",children:[(0,p.percent)(t.total_stakes_signers,t.total_cardano_stake),"%"," ",(0,r.jsx)(B,{value:(0,p.formatStake)(t.total_stakes_signers)??0,total:(0,p.formatStake)(t.total_cardano_stake)??0})]})]}),(0,r.jsxs)(R,{title:"Protocol Parameters",children:[(0,r.jsx)("em",{children:"Current:"}),(0,r.jsx)(I,{protocolParameters:t.protocol,padding:2}),(0,r.jsx)("em",{children:"Next:"}),(0,r.jsx)(I,{protocolParameters:t.next_protocol,padding:2})]}),(0,r.jsxs)(R,{title:"Versions",children:[(0,r.jsxs)($,{label:"Aggregator",children:[a.number,a.sha&&(0,r.jsxs)("em",{children:[" (",a.sha,")"]})]}),(0,r.jsx)($,{label:"Cardano",children:t.cardano_node_version})]})]})})}),(0,r.jsx)(u.A,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,className:"align-items-stretch justify-content-sm-center border bg-light rounded p-2",children:[(0,r.jsxs)(k.A,{className:"ms-auto",href:d??"#",disabled:void 0===d,children:[(0,r.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,r.jsxs)(k.A,{href:g??"#",disabled:void 0===g,children:[(0,r.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,r.jsx)(N.A,{href:_,variant:"outline-secondary",tooltip:"Aggregator Status Raw JSON",className:"ms-auto"})]})})]})}function O(e){let t=(0,s.d4)(e=>e.settings.updateInterval),n=(0,s.wA)();return(0,r.jsx)(g.A.Group,{as:f.A,...e,children:(0,r.jsxs)(b.A,{children:[(0,r.jsx)(x.A,{type:"button",onClick:()=>n((0,m.XN)()),variant:"primary",children:"Refresh"}),(0,r.jsx)(d.A,{overlay:(0,r.jsx)(h.A,{children:"Set auto-refresh interval"}),children:(0,r.jsxs)(g.A.Select,{"aria-label":"Auto refresh interval",value:t,onChange:e=>n((0,m.PY)(parseInt(e.target.value))),children:[(0,r.jsx)("option",{value:void 0,children:"Off"}),(0,r.jsx)("option",{value:1e3,children:"1 second"}),(0,r.jsx)("option",{value:5e3,children:"5 seconds"}),(0,r.jsx)("option",{value:1e4,children:"10 seconds"})]})})]})})}function D(){let[e,t]=(0,i.useState)(!0);return(0,r.jsxs)(c.A,{gap:2,children:[(0,r.jsx)("h3",{children:(0,r.jsxs)("a",{role:"button",onClick:()=>t(!e),"aria-expanded":e,"aria-controls":"contentRow",children:["Aggregator"," ",(0,r.jsx)(d.A,{overlay:(0,r.jsx)(h.A,{children:"Show/hide Aggregator status"}),children:(0,r.jsx)("i",{className:`bi bi-chevron-${e?"up":"down"}`})})]})}),(0,r.jsx)(g.A,{children:(0,r.jsxs)(u.A,{xs:1,sm:2,className:"row-gap-2",children:[(0,r.jsx)(v,{sm:8}),(0,r.jsx)(O,{sm:4})]})}),(0,r.jsx)(M,{showContent:e})]})}var H=n(9504),U=n(3699);function L({hash:e,index:t}){return(0,r.jsxs)(c.A,{direction:"horizontal",gap:2,children:[(0,r.jsxs)("h6",{className:"text-secondary card-title",children:["#",t+1,"."]}),(0,r.jsx)(A.A.Title,{children:(0,r.jsx)(U.A,{hash:e})})]})}var V=n(6144),W=n.n(V);function q({label:e,children:t,className:n="",...i}){return(0,r.jsxs)(f.A,{className:`mx-2 px-0 py-1 d-flex flex-column justify-content-between ${n}`,...i,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:W().artifactColLabel,children:(0,r.jsxs)("em",{children:[e,":"]})}),(0,r.jsx)("div",{className:"test-end",children:t})]}),(0,r.jsx)("hr",{className:"my-1"})]})}function K({show:e}){return!0===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.default,{bg:"primary",children:"Latest"})," "]}):(0,r.jsx)(r.Fragment,{})}var G=n(9856),J=n(7978),Q=n(8067),X=n(7140);function Y({signedEntityType:e,table:t=!1}){let n=(0,p.parseSignedEntity)(e);return t?(0,r.jsx)(G.A,{className:"mb-3",children:(0,r.jsxs)("tbody",{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:2,children:(0,r.jsx)("h6",{children:n.name})})}),Object.entries(n.fields).map(([e,t])=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)("em",{children:[e,":"]})}),(0,r.jsx)("td",{children:t})]},e))]})}):(0,r.jsxs)(z.A,{children:[(0,r.jsx)(z.A.Item,{children:(0,r.jsx)("h6",{children:n.name})}),(0,r.jsx)(z.A.Item,{children:(0,r.jsx)(z.A,{horizontal:"xxl",children:Object.entries(n.fields).map(([e,t])=>(0,r.jsxs)(z.A.Item,{children:[e,": ",t]},e))})})]})}var Z=n(8278),ee=n(6545),et=n(8442),en=n(2691),er=n(4122);function ei({datetime:e}){return(0,r.jsx)(r.Fragment,{children:new Date(e).toLocaleString()})}var es=n(589),ea=n.n(es);let ec=0;function eo({hash:e,onClick:t,showLink:n,linkVariant:i="dark"}){return n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:"#",target:"_blank",className:`link-${i} link-underline-opacity-0 link-underline-opacity-100-hover`,onClick:function(n){n.preventDefault(),t(e)},children:e})," ",(0,r.jsx)(en.A,{textToCopy:e})]}):(0,r.jsx)(U.A,{hash:e})}function el({client:e,certificate:t,hideSpinner:n=!1,showCertificateLinks:s=!1,onStepChange:a=e=>{},onChainValidationError:c=e=>{},onCertificateClick:o=e=>{}}){let[l,_]=(0,i.useState)(1),[d,h]=(0,i.useState)(void 0),[g,u]=(0,i.useState)(null),[f,b]=(0,i.useState)([]);async function x(e,t){let n=performance.now();await e.verify_certificate_chain(t),u((0,p.formatProcessDuration)(n))}function m(e){let t=e.data,n=(0,r.jsx)(r.Fragment,{}),i=3;switch(t.type){case"CertificateChainValidationStarted":i=1,n=(0,r.jsx)(r.Fragment,{children:"The certificate chain validation has started..."});break;case"CertificateValidated":i=2,n={certificateHash:t.payload.certificate_hash,cached:!1};break;case"CertificateFetchedFromCache":i=2,n={certificateHash:t.payload.certificate_hash,cached:!0};break;case"CertificateChainValidated":n=(0,r.jsxs)(r.Fragment,{children:["The certificate chain is valid ",(0,r.jsx)("i",{className:"text-success bi bi-check-circle-fill"})]});break;default:n=(0,r.jsx)(r.Fragment,{children:t})}b(e=>[...e,{id:ec++,position:i,message:n}])}async function w(){await e.reset_certificate_verifier_cache()}return(0,i.useEffect)(()=>{let e=new BroadcastChannel("mithril-client");return e.addEventListener("message",m),()=>e.close()},[]),(0,i.useEffect)(()=>{a(l)},[l,a]),(0,i.useEffect)(()=>{d&&c(d)},[d,c]),(0,i.useEffect)(()=>{1===l&&(b([]),h(void 0),e&&t&&(_(2),x(e,t.hash).catch(e=>{console.error("Certificate Chain verification error:\n",e),h(e)}).finally(()=>_(3))))},[l,e,t]),(0,r.jsx)(r.Fragment,{children:Object.entries(t).length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{children:"Certificate Details"}),(0,r.jsxs)("div",{children:["Certificate hash:"," ",(0,r.jsx)(eo,{hash:t.hash,onClick:()=>o(t.hash),showLink:s,linkVariant:"primary"})]}),(0,r.jsxs)("div",{children:["Epoch: ",t.epoch]}),(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsxs)("div",{children:["Sealed at: ",(0,r.jsx)(ei,{datetime:t.metadata.sealed_at})]}),2===l&&(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("div",{className:"ms-1 pe-1",children:"Verifying the certificate chain..."}),!n&&(0,r.jsx)(ee.A,{animation:"border",variant:"primary"})]}),3===l&&(0,r.jsxs)("div",{className:"ms-1 pe-1",children:["Verification duration: ",g]})]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:ea().events,children:[(0,r.jsx)("span",{}),(0,r.jsxs)("div",{children:[f.filter(e=>1===e.position).map(e=>(0,r.jsx)("div",{children:e.message},e.id)),(0,r.jsxs)(G.A,{className:"my-2",responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Certificate hash"}),(0,r.jsx)("th",{children:"Checked"})]})}),(0,r.jsx)("tbody",{children:f.filter(e=>2===e.position).map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(eo,{hash:e.message.certificateHash,onClick:()=>o(e.message.certificateHash),showLink:s})}),(0,r.jsx)("td",{children:e.message.cached?(0,r.jsx)(er.A,{tooltip:"cached",variant:"warning",icon:"clock-fill"}):(0,r.jsx)(er.A,{tooltip:"yes",variant:"success",icon:"check-circle-fill"})})]},e.id))})]}),f.filter(e=>3===e.position).map(e=>(0,r.jsx)("div",{children:e.message},e.id)),e.is_certificate_verifier_cache_enabled()&&3===l&&(0,r.jsxs)(r.Fragment,{children:["Cache enabled:"," ",(0,r.jsx)("a",{href:"#",onClick:w,children:"reset cache"})]}),void 0!==d&&(0,r.jsxs)(et.A,{variant:"danger",className:"mt-2",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Invalid certificate chain"]}),(0,r.jsx)("div",{className:ea().error,children:d.toString()})]})]})]})]})})}function e_({show:e,onClose:t,certificateHash:a}){let c=(0,s.d4)(e=>e.settings.selectedAggregator),[o,l]=(0,i.useState)(!1),[_,d]=(0,i.useState)(!1),[h,g]=(0,i.useState)(void 0),[u,f]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{if(e){let{fetchGenesisVerificationKey:e,newMithrilWasmClient:t}=n(6207);d(!1),e(c).then(e=>t(c,e)).then(e=>(g(e),e.get_mithril_certificate(a))).then(e=>f(e)).catch(e=>console.error("VerifyCertificateModal init error:",e))}},[e,c,a]),(0,i.useEffect)(()=>{o||d(!1)},[o]),(0,r.jsxs)(w.A,{show:e,onHide:function(){o?d(!0):t()},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(w.A.Header,{closeButton:!0,children:(0,r.jsx)(w.A.Title,{children:"Verify certificate"})}),(0,r.jsx)(w.A.Body,{children:e&&(0,r.jsxs)(r.Fragment,{children:[_&&(0,r.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."}),h&&u&&(0,r.jsx)(el,{client:h,certificate:u,onStepChange:e=>l(2===e)})]})}),(0,r.jsx)(w.A.Footer,{})]})}function ed({hash:e,hideButtons:t=!1,onHashChange:n=e=>{}}){let[a,c]=(0,i.useState)({}),[o,l]=(0,i.useState)({stakesBreakdown:{}}),[_,d]=(0,i.useState)(!1),h=(0,s.d4)(t=>`${(0,m.z1)(t)}/certificate/${e}`);return(0,i.useEffect)(()=>{e&&(0,F.fetchAggregator)(h).then(e=>200===e.status?e.json():{}).then(e=>{c(e),l({stakesBreakdown:(0,X.an)(e.metadata.signers)})}).catch(e=>{c({}),console.error("Fetch certificate error:",e)})},[h,e]),(0,r.jsxs)(w.A,{show:void 0!==e,onHide:function(){n(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(w.A.Header,{className:"text-break",closeButton:!0,children:(0,r.jsxs)(w.A.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",a.hash]})}),(0,r.jsx)(w.A.Body,{children:0===Object.entries(a).length?(0,r.jsx)("p",{children:"Not found"}):(0,r.jsxs)(C.A,{className:_&&"d-none",children:[(0,r.jsxs)(u.A,{md:1,xl:"auto",children:[(0,r.jsxs)(f.A,{xl:4,className:"mb-3",children:[(0,r.jsx)("h4",{children:"Beacon"}),(0,r.jsx)(Y,{signedEntityType:a.signed_entity_type,table:!0}),(0,r.jsx)("h4",{children:"Protocol Parameters"}),(0,r.jsx)(I,{className:"mb-3",protocolParameters:a.metadata.parameters}),(0,r.jsx)("h4",{children:"Statistics"}),(0,r.jsx)(G.A,{className:"mb-0",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Number of signers:"})}),(0,r.jsx)("td",{children:a?.metadata.signers.length??0})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Total stakes:"})}),(0,r.jsx)("td",{children:(0,r.jsx)(T.A,{lovelace:a?.metadata.signers.reduce((e,t)=>e+t.stake,0)??0})})]})]})})]}),(0,r.jsx)(f.A,{xl:8,className:"mb-1",children:""!==a.genesis_signature?(0,r.jsxs)("div",{children:["This is the chain"," ",(0,r.jsx)("em",{children:(0,r.jsx)("strong",{children:"Genesis Certificate"})}),", since it's manually created it doesn't contain any Signers."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Stakes breakdown"}),(0,r.jsx)(Q.yP,{data:o.stakesBreakdown})]})})]}),(0,r.jsx)(u.A,{children:""===a.genesis_signature&&(0,r.jsx)(J.A,{children:(0,r.jsxs)(J.A.Item,{eventKey:"signers",children:[(0,r.jsx)(J.A.Header,{children:(0,r.jsx)("h4",{children:"Signers"})}),(0,r.jsx)(J.A.Body,{children:0===a.metadata.signers.length?(0,r.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,r.jsx)(Z.A,{signers:a.metadata.signers})})]})})})]})}),(0,r.jsxs)(w.A.Footer,{children:[!t&&(0,r.jsx)(x.A,{size:"sm",onClick:()=>d(!0),className:"text-break",children:"Verify certificate"}),""!==a.genesis_signature?(0,r.jsx)(H.default,{bg:"warning",children:"Genesis"}):!t&&(0,r.jsxs)(x.A,{size:"sm",onClick:function(){n(a.previous_hash)},className:"text-break",children:["Previous hash: ",a.previous_hash]}),(0,r.jsx)(N.A,{href:h,size:"sm"})]}),!t&&(0,r.jsx)(e_,{show:_,onClose:()=>d(!1),certificateHash:a.hash})]})}function eh(e){let[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/snapshots`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Db Snapshots"," ",(0,r.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No snapshot available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.digest,index:t}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(q,{label:"Epoch",children:e.beacon.epoch}),(0,r.jsx)(q,{label:"Immutable file number",children:e.beacon.immutable_file_number}),(0,r.jsx)(q,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsxs)(q,{label:"Archive size",children:[(0,p.formatBytes)(e.size+(e.ancillary_size??0)),(0,r.jsx)(P,{tooltip:(0,r.jsxs)("span",{children:["Immutable files archive size: ",(0,p.formatBytes)(e.size),(0,r.jsx)("hr",{className:"m-1"}),"Ancillary archive size:"," ",(0,p.formatBytes)(e.ancillary_size??0)]})})]}),(0,r.jsx)(q,{label:"Cardano node",children:e.cardano_node_version}),(0,r.jsx)(q,{label:"Compression",children:e.compression_algorithm}),(0,r.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(K,{show:0===t}),(0,r.jsx)(H.default,{bg:"secondary",children:e.network}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:`${l}/artifact/snapshot/${e.digest}`,size:"sm"})]})})]})},e.digest))})})]})]})}var eg=n(5054),eu=n(4042),ef=n(3878),eb=n.n(ef);let ex=()=>(0,r.jsx)("i",{className:"bi bi-download"}),em=e=>e?.type==="cloud_storage"||e?.type==="aggregator";function ew({ariaLabel:e,locations:t,value:n,onChange:i}){return(0,r.jsx)(g.A.Select,{"aria-label":e,value:n,onChange:i,children:t?.map((e,t)=>(0,r.jsx)("option",{value:t,children:function(e){switch(e){case"cloud_storage":return"Cloud Storage";case"aggregator":return"Aggregator";default:return e}}(e.type)},`digest-${e.type}-${t}`))})}function ej({max:e,value:t,onChange:n}){return(0,r.jsx)(g.A.Control,{type:"number",value:t,onChange:n,required:!0,min:0,max:e})}function ep({artifactUrl:e,...t}){let[n,s]=(0,i.useState)(!1),a=(0,i.useRef)(null),[o,l]=(0,i.useState)(0),[_,d]=(0,i.useState)(0),[h,m]=(0,i.useState)(!1),[w,j]=(0,i.useState)(void 0),[y,v]=(0,i.useState)(0),[A,S]=(0,i.useState)(0),[k,N]=(0,i.useState)(0),[z,I]=(0,i.useState)(!1),E=()=>s(!1);function P(e){window.open(e,"_blank","noopener")}return(0,i.useEffect)(()=>{n&&!h&&(0,F.fetchAggregator)(e).then(e=>e.json()).then(e=>{j(e);let t=e.beacon.immutable_file_number;l(t),d(t)}).catch(e=>{j(void 0),l(0),d(0),console.error("Fetch Cardano DB v2 artifact details error:",e)}).finally(()=>m(!0))},[e,h,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.A,{ref:a,variant:"outline-secondary",onClick:()=>s(!n),...t,children:["Download ",(0,r.jsx)(ex,{})]}),(0,r.jsx)(eg.A,{target:a.current,show:n,rootClose:!0,onHide:E,placement:"top-end",children:(0,r.jsxs)(eu.A,{className:eb().downloadPopover,children:[(0,r.jsxs)(eu.A.Header,{children:["Download Options"," ",(0,r.jsx)(x.A,{variant:"close",onClick:E,"aria-label":"Close",size:"sm"})]}),(0,r.jsx)(eu.A.Body,{as:C.A,className:"p-3",children:h?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.A,{gap:2,children:[(0,r.jsxs)(et.A,{variant:"danger",className:"mb-1",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"bi bi-exclamation-triangle"})," No certification"]}),"To download certified artifacts you ",(0,r.jsx)("strong",{children:"must"})," use the"," ",(0,r.jsx)(et.A.Link,{href:"https://mithril.network/doc/next/manual/develop/nodes/mithril-client",target:"_blank",children:"Mithril client"})," ","which will make sure they are correctly signed by the Mithril protocol."]}),(0,r.jsxs)(g.A.Text,{children:["Immutable (max: ",_,")"]}),(0,r.jsx)(g.A,{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),!0===e.target.checkValidity()){let e=w?.immutables.locations[A];e?.type==="cloud_storage"&&P((0,p.getImmutableUrlFromTemplate)(e.uri.Template,o)),I(!1)}else I(!0)},validated:z,children:(0,r.jsxs)(b.A,{children:[(0,r.jsx)(ej,{type:"text",max:_,value:o,onChange:e=>l(e.target.value)}),(0,r.jsx)(ew,{ariaLabel:"Immutable locations",locations:w?.immutables.locations,onChange:e=>S(e.target.value),value:A}),(0,r.jsx)(x.A,{variant:"primary",type:"submit",children:(0,r.jsx)(ex,{})})]})}),(0,r.jsx)(g.A.Text,{children:"Digests"}),(0,r.jsxs)(b.A,{children:[(0,r.jsx)(ew,{ariaLabel:"Digests locations",locations:w?.digests.locations,onChange:e=>v(e.target.value),value:y}),(0,r.jsx)(x.A,{variant:"primary",onClick:function(){let e=w?.digests.locations[y];em(e)&&P(e.uri)},children:(0,r.jsx)(ex,{})})]}),(0,r.jsx)(g.A.Text,{children:"Ancillary"}),(0,r.jsxs)(b.A,{children:[(0,r.jsx)(ew,{ariaLabel:"Ancillary locations",locations:w?.ancillary.locations,onChange:e=>N(e.target.value),value:k}),(0,r.jsx)(x.A,{variant:"primary",onClick:function(){let e=w?.ancillary.locations[k];em(e)&&P(e.uri)},children:(0,r.jsx)(ex,{})})]})]})}):(0,r.jsx)(u.A,{className:"mb-2",children:(0,r.jsx)(f.A,{children:(0,r.jsx)(ee.A,{animation:"border"})})})})]})})]})}function ey(e){let[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/cardano-database`),_=(0,s.d4)(e=>e.settings.refreshSeed),d=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(l).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),d){let t=setInterval(e,d);return()=>clearInterval(t)}},[l,d,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Db Snapshots v2"," ",(0,r.jsx)(N.A,{href:l,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No cardano database snapshot available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(q,{label:"Epoch",children:e.beacon.epoch}),(0,r.jsx)(q,{label:"Immutable file number",children:e.beacon.immutable_file_number}),(0,r.jsx)(q,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsxs)(q,{label:"DB size",children:[(0,p.formatBytes)(e.total_db_size_uncompressed)," ",(0,r.jsx)(P,{tooltip:"Total uncompressed database size"})]}),(0,r.jsx)(q,{label:"Cardano node",children:e.cardano_node_version}),(0,r.jsx)(q,{label:"Merkle Root",children:e.merkle_root}),(0,r.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(K,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(ep,{size:"sm",artifactUrl:`${l}/${e.hash}`}),(0,r.jsx)(N.A,{href:`${l}/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}function ev(e){let[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/cardano-stake-distributions`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch cardanoStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{aggregator:l,hash:a,onHashChange:function(e){o(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Stake Distribution"," ",(0,r.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No cardano stake distribution available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(q,{label:"Epoch",children:e.epoch}),(0,r.jsx)(q,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(K,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:`${l}/artifact/cardano-stake-distribution/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}function eA({maxAllowedHashesByRequest:e}){let t=Math.max(e,1),n=` *(\\w+ *, *){0,${t-1}}\\w+,? *`;return(0,r.jsx)(j.A,{children:(0,r.jsxs)(b.A,{hasValidation:!0,children:[(0,r.jsx)(x.A,{type:"submit",children:"Certify transactions"}),(0,r.jsx)(g.A.Control,{name:"txHashes",type:"text",placeholder:"comma-separated list of transactions hashes",required:!0,pattern:n}),(0,r.jsx)(g.A.Control.Feedback,{type:"invalid",children:"Please provide a comma-separated list of transactions hashes."})]})})}function eS({currentStep:e,isProofValid:t,isCertificateChainValid:n,onStepClick:i=e=>{}}){let s,a=[{step:eT.fetchingProof,text:"Fetching Transactions Proof"},{step:eT.validatingProof,text:"Verifying Transactions Proof"},{step:eT.validatingCertificateChain,text:"Validating Certificate Chain"}];return(0,r.jsxs)(z.A,{horizontal:"sm",activeKey:e,numbered:!0,children:[a.map(({step:s,text:a})=>(0,r.jsxs)(z.A.Item,{action:!0,eventKey:s,disabled:s>eT.validatingProof&&!t,onClick:()=>i(s),variant:function(e,r){if(e<r)return"light";if(r===e)return"primary";let i="";switch(r){case eT.fetchingProof:i="light";break;case eT.validatingProof:i=t?"light":"danger";break;case eT.validatingCertificateChain:i=t&&n?"light":"danger"}return i}(e,s),children:[a," ",e===s&&(0,r.jsx)(ee.A,{size:"sm"})]},s)),(0,r.jsx)(z.A.Item,{action:!0,onClick:()=>i(eT.done),eventKey:eT.done,variant:(s="light",e===eT.done&&(s=t&&n?"success":"danger"),s),children:"Finish"})]})}var eC=n(592),ek=n(9933);function eN({hash:e}){let t=(0,s.d4)(e=>(0,eC.JN)(e)),n=(0,p.getCExplorerUrl)(t),i=n?`${n}/tx/${e}`:void 0;return(0,r.jsx)(ek.m,{url:i,text:e,textClass:"text-break",showCopyButton:!0})}function ez({certificate:e}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"mb-2 px-2 fw-light",children:"The point of the Cardano chain used during the verification process."}),(0,r.jsxs)(z.A,{horizontal:!0,children:[(0,r.jsxs)(z.A.Item,{children:[(0,r.jsx)("span",{className:"fst-italic",children:"Epoch: "}),e.epoch]}),(0,r.jsxs)(z.A.Item,{children:[(0,r.jsx)("span",{className:"fst-italic",children:"Block number: "}),e.signed_entity_type.CardanoTransactions[1]]})]})]})}function eI({transactions:e}){return(0,r.jsxs)(G.A,{responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Transaction Hash"}),(0,r.jsx)("th",{children:"Certified"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(eN,{hash:e.hash})}),(0,r.jsx)("td",{children:e.certified?(0,r.jsx)(er.A,{tooltip:"Certified by Mithril",variant:"success",icon:"mithril"}):(0,r.jsx)(er.A,{tooltip:"Not certified",variant:"danger",icon:"shield-slash-fill"})})]},e.hash))})]})}function eF({certificate:e,isSuccess:t,certifiedTransactions:n,nonCertifiedTransactions:s}){let[a,c]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=n.map(e=>({hash:e,certified:t})).concat(s.map(e=>({hash:e,certified:!1})));e.sort((e,t)=>e.hash<t.hash?-1:+(e.hash>t.hash)),c(e)},[t,n,s]),(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsx)(et.A,{variant:"success",className:"mb-2",children:(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"mi mi-logo"})," Mithril certified the transactions"]})}):(0,r.jsxs)(et.A,{variant:"danger",className:"mb-2",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,r.jsx)("p",{className:"mb-1",children:"Either the transactions proof is invalid or none of the transactions is certified."}),(0,r.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,r.jsx)("i",{className:"bi bi-info-circle"})," Mithril may still have to certify those transactions."]})]}),(0,r.jsx)("h5",{children:"Beacon"}),(0,r.jsx)(ez,{certificate:e}),(0,r.jsx)("h5",{className:"mt-2",children:"Transactions"}),(0,r.jsx)(eI,{transactions:a}),t&&s.length>0&&(0,r.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,r.jsx)("i",{className:"bi bi-info-circle"})," Some transactions could not be certified, Mithril may still have to certify those transactions or they don't exist in the blockchain."]})]})}function eE({transactionHashes:e}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Fetching a transactions proof of membership from the aggregator"}),(0,r.jsxs)(G.A,{responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("th",{children:"Transaction Hash to certify"})})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsx)("tr",{children:(0,r.jsx)("td",{children:(0,r.jsx)(U.A,{hash:e})})},e))})]})]})}function eP({isProofValid:e}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Checking transactions proof validity and certificate matching"}),(0,r.jsxs)(G.A,{responsive:!0,striped:!0,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Verification"}),(0,r.jsx)("th",{children:"Verified"})]})}),(0,r.jsx)("tbody",{children:["Transactions proof validity","Certificate matches transactions proof"].map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t}),(0,r.jsx)("td",{children:e?(0,r.jsx)(er.A,{variant:"success",tooltip:"yes",icon:"check-circle-fill"}):(0,r.jsx)(er.A,{variant:"danger",tooltip:"no",icon:"x-circle"})})]},t))})]})]})}let eT={ready:1,fetchingProof:2,validatingProof:3,validatingCertificateChain:4,done:5};function eR({transactionHashes:e,onHashesChange:t=e=>{}}){let a=(0,s.d4)(e=>e.settings.selectedAggregator),[c,o]=(0,i.useState)(void 0),[_,d]=(0,i.useState)(void 0),[h,g]=(0,i.useState)(void 0),[b,x]=(0,i.useState)(1),[m,j]=(0,i.useState)({}),[p,y]=(0,i.useState)(!1),[v,A]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!0),[k,N]=(0,i.useState)(eT.ready),[z,I]=(0,i.useState)($(eT.ready)),[F,E]=(0,i.useState)(void 0);async function P(e,t){let n=await e.get_cardano_transaction_proofs(t),r=await e.get_mithril_certificate(n.certificate_hash);j(n),d(r)}async function T(e,t,n){let r=await e.verify_cardano_transaction_proof_then_compute_message(t,n),i=await e.verify_message_match_certificate(r,n)===!0;return A(i),i}function R(e){console.error("Cardano Transactions Certification Error:",e),E(e),N(eT.done)}function $(e){switch(e){case eT.validatingCertificateChain:case eT.validatingProof:case eT.done:return`#step-${e}`;case eT.ready:case eT.fetchingProof:default:return`#step-${eT.fetchingProof}`}}return(0,i.useEffect)(()=>{if(y(!1),A(!1),C(!0),d(void 0),N(eT.ready),E(void 0),e?.length>0){let{fetchGenesisVerificationKey:e,newMithrilWasmClient:t}=n(6207);e(a).then(e=>t(a,e)).then(e=>o(e)).then(()=>N(eT.fetchingProof)).catch(e=>R(e))}},[a,e]),(0,i.useEffect)(()=>{3===b&&(N(eT.done),y(!1))},[b]),(0,i.useEffect)(()=>{I($(k))},[k]),(0,i.useEffect)(()=>{k===eT.fetchingProof&&P(c,e).then(()=>setTimeout(()=>{N(eT.validatingProof)},350)).catch(e=>R(e))},[c,k,e]),(0,i.useEffect)(()=>{k===eT.validatingProof&&void 0!==_&&T(c,m,_).then(e=>{if(e)return setTimeout(()=>{N(eT.validatingCertificateChain)},250);N(eT.done)}).catch(e=>R(e))},[c,k,m,_]),(0,r.jsxs)(w.A,{show:void 0!==e&&e.length>0,onHide:function(){k!==eT.done?y(!0):t([])},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(w.A.Header,{className:"text-break",closeButton:!0,children:(0,r.jsx)(w.A.Title,{id:"contained-modal-title-vcenter",children:"Cardano Transactions Certification"})}),(0,r.jsx)(w.A.Body,{children:k>eT.ready&&(0,r.jsxs)(l.A.Container,{activeKey:z,children:[(0,r.jsx)(u.A,{className:"mb-2",children:(0,r.jsxs)(f.A,{children:[(0,r.jsx)(eS,{currentStep:k,isProofValid:v,isCertificateChainValid:S,onStepClick:function(e){k===eT.done&&I($(e))}}),p&&(0,r.jsx)(et.A,{variant:"warning",className:"mt-2",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."})]})}),(0,r.jsx)(u.A,{className:h?"d-none":"",children:(0,r.jsx)(f.A,{children:(0,r.jsxs)(l.A.Content,{children:[(0,r.jsx)(l.A.Pane,{eventKey:$(eT.fetchingProof),children:(0,r.jsx)(eE,{transactionHashes:e})}),(0,r.jsx)(l.A.Pane,{eventKey:$(eT.validatingProof),children:(0,r.jsx)(eP,{isProofValid:v})}),(0,r.jsx)(l.A.Pane,{eventKey:$(eT.validatingCertificateChain),children:k>=eT.validatingCertificateChain&&v&&(0,r.jsx)(el,{client:c,certificate:_,onStepChange:e=>x(e),onChainValidationError:()=>C(!1),onCertificateClick:function(e){k===eT.done&&g(e)},showCertificateLinks:!0,hideSpinner:!0})}),(0,r.jsxs)(l.A.Pane,{eventKey:$(eT.done),children:[k===eT.done&&void 0===F&&(0,r.jsx)(eF,{isSuccess:v&&S,certificate:_,certifiedTransactions:m.transactions_hashes,nonCertifiedTransactions:m.non_certified_transactions}),k===eT.done&&void 0!==F&&(0,r.jsxs)(et.A,{variant:"danger",className:"mb-2",children:[(0,r.jsxs)(et.A.Heading,{children:[(0,r.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,r.jsx)("p",{className:"mb-2",children:"An error occurred during the verification process. Please try again."}),(0,r.jsx)("hr",{}),(0,r.jsx)("pre",{className:"mb-0",children:(0,r.jsx)("code",{children:F.toString()})})]})]})]})})})]})}),(0,r.jsx)(w.A.Footer,{}),(0,r.jsx)(ed,{hash:h,onHashChange:e=>g(e),hideButtons:!0})]})}var e$=n(4442);function eB(e){let[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),[l,_]=(0,i.useState)(!1),[d,h]=(0,i.useState)([]),b=(0,s.d4)(m.z1),w=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/cardano-transactions`),j=(0,s.d4)(e=>e.settings.refreshSeed),p=(0,s.d4)(e=>e.settings.updateInterval),y=(0,s.d4)(e=>(0,m.v)(e));return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(w).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch cardano transactions snapshots error:",e)})};if(e(),p){let t=setInterval(e,p);return()=>clearInterval(t)}},[w,p,j]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,r.jsx)(eR,{transactionHashes:d,onHashesChange:function(e){h(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Cardano Transactions Snapshots"," ",(0,r.jsx)(N.A,{href:w,variant:"outline-light",size:"sm"})]}),(0,r.jsxs)(C.A,{fluid:!0,children:[(0,r.jsx)(u.A,{className:"mb-2",children:(0,r.jsx)(g.A,{onSubmit:function(e){e.preventDefault();let t=e.target;if(!0===t.checkValidity()){let e=Object.fromEntries(new FormData(t).entries()),n=(e?.txHashes??"").split(",").map(e=>e.trim()).filter(e=>e.length>0);n.sort(),h(n),_(!1)}else _(!0)},noValidate:!0,validated:l,children:(0,r.jsx)(u.A,{children:(0,r.jsx)(eA,{maxAllowedHashesByRequest:y?.cardano_transactions_prover?.max_hashes_allowed_by_request??e$.defaultAggregatorCapabilities.cardano_transactions_prover.max_hashes_allowed_by_request})})})}),(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No Cardano Transactions Snapshot available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(q,{label:"Epoch",children:e.epoch}),(0,r.jsx)(q,{label:"Block Number",children:e.block_number}),(0,r.jsx)(q,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsx)(q,{label:"Merkle Root",children:e.merkle_root}),(0,r.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(K,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:`${b}/artifact/cardano-transaction/${e.hash}`,size:"sm"})]})})]})},e.hash))})]})]})]})}function eM({signedEntity:e}){let t=(0,p.parseSignedEntity)(e??{});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{label:"Type",children:(0,r.jsx)("h6",{children:t.name})}),Object.entries(t.fields).map(([e,t])=>(0,r.jsx)(q,{label:e.replace(/_/g," "),children:t},e))]})}function eO(e){let[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/certificates`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch certificates error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Certificates"," ",(0,r.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No certificate available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(eM,{signedEntity:e.signed_entity_type}),(0,r.jsx)(q,{label:"Number of signers",children:e.metadata.total_signers}),(0,r.jsx)(q,{label:"Initiated at",children:(0,r.jsx)(ei,{datetime:e.metadata.initiated_at})}),(0,r.jsx)(q,{label:"Sealed at",children:(0,r.jsx)(ei,{datetime:e.metadata.sealed_at})}),(0,r.jsxs)(q,{label:"Parent hash",children:[e.previous_hash," "]})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(K,{show:0===t}),(0,r.jsx)(H.default,{bg:"secondary",children:e.metadata.network}),(0,r.jsx)(x.A,{size:"sm",onClick:()=>{o(e.hash)},className:"ms-auto",children:"Show Details"}),(0,r.jsx)(x.A,{size:"sm",onClick:()=>{o(e.previous_hash)},children:"Show Parent"}),(0,r.jsx)(N.A,{href:`${l}/certificate/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}function eD(e){let[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/mithril-stake-distributions`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch mithrilStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ed,{aggregator:l,hash:a,onHashChange:function(e){o(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Mithril Stake Distribution"," ",(0,r.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsx)(u.A,{children:0===Object.entries(t).length?(0,r.jsx)("p",{children:"No mithril stake distribution available"}):t.map((e,t)=>(0,r.jsx)(f.A,{className:"mb-2",children:(0,r.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,r.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,r.jsx)(L,{hash:e.hash,index:t}),(0,r.jsx)(C.A,{fluid:!0,children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(q,{label:"Epoch",children:e.epoch}),(0,r.jsx)(q,{label:"Created",children:(0,r.jsx)(ei,{datetime:e.created_at})}),(0,r.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,r.jsx)(A.A.Footer,{children:(0,r.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,r.jsx)(K,{show:0===t}),(0,r.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,r.jsx)(N.A,{href:`${l}/artifact/mithril-stake-distribution/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}_.t1.register(_.Bs,_.PP,_.kc,_.E8,_.hE,_.m_,_.s$),(0,X.W6)(_.t1);let eH=e$.signedEntityType.CardanoImmutableFilesFull;function eU(){let e=(0,a.useSearchParams)(),t=(0,s.wA)(),[_,d]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),[b,x]=(0,i.useState)(!1),[w,j]=(0,i.useState)(eH),p=(0,s.d4)(m.z1),y=(0,s.d4)(e=>(0,m.CV)(e));return(0,i.useEffect)(()=>{g(y.includes(e$.signedEntityType.CardanoTransactions)),f(y.includes(e$.signedEntityType.CardanoStakeDistribution)),x(y.includes(e$.signedEntityType.CardanoDb))},[y]),(0,i.useEffect)(()=>{h||w!==e$.signedEntityType.CardanoTransactions||j(eH)},[w,h]),(0,i.useEffect)(()=>{(async()=>{let e=await Promise.resolve().then(n.bind(n,7315));await e.default()})().catch(e=>console.error("Mithril-client-wasm init error:",e))},[]),(0,i.useEffect)(()=>{if(p!==e.get(e$.aggregatorSearchParam)){let e=new URLSearchParams;e.set("aggregator",p),d(!0),window.history.pushState(null,"",`?${e.toString()}`)}t((0,eC.Vf)(p))},[p]),(0,i.useEffect)(()=>{if(_)d(!1);else{let n=e.get("aggregator");t((0,m.QB)(n))}},[e]),(0,r.jsxs)(c.A,{gap:3,children:[(0,r.jsx)(D,{}),(0,r.jsxs)(o.A,{activeKey:w,onSelect:e=>j(e),children:[(0,r.jsx)(l.A,{title:"Cardano Db",eventKey:e$.signedEntityType.CardanoImmutableFilesFull,children:(0,r.jsx)(eh,{})}),b&&(0,r.jsx)(l.A,{title:"Cardano Db v2",eventKey:e$.signedEntityType.CardanoDb,children:(0,r.jsx)(ey,{})}),h&&(0,r.jsx)(l.A,{title:"Cardano Transactions",eventKey:e$.signedEntityType.CardanoTransactions,children:(0,r.jsx)(eB,{})}),u&&(0,r.jsx)(l.A,{title:"Cardano Stake Distribution",eventKey:e$.signedEntityType.CardanoStakeDistribution,children:(0,r.jsx)(ev,{})}),(0,r.jsx)(l.A,{title:"Mithril Stake Distribution",eventKey:e$.signedEntityType.MithrilStakeDistribution,children:(0,r.jsx)(eD,{})}),(0,r.jsx)(l.A,{title:"Certificates",eventKey:"certificates",children:(0,r.jsx)(eO,{})})]})]})}},7018:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5155);n(2115);var i=n(8500),s=n.n(i);function a({href:e,children:t,className:n,disabled:i,variant:a="primary",...c}){return!0===i?n=`${n} disabled`:i=!1,(0,r.jsx)(s(),{href:e,"aria-disabled":i,className:`btn btn-${a} link-underline-opacity-0 ${n}`,...c,children:t})}},7140:(e,t,n)=>{"use strict";n.d(t,{W6:()=>a,an:()=>i,h1:()=>s});var r=n(506);function i(e){let t=(e??[]).map(e=>e.stake/1e12);return{labels:["< 1M₳","≥ 1M₳ < 10M₳","≥ 10M₳ < 25M₳","≥ 25M₳ < 50M₳","≥ 50M₳ < 75M₳","≥ 75M₳ < 100M₳","≥ 100M₳"],datasets:[{label:"Number of signers",data:[t.filter(e=>e<1).length,t.filter(e=>e>=1&&e<10).length,t.filter(e=>e>=10&&e<25).length,t.filter(e=>e>=25&&e<50).length,t.filter(e=>e>=50&&e<75).length,t.filter(e=>e>=75&&e<100).length,t.filter(e=>e>100).length]}]}}function s(e){let t=e??[];return{labels:t.map(e=>e.party_id),datasets:[{label:"Stake (₳)",data:t.map(e=>(0,r.toAda)(e.stake))}]}}function a(e){let t=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],n=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];e.defaults.plugins.legend.display=!1,e.defaults.elements.arc.backgroundColor=t,e.defaults.elements.arc.borderColor=n,e.defaults.elements.arc.borderWidth=1,e.defaults.elements.bar.backgroundColor=t,e.defaults.elements.bar.borderColor=n,e.defaults.elements.bar.borderWidth=1}},7315:(e,t,n)=>{"use strict";let r;function i(e){let t=r.__externref_table_alloc();return r.__wbindgen_externrefs.set(t,e),t}function s(e,t){if(!(e instanceof t))throw Error(`expected instance of ${t.name}`)}n.r(t),n.d(t,{BlockNumber:()=>B,CardanoTransactionsProofs:()=>M,CardanoTransactionsSetProofMessagePart:()=>O,IntoUnderlyingByteSource:()=>D,IntoUnderlyingSink:()=>H,IntoUnderlyingSource:()=>U,JSBroadcastChannelFeedbackReceiver:()=>L,MithrilClient:()=>V,default:()=>X,initSync:()=>J});let a="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function c(e,t){e>>>=0;let n=_(),i=[];for(let s=e;s<e+4*t;s+=4)i.push(r.__wbindgen_externrefs.get(n.getUint32(s,!0)));return r.__externref_drop_slice(e,t),i}function o(e,t){return e>>>=0,g().subarray(e/1,e/1+t)}let l=null;function _(){return(null===l||!0===l.buffer.detached||void 0===l.buffer.detached&&l.buffer!==r.memory.buffer)&&(l=new DataView(r.memory.buffer)),l}function d(e,t){var n,r;return n=e>>>=0,(j+=r=t)>=0x7ff00000&&((w=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),j=r),w.decode(g().subarray(n,n+r))}let h=null;function g(){return(null===h||0===h.byteLength)&&(h=new Uint8Array(r.memory.buffer)),h}function u(e,t){try{return e.apply(this,t)}catch(t){let e=i(t);r.__wbindgen_exn_store(e)}}function f(e){return null==e}function b(e,t,n,r){let i={a:e,b:t,cnt:1,dtor:n},s=(...e)=>{i.cnt++;let t=i.a;i.a=0;try{return r(t,i.b,...e)}finally{i.a=t,s._wbg_cb_unref()}};return s._wbg_cb_unref=()=>{0==--i.cnt&&(i.dtor(i.a,i.b),i.a=0,a.unregister(i))},a.register(s,i,i),s}function x(e,t){let n=t(4*e.length,4)>>>0;for(let t=0;t<e.length;t++){let r=i(e[t]);_().setUint32(n+4*t,r,!0)}return y=e.length,n}function m(e,t,n){if(void 0===n){let n=p.encode(e),r=t(n.length,1)>>>0;return g().subarray(r,r+n.length).set(n),y=n.length,r}let r=e.length,i=t(r,1)>>>0,s=g(),a=0;for(;a<r;a++){let t=e.charCodeAt(a);if(t>127)break;s[i+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),i=n(i,r,r=a+3*e.length,1)>>>0;let t=g().subarray(i+a,i+r);a+=p.encodeInto(e,t).written,i=n(i,r,a,1)>>>0}return y=a,i}let w=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});w.decode();let j=0,p=new TextEncoder;"encodeInto"in p||(p.encodeInto=function(e,t){let n=p.encode(e);return t.set(n),{read:e.length,written:n.length}});let y=0;function v(e,t){r.wasm_bindgen__convert__closures_____invoke__h8f03c459482152c7(e,t)}function A(e,t,n){r.wasm_bindgen__convert__closures_____invoke__h7691097527bfaad3(e,t,n)}let S=["bytes"],C=["default","no-store","reload","no-cache","force-cache","only-if-cached"],k=["omit","same-origin","include"],N=["same-origin","no-cors","cors","navigate"],z="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_blocknumber_free(e>>>0,1)),I="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_cardanotransactionsproofs_free(e>>>0,1)),F="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_cardanotransactionssetproofmessagepart_free(e>>>0,1)),E="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_intounderlyingbytesource_free(e>>>0,1)),P="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_intounderlyingsink_free(e>>>0,1)),T="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_intounderlyingsource_free(e>>>0,1)),R="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_jsbroadcastchannelfeedbackreceiver_free(e>>>0,1)),$="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_mithrilclient_free(e>>>0,1));class B{static __wrap(e){e>>>=0;let t=Object.create(B.prototype);return t.__wbg_ptr=e,z.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,z.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_blocknumber_free(e,0)}get 0(){return BigInt.asUintN(64,r.__wbg_get_blocknumber_0(this.__wbg_ptr))}set 0(e){r.__wbg_set_blocknumber_0(this.__wbg_ptr,e)}}Symbol.dispose&&(B.prototype[Symbol.dispose]=B.prototype.free);class M{static __wrap(e){e>>>=0;let t=Object.create(M.prototype);return t.__wbg_ptr=e,I.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,I.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_cardanotransactionsproofs_free(e,0)}get certificate_hash(){let e,t;try{let n=r.__wbg_get_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr);return e=n[0],t=n[1],d(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}set certificate_hash(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;r.__wbg_set_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr,t,n)}get certified_transactions(){let e=r.__wbg_get_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr);var t=c(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set certified_transactions(e){let t=x(e,r.__wbindgen_malloc),n=y;r.__wbg_set_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr,t,n)}get non_certified_transactions(){let e=r.__wbg_get_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr);var t=c(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set non_certified_transactions(e){let t=x(e,r.__wbindgen_malloc),n=y;r.__wbg_set_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr,t,n)}get latest_block_number(){let e=r.__wbg_get_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr);return B.__wrap(e)}set latest_block_number(e){s(e,B);var t=e.__destroy_into_raw();r.__wbg_set_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr,t)}get transactions_hashes(){let e=r.cardanotransactionsproofs_transactions_hashes(this.__wbg_ptr);var t=c(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}}Symbol.dispose&&(M.prototype[Symbol.dispose]=M.prototype.free);class O{static __wrap(e){e>>>=0;let t=Object.create(O.prototype);return t.__wbg_ptr=e,F.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof O?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,F.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_cardanotransactionssetproofmessagepart_free(e,0)}get transactions_hashes(){let e=r.__wbg_get_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr);var t=c(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set transactions_hashes(e){let t=x(e,r.__wbindgen_malloc),n=y;r.__wbg_set_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr,t,n)}get proof(){let e,t;try{let n=r.__wbg_get_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr);return e=n[0],t=n[1],d(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}set proof(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;r.__wbg_set_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr,t,n)}}Symbol.dispose&&(O.prototype[Symbol.dispose]=O.prototype.free);class D{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_intounderlyingbytesource_free(e,0)}get autoAllocateChunkSize(){return r.intounderlyingbytesource_autoAllocateChunkSize(this.__wbg_ptr)>>>0}pull(e){return r.intounderlyingbytesource_pull(this.__wbg_ptr,e)}start(e){r.intounderlyingbytesource_start(this.__wbg_ptr,e)}get type(){return S[r.intounderlyingbytesource_type(this.__wbg_ptr)]}cancel(){let e=this.__destroy_into_raw();r.intounderlyingbytesource_cancel(e)}}Symbol.dispose&&(D.prototype[Symbol.dispose]=D.prototype.free);class H{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_intounderlyingsink_free(e,0)}abort(e){let t=this.__destroy_into_raw();return r.intounderlyingsink_abort(t,e)}close(){let e=this.__destroy_into_raw();return r.intounderlyingsink_close(e)}write(e){return r.intounderlyingsink_write(this.__wbg_ptr,e)}}Symbol.dispose&&(H.prototype[Symbol.dispose]=H.prototype.free);class U{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_intounderlyingsource_free(e,0)}pull(e){return r.intounderlyingsource_pull(this.__wbg_ptr,e)}cancel(){let e=this.__destroy_into_raw();r.intounderlyingsource_cancel(e)}}Symbol.dispose&&(U.prototype[Symbol.dispose]=U.prototype.free);class L{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,R.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_jsbroadcastchannelfeedbackreceiver_free(e,0)}}Symbol.dispose&&(L.prototype[Symbol.dispose]=L.prototype.free);class V{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,$.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_mithrilclient_free(e,0)}get_cardano_database_v2(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_get_cardano_database_v2(this.__wbg_ptr,t,n)}get_mithril_certificate(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_get_mithril_certificate(this.__wbg_ptr,t,n)}list_cardano_database_v2(){return r.mithrilclient_list_cardano_database_v2(this.__wbg_ptr)}verify_certificate_chain(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_verify_certificate_chain(this.__wbg_ptr,t,n)}fetch_current_mithril_era(){return r.mithrilclient_fetch_current_mithril_era(this.__wbg_ptr)}list_mithril_certificates(){return r.mithrilclient_list_mithril_certificates(this.__wbg_ptr)}get_cardano_database_snapshot(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_get_cardano_database_snapshot(this.__wbg_ptr,t,n)}get_cardano_stake_distribution(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_get_cardano_stake_distribution(this.__wbg_ptr,t,n)}get_cardano_transaction_proofs(e){let t=x(e,r.__wbindgen_malloc),n=y;return r.mithrilclient_get_cardano_transaction_proofs(this.__wbg_ptr,t,n)}get_mithril_stake_distribution(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_get_mithril_stake_distribution(this.__wbg_ptr,t,n)}list_cardano_database_snapshots(){return r.mithrilclient_list_cardano_database_snapshots(this.__wbg_ptr)}list_cardano_stake_distributions(){return r.mithrilclient_list_cardano_stake_distributions(this.__wbg_ptr)}list_mithril_stake_distributions(){return r.mithrilclient_list_mithril_stake_distributions(this.__wbg_ptr)}reset_certificate_verifier_cache(){return r.mithrilclient_reset_certificate_verifier_cache(this.__wbg_ptr)}verify_message_match_certificate(e,t){return r.mithrilclient_verify_message_match_certificate(this.__wbg_ptr,e,t)}get_cardano_transactions_snapshot(e){let t=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=y;return r.mithrilclient_get_cardano_transactions_snapshot(this.__wbg_ptr,t,n)}list_cardano_database_v2_per_epoch(e){return r.mithrilclient_list_cardano_database_v2_per_epoch(this.__wbg_ptr,e)}list_cardano_transactions_snapshots(){return r.mithrilclient_list_cardano_transactions_snapshots(this.__wbg_ptr)}is_certificate_verifier_cache_enabled(){return r.mithrilclient_is_certificate_verifier_cache_enabled(this.__wbg_ptr)}get_cardano_stake_distribution_by_epoch(e){return r.mithrilclient_get_cardano_stake_distribution_by_epoch(this.__wbg_ptr,e)}constructor(e,t,n){const i=m(e,r.__wbindgen_malloc,r.__wbindgen_realloc),s=y,a=m(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=y,o=r.mithrilclient_new(i,s,a,c,n);return this.__wbg_ptr=o>>>0,$.register(this,this.__wbg_ptr,this),this}list_cardano_database_v2_for_latest_epoch(e){return r.mithrilclient_list_cardano_database_v2_for_latest_epoch(this.__wbg_ptr,e)}compute_cardano_stake_distribution_message(e,t){return r.mithrilclient_compute_cardano_stake_distribution_message(this.__wbg_ptr,e,t)}compute_mithril_stake_distribution_message(e,t){return r.mithrilclient_compute_mithril_stake_distribution_message(this.__wbg_ptr,e,t)}get_cardano_stake_distribution_for_latest_epoch(e){return r.mithrilclient_get_cardano_stake_distribution_for_latest_epoch(this.__wbg_ptr,e)}verify_cardano_transaction_proof_then_compute_message(e,t){return s(e,M),r.mithrilclient_verify_cardano_transaction_proof_then_compute_message(this.__wbg_ptr,e.__wbg_ptr,t)}}Symbol.dispose&&(V.prototype[Symbol.dispose]=V.prototype.free);let W=new Set(["basic","cors","default"]);async function q(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.ok&&W.has(e.type)&&"application/wasm"!==e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function K(){let e={};return e.wbg={},e.wbg.__wbg_Error_52673b7de5a0ca89=function(e,t){return Error(d(e,t))},e.wbg.__wbg_Number_2d1dcfcf4ec51736=function(e){return Number(e)},e.wbg.__wbg___wbindgen_bigint_get_as_i64_6e32f5e6aff02e1d=function(e,t){let n="bigint"==typeof t?t:void 0;_().setBigInt64(e+8,f(n)?BigInt(0):n,!0),_().setInt32(e+0,!f(n),!0)},e.wbg.__wbg___wbindgen_boolean_get_dea25b33882b895b=function(e){let t="boolean"==typeof e?e:void 0;return f(t)?0xffffff:+!!t},e.wbg.__wbg___wbindgen_debug_string_adfb662ae34724b6=function(e,t){let n=m(function e(t){let n,r=typeof t;if("number"==r||"boolean"==r||null==t)return`${t}`;if("string"==r)return`"${t}"`;if("symbol"==r){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==r){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){let n=t.length,r="[";n>0&&(r+=e(t[0]));for(let i=1;i<n;i++)r+=", "+e(t[i]);return r+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(n=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:n}(t),r.__wbindgen_malloc,r.__wbindgen_realloc),i=y;_().setInt32(e+4,i,!0),_().setInt32(e+0,n,!0)},e.wbg.__wbg___wbindgen_in_0d3e1e8f0c669317=function(e,t){return e in t},e.wbg.__wbg___wbindgen_is_bigint_0e1a2e3f55cfae27=function(e){return"bigint"==typeof e},e.wbg.__wbg___wbindgen_is_function_8d400b8b1af978cd=function(e){return"function"==typeof e},e.wbg.__wbg___wbindgen_is_object_ce774f3490692386=function(e){return"object"==typeof e&&null!==e},e.wbg.__wbg___wbindgen_is_string_704ef9c8fc131030=function(e){return"string"==typeof e},e.wbg.__wbg___wbindgen_is_undefined_f6b95eab589e0269=function(e){return void 0===e},e.wbg.__wbg___wbindgen_jsval_eq_b6101cc9cef1fe36=function(e,t){return e===t},e.wbg.__wbg___wbindgen_jsval_loose_eq_766057600fdd1b0d=function(e,t){return e==t},e.wbg.__wbg___wbindgen_number_get_9619185a74197f95=function(e,t){let n="number"==typeof t?t:void 0;_().setFloat64(e+8,f(n)?0:n,!0),_().setInt32(e+0,!f(n),!0)},e.wbg.__wbg___wbindgen_string_get_a2a31e16edf96e42=function(e,t){let n="string"==typeof t?t:void 0;var i=f(n)?0:m(n,r.__wbindgen_malloc,r.__wbindgen_realloc),s=y;_().setInt32(e+4,s,!0),_().setInt32(e+0,i,!0)},e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,t){throw Error(d(e,t))},e.wbg.__wbg__wbg_cb_unref_87dfb5aaa0cbcea7=function(e){e._wbg_cb_unref()},e.wbg.__wbg_abort_07646c894ebbf2bd=function(e){e.abort()},e.wbg.__wbg_abort_399ecbcfd6ef3c8e=function(e,t){e.abort(t)},e.wbg.__wbg_append_c5cbdf46455cc776=function(){return u(function(e,t,n,r,i){e.append(d(t,n),d(r,i))},arguments)},e.wbg.__wbg_arrayBuffer_c04af4fce566092d=function(){return u(function(e){return e.arrayBuffer()},arguments)},e.wbg.__wbg_buffer_6cb2fecb1f253d71=function(e){return e.buffer},e.wbg.__wbg_byobRequest_f8e3517f5f8ad284=function(e){let t=e.byobRequest;return f(t)?0:i(t)},e.wbg.__wbg_byteLength_faa9938885bdeee6=function(e){return e.byteLength},e.wbg.__wbg_byteOffset_3868b6a19ba01dea=function(e){return e.byteOffset},e.wbg.__wbg_call_3020136f7a2d6e44=function(){return u(function(e,t,n){return e.call(t,n)},arguments)},e.wbg.__wbg_call_abb4ff46ce38be40=function(){return u(function(e,t){return e.call(t)},arguments)},e.wbg.__wbg_cardanotransactionsproofs_new=function(e){return M.__wrap(e)},e.wbg.__wbg_cardanotransactionssetproofmessagepart_new=function(e){return O.__wrap(e)},e.wbg.__wbg_cardanotransactionssetproofmessagepart_unwrap=function(e){return O.__unwrap(e)},e.wbg.__wbg_clearTimeout_7a42b49784aea641=function(e){return clearTimeout(e)},e.wbg.__wbg_close_0af5661bf3d335f2=function(){return u(function(e){e.close()},arguments)},e.wbg.__wbg_close_3ec111e7b23d94d8=function(){return u(function(e){e.close()},arguments)},e.wbg.__wbg_close_c956ddbf0426a990=function(e){e.close()},e.wbg.__wbg_done_62ea16af4ce34b24=function(e){return e.done},e.wbg.__wbg_enqueue_a7e6b1ee87963aad=function(){return u(function(e,t){e.enqueue(t)},arguments)},e.wbg.__wbg_entries_83c79938054e065f=function(e){return Object.entries(e)},e.wbg.__wbg_fetch_74a3e84ebd2c9a0e=function(e){return fetch(e)},e.wbg.__wbg_fetch_90447c28cc0b095e=function(e,t){return e.fetch(t)},e.wbg.__wbg_getItem_1340bfc9a10d5991=function(){return u(function(e,t,n,i){let s=t.getItem(d(n,i));var a=f(s)?0:m(s,r.__wbindgen_malloc,r.__wbindgen_realloc),c=y;_().setInt32(e+4,c,!0),_().setInt32(e+0,a,!0)},arguments)},e.wbg.__wbg_getRandomValues_9b655bdd369112f2=function(){return u(function(e,t){globalThis.crypto.getRandomValues(o(e,t))},arguments)},e.wbg.__wbg_getTime_ad1e9878a735af08=function(e){return e.getTime()},e.wbg.__wbg_get_6b7bd52aca3f9671=function(e,t){return e[t>>>0]},e.wbg.__wbg_get_af9dab7e9603ea93=function(){return u(function(e,t){return Reflect.get(e,t)},arguments)},e.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,t){return e[t]},e.wbg.__wbg_has_0e670569d65d3a45=function(){return u(function(e,t){return Reflect.has(e,t)},arguments)},e.wbg.__wbg_headers_654c30e1bcccc552=function(e){return e.headers},e.wbg.__wbg_instanceof_ArrayBuffer_f3320d2419cd0355=function(e){let t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Response_cd74d1c2ac92cb0b=function(e){let t;try{t=e instanceof Response}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Uint8Array_da54ccc9d3e09434=function(e){let t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Window_b5cf7783caa68180=function(e){let t;try{t=e instanceof Window}catch(e){t=!1}return t},e.wbg.__wbg_isArray_51fd9e6422c0a395=function(e){return Array.isArray(e)},e.wbg.__wbg_isSafeInteger_ae7d3f054d55fa16=function(e){return Number.isSafeInteger(e)},e.wbg.__wbg_iterator_27b7c8b35ab3e86b=function(){return Symbol.iterator},e.wbg.__wbg_key_45e131ab9f56e328=function(){return u(function(e,t,n){let i=t.key(n>>>0);var s=f(i)?0:m(i,r.__wbindgen_malloc,r.__wbindgen_realloc),a=y;_().setInt32(e+4,a,!0),_().setInt32(e+0,s,!0)},arguments)},e.wbg.__wbg_length_22ac23eaec9d8053=function(e){return e.length},e.wbg.__wbg_length_642e4ab7950e94e4=function(){return u(function(e){return e.length},arguments)},e.wbg.__wbg_length_d45040a40c570362=function(e){return e.length},e.wbg.__wbg_localStorage_e7a9e9fee8fc608d=function(){return u(function(e){let t=e.localStorage;return f(t)?0:i(t)},arguments)},e.wbg.__wbg_new_0_23cedd11d9b40c9d=function(){return new Date},e.wbg.__wbg_new_1ba21ce319a06297=function(){return{}},e.wbg.__wbg_new_25f239778d6112b9=function(){return[]},e.wbg.__wbg_new_3c79b3bb1b32b7d3=function(){return u(function(){return new Headers},arguments)},e.wbg.__wbg_new_6421f6084cc5bc5a=function(e){return new Uint8Array(e)},e.wbg.__wbg_new_881a222c65f168fc=function(){return u(function(){return new AbortController},arguments)},e.wbg.__wbg_new_b3dd747604c3c93e=function(){return u(function(e,t){return new BroadcastChannel(d(e,t))},arguments)},e.wbg.__wbg_new_b546ae120718850e=function(){return new Map},e.wbg.__wbg_new_df1173567d5ff028=function(e,t){return Error(d(e,t))},e.wbg.__wbg_new_ff12d2b041fb48f1=function(e,t){try{var n={a:e,b:t};return new Promise((e,t)=>{let i=n.a;n.a=0;try{var s;return s=n.b,void r.wasm_bindgen__convert__closures_____invoke__ha63a12d5a02969f6(i,s,e,t)}finally{n.a=i}})}finally{n.a=n.b=0}},e.wbg.__wbg_new_from_slice_f9c22b9153b26992=function(e,t){return new Uint8Array(o(e,t))},e.wbg.__wbg_new_no_args_cb138f77cf6151ee=function(e,t){return Function(d(e,t))},e.wbg.__wbg_new_with_byte_offset_and_length_d85c3da1fd8df149=function(e,t,n){return new Uint8Array(e,t>>>0,n>>>0)},e.wbg.__wbg_new_with_str_and_init_c5748f76f5108934=function(){return u(function(e,t,n){return new Request(d(e,t),n)},arguments)},e.wbg.__wbg_next_138a17bbf04e926c=function(e){return e.next},e.wbg.__wbg_next_3cfe5c0fe2a4cc53=function(){return u(function(e){return e.next()},arguments)},e.wbg.__wbg_postMessage_ee7b4e76cd1ed685=function(){return u(function(e,t){e.postMessage(t)},arguments)},e.wbg.__wbg_prototypesetcall_dfe9b766cdc1f1fd=function(e,t,n){Uint8Array.prototype.set.call(o(e,t),n)},e.wbg.__wbg_queueMicrotask_9b549dfce8865860=function(e){return e.queueMicrotask},e.wbg.__wbg_queueMicrotask_fca69f5bfad613a5=function(e){queueMicrotask(e)},e.wbg.__wbg_removeItem_33ed1aeb2dc68e96=function(){return u(function(e,t,n){e.removeItem(d(t,n))},arguments)},e.wbg.__wbg_resolve_fd5bfbaa4ce36e1e=function(e){return Promise.resolve(e)},e.wbg.__wbg_respond_9f7fc54636c4a3af=function(){return u(function(e,t){e.respond(t>>>0)},arguments)},e.wbg.__wbg_setItem_1167ad38996d6426=function(){return u(function(e,t,n,r,i){e.setItem(d(t,n),d(r,i))},arguments)},e.wbg.__wbg_setTimeout_7bb3429662ab1e70=function(e,t){return setTimeout(e,t)},e.wbg.__wbg_set_169e13b608078b7b=function(e,t,n){e.set(o(t,n))},e.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,n){e[t]=n},e.wbg.__wbg_set_7df433eea03a5c14=function(e,t,n){e[t>>>0]=n},e.wbg.__wbg_set_body_8e743242d6076a4f=function(e,t){e.body=t},e.wbg.__wbg_set_cache_0e437c7c8e838b9b=function(e,t){e.cache=C[t]},e.wbg.__wbg_set_credentials_55ae7c3c106fd5be=function(e,t){e.credentials=k[t]},e.wbg.__wbg_set_efaaf145b9377369=function(e,t,n){return e.set(t,n)},e.wbg.__wbg_set_headers_5671cf088e114d2b=function(e,t){e.headers=t},e.wbg.__wbg_set_method_76c69e41b3570627=function(e,t,n){e.method=d(t,n)},e.wbg.__wbg_set_mode_611016a6818fc690=function(e,t){e.mode=N[t]},e.wbg.__wbg_set_signal_e89be862d0091009=function(e,t){e.signal=t},e.wbg.__wbg_signal_3c14fbdc89694b39=function(e){return e.signal},e.wbg.__wbg_static_accessor_GLOBAL_769e6b65d6557335=function(){let e="undefined"==typeof global?null:global;return f(e)?0:i(e)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_60cf02db4de8e1c1=function(){let e="undefined"==typeof globalThis?null:globalThis;return f(e)?0:i(e)},e.wbg.__wbg_static_accessor_SELF_08f5a74c69739274=function(){let e="undefined"==typeof self?null:self;return f(e)?0:i(e)},e.wbg.__wbg_static_accessor_WINDOW_a8924b26aa92d024=function(){let e=window;return f(e)?0:i(e)},e.wbg.__wbg_status_9bfc680efca4bdfd=function(e){return e.status},e.wbg.__wbg_stringify_655a6390e1f5eb6b=function(){return u(function(e){return JSON.stringify(e)},arguments)},e.wbg.__wbg_text_51046bb33d257f63=function(){return u(function(e){return e.text()},arguments)},e.wbg.__wbg_then_429f7caf1026411d=function(e,t,n){return e.then(t,n)},e.wbg.__wbg_then_4f95312d68691235=function(e,t){return e.then(t)},e.wbg.__wbg_url_b6d11838a4f95198=function(e,t){let n=m(t.url,r.__wbindgen_malloc,r.__wbindgen_realloc),i=y;_().setInt32(e+4,i,!0),_().setInt32(e+0,n,!0)},e.wbg.__wbg_value_57b7b035e117f7ee=function(e){return e.value},e.wbg.__wbg_view_788aaf149deefd2f=function(e){let t=e.view;return f(t)?0:i(t)},e.wbg.__wbg_warn_6e567d0d926ff881=function(e){console.warn(e)},e.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,t){return d(e,t)},e.wbg.__wbindgen_cast_2761ab2b4bc7107e=function(e,t){return b(e,t,r.wasm_bindgen__closure__destroy__h6f2008367d1ed733,A)},e.wbg.__wbindgen_cast_3dd29ee7c28bcb43=function(e,t){return b(e,t,r.wasm_bindgen__closure__destroy__h6549626d8de04cd6,v)},e.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},e.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},e.wbg.__wbindgen_init_externref_table=function(){let e=r.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e}function G(e,t){return r=e.exports,Q.__wbindgen_wasm_module=t,l=null,h=null,r.__wbindgen_start(),r}function J(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=K();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),G(new WebAssembly.Instance(e,t),e)}async function Q(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new n.U(n(1751)));let t=K();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:s}=await q(await e,t);return G(i,s)}let X=Q},8208:(e,t,n)=>{"use strict";n.d(t,{CV:()=>w,Oz:()=>d,PY:()=>h,QB:()=>u,XN:()=>g,rT:()=>f,sI:()=>_,ue:()=>l,v:()=>m,z1:()=>x});var r=n(3769),i=n(1117),s=n.n(i),a=n(9648),c=n(506),o=n(4442);let l={updateInterval:void 0,refreshSeed:0,selectedAggregator:a.A[0],availableAggregators:a.A,aggregatorCapabilities:o.defaultAggregatorCapabilities,canRemoveSelected:!1},_=(0,r.Z0)({name:"settings",initialState:l,reducers:{setUpdateInterval:(e,t)=>{let n=t.payload;e.updateInterval=!Number.isNaN(n)&&Number.isInteger(n)?n:void 0},changeRefreshSeed:e=>{e.refreshSeed=Math.random()},selectAggregator:(e,t)=>{if(!(0,c.checkUrl)(t.payload))return e;let n=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:n,canRemoveSelected:!a.A.includes(t.payload)}},removeSelectedAggregator:e=>a.A.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!a.A.includes(e.availableAggregators.at(0))},updateSelectedAggregatorCapabilities:(e,t)=>({...e,aggregatorCapabilities:t.payload})}}),d=e=>{e.startListening({actionCreator:u,effect:async(e,t)=>{let n=e.payload;if(n){let e=await s().fetchAggregatorCapabilities(n);t.dispatch(b(e))}}})},{setUpdateInterval:h,changeRefreshSeed:g,selectAggregator:u,removeSelectedAggregator:f,updateSelectedAggregatorCapabilities:b}=_.actions,x=e=>e.settings.selectedAggregator,m=e=>e.settings?.aggregatorCapabilities??o.defaultAggregatorCapabilities,w=e=>e.settings?.aggregatorCapabilities?.signed_entity_types??[];_.reducer},9648:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","http://localhost:8080/aggregator"]}},e=>{e.O(0,[996,647,101,678,500,844,956,103,278,441,794,358],()=>e(e.s=4345)),_N_E=e.O()}]);