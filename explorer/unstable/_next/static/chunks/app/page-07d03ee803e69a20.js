(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{589:e=>{e.exports={events:"styles_events__fx6_1",error:"styles_error__jDHvR"}},1751:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/mithril_client_wasm_bg.3da5c8a9.wasm"},2986:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(5155);r(2115);var i=r(958),s=r(3427),a=r(8956);function c({tooltip:e="Raw JSON",color:t="black",...r}){return(0,n.jsx)(i.A,{overlay:(0,n.jsx)(s.A,{children:e}),children:(0,n.jsx)(a.A,{variant:"outline-secondary",target:"_blank",...r,children:(0,n.jsx)("i",{className:`bi bi-filetype-json text-${t}`})})})}},3878:e=>{e.exports={downloadPopover:"styles_downloadPopover__3ISd5"}},4345:(e,t,r)=>{Promise.resolve().then(r.bind(r,6824))},6144:e=>{e.exports={artifactColLabel:"styles_artifactColLabel__RngDR"}},6207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(7315),i=r(506);e.exports={newMithrilWasmClient:async function(e,t){return new n.MithrilClient(e,t,{unstable:!0,enable_certificate_chain_verification_cache:!0,origin_tag:"EXPLORER"})},fetchGenesisVerificationKey:async function(e){let t=(0,i.computeAggregatorNetworkFromUrl)(e);return fetch(`https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/${t}/genesis.vkey`).then(e=>e.text()).catch(e=>console.error("Error fetching genesis verification key:",e))}}},6824:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eU});var n=r(5155),i=r(2115),s=r(2834),a=r(3321),c=r(9853),o=r(6479),l=r(1360),_=r(3888),d=r(958),h=r(3427),u=r(9766),g=r(6072),f=r(5894),b=r(4562),x=r(8956),m=r(8208),j=r(2037),p=r(9861),w=r(506);function y(e){let[t,r]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),o=(0,s.wA)();function l(){e.onAskClose(),c(!1),r("")}function _(e){e.preventDefault(),(0,w.checkUrl)(t)?(l(),o((0,m.QB)(t))):c(!0)}return(0,n.jsxs)(j.A,{show:e.show,onHide:l,size:"lg","aria-labelledby":"add-aggregator-title",centered:!0,children:[(0,n.jsx)(j.A.Header,{closeButton:!0,children:(0,n.jsx)(j.A.Title,{id:"add-aggregator-title",children:"New aggregator source"})}),(0,n.jsx)(j.A.Body,{children:(0,n.jsx)(u.A,{onSubmit:_,children:(0,n.jsxs)(p.A,{children:[(0,n.jsx)(u.A.Label,{children:"URL"}),(0,n.jsx)(u.A.Control,{type:"url",value:t,onChange:e=>r(e.target.value),isInvalid:a,autoFocus:!0}),(0,n.jsx)(u.A.Control.Feedback,{type:"invalid",children:"Invalid URL"})]})})}),(0,n.jsxs)(j.A.Footer,{children:[(0,n.jsx)(x.A,{variant:"secondary",onClick:l,children:"Close"}),(0,n.jsx)(x.A,{variant:"primary",onClick:_,children:"Save"})]})]})}function v(e){let[t,r]=(0,i.useState)(!1),a=(0,s.d4)(e=>e.settings.selectedAggregator),c=(0,s.d4)(e=>e.settings.availableAggregators),o=(0,s.d4)(e=>e.settings.canRemoveSelected),l=(0,s.wA)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{show:t,onAskClose:()=>r(!1)}),(0,n.jsx)(u.A.Group,{as:f.A,...e,children:(0,n.jsxs)(b.A,{children:[(0,n.jsx)(x.A,{variant:"outline-success",onClick:()=>r(!0),children:(0,n.jsx)("i",{className:"bi bi-plus-circle"})}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.A,{variant:"outline-danger",onClick:()=>l((0,m.rT)()),children:(0,n.jsx)("i",{className:"bi bi-dash-circle"})}),(0,n.jsx)(d.A,{overlay:(0,n.jsx)(h.A,{children:"Unofficial Aggregator"}),children:(0,n.jsx)(x.A,{variant:"outline-warning",children:(0,n.jsx)("i",{className:"bi bi-exclamation-triangle"})})})]}),(0,n.jsx)(u.A.Select,{value:a,onChange:e=>l((0,m.QB)(e.target.value)),children:c.map((e,t)=>(0,n.jsx)("option",{value:e,children:e},"agg-"+t))}),(0,n.jsx)(d.A,{overlay:(0,n.jsx)(h.A,{children:"Copy url"}),children:(0,n.jsx)(x.A,{variant:"outline-secondary",onClick:function(){window.isSecureContext&&a&&navigator.clipboard.writeText(a).then(()=>{})},children:(0,n.jsx)("i",{className:"bi bi-clipboard"})})})]})})]})}var A=r(7484),S=r(3758),C=r(7979),k=r(7018),N=r(2986),z=r(3461);function I({protocolParameters:e,padding:t,...r}){let i=`p-${t??"auto"}`;return(0,n.jsxs)(z.A,{horizontal:!0,...r,children:[(0,n.jsxs)(z.A.Item,{className:`${i}`,children:[(0,n.jsx)("em",{children:"k:"})," ",e?.k]}),(0,n.jsxs)(z.A.Item,{className:`${i}`,children:[(0,n.jsx)("em",{children:"m:"})," ",e?.m]}),(0,n.jsxs)(z.A.Item,{className:`${i}`,children:[(0,n.jsx)("em",{children:"f:"})," ",e?.phi_f]})]})}var F=r(1117);function E(){let[e,t]=(0,i.useState)({}),r=(0,s.d4)(e=>e.settings.selectedAggregator),a=(0,s.d4)(e=>`${(0,m.z1)(e)}/epoch-settings`),o=(0,s.d4)(e=>e.settings.refreshSeed),l=(0,s.d4)(e=>e.settings.updateInterval),[_,d]=(0,i.useState)(void 0),[h,u]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(a).then(e=>200===e.status?e.json():{}).then(e=>t(e)).catch(e=>{t({}),console.error("Fetch epoch-settings error:",e)})};if(e(),l){let t=setInterval(e,l);return()=>clearInterval(t)}},[a,l,o]),(0,i.useEffect)(()=>{if((0,w.checkUrl)(r)){let e=new URLSearchParams;e.set("aggregator",r),u(`/registrations-in-out?${e.toString()}`)}if((0,w.checkUrl)(r)&&Number.isInteger(e?.epoch)){let t=new URLSearchParams;t.set("aggregator",r),t.set("epoch",e.epoch),d(`/registrations?${t.toString()}`)}},[r,e]),(0,n.jsxs)(A.A,{children:[(0,n.jsx)(A.A.Body,{children:(0,n.jsx)(C.A,{children:(0,n.jsxs)(g.A,{children:[(0,n.jsxs)(f.A,{xs:12,md:"auto",children:[(0,n.jsx)("h5",{children:"Current Epoch"}),(0,n.jsx)("div",{className:"mb-2 ps-3",children:e.epoch})]}),(0,n.jsxs)(f.A,{xs:12,md:"auto",children:[(0,n.jsx)("h5",{children:"Registration Protocol Parameters"}),(0,n.jsx)(I,{protocolParameters:e.signer_registration_protocol??e.next_protocol})]})]})})}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,className:"justify-content-md-end align-items-stretch justify-content-sm-center",children:[(0,n.jsxs)(k.A,{href:_??"#",disabled:void 0===_,children:[(0,n.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,n.jsxs)(k.A,{href:h??"#",disabled:void 0===h,children:[(0,n.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,n.jsx)(N.A,{href:a,variant:"outline-secondary"})]})})]})}function P({tooltip:e,...t}){return(0,n.jsx)(d.A,{overlay:(0,n.jsx)(h.A,{children:e}),children:(0,n.jsx)("span",{...t,children:(0,n.jsx)("i",{className:"bi bi-question-circle text-secondary"})})})}var T=r(8028);function R({children:e,title:t,...r}){return(0,n.jsx)(f.A,{xs:12,sm:6,md:4,lg:3,xl:2,className:"mb-3",...r,children:(0,n.jsx)(A.A,{className:"h-100",...r,children:(0,n.jsxs)(A.A.Body,{children:[(0,n.jsx)("h5",{children:t}),(0,n.jsx)("div",{className:"ps-1",children:e})]})})})}function $({label:e,children:t,className:r="",...i}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:`d-flex justify-content-between ${r}`,...i,children:[(0,n.jsx)("div",{className:"me-2 flex-fill",children:(0,n.jsxs)("em",{children:[e,":"]})}),(0,n.jsx)("div",{className:"text-end",children:t})]}),(0,n.jsx)("hr",{className:"my-2"})]})}function B({value:e,total:t,...r}){return(0,n.jsx)(P,{tooltip:`${e} out of ${t}`,...r})}function M({showContent:e=!0}){let[t,r]=(0,i.useState)({}),[a,o]=(0,i.useState)({}),l=(0,s.d4)(e=>e.settings.selectedAggregator),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/status`),[d,h]=(0,i.useState)(void 0),[u,f]=(0,i.useState)(void 0),b=(0,s.d4)(e=>e.settings.refreshSeed),x=(0,s.d4)(e=>e.settings.updateInterval),[j,p]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>200===e.status?e.json():{}).then(e=>{r(e),p(!1)}).catch(e=>{r({}),p(!0)})};if(e(),x){let t=setInterval(e,x);return()=>clearInterval(t)}},[_,x,b]),(0,i.useEffect)(()=>{if(!(0,w.checkUrl)(l))return;let e=t?.aggregator_node_version?.split("+")??[];o({number:e[0]??"0.0.0",sha:e[1]??void 0});let r=new URLSearchParams;if(r.set("aggregator",l),f(`/registrations-in-out?${r.toString()}`),Number.isInteger(t?.epoch)){let e=new URLSearchParams;e.set("aggregator",l),e.set("epoch",t.epoch),h(`/registrations?${e.toString()}`)}},[l,t]),j?(0,n.jsx)(c.A,{direction:"horizontal",children:(0,n.jsx)(S.A,{in:e,children:(0,n.jsx)("div",{id:"contentRow",children:(0,n.jsx)(E,{})})})}):(0,n.jsxs)(C.A,{fluid:!0,children:[(0,n.jsx)(S.A,{in:e,children:(0,n.jsx)("div",{id:"contentRow",children:(0,n.jsxs)(g.A,{className:"d-flex flex-wrap justify-content-md-center",children:[(0,n.jsxs)(R,{title:`Epoch ${t.epoch}`,children:[(0,n.jsx)($,{label:"Cardano Network",className:"text-capitalize",children:t.cardano_network}),(0,n.jsx)($,{label:"Cardano Era",children:t.cardano_era}),(0,n.jsx)($,{label:"Mithril Era",className:"text-capitalize",children:t.mithril_era}),(0,n.jsx)($,{label:"Aggregation",className:"text-capitalize",children:t.aggregate_signature_type??"Concatenation"})]}),(0,n.jsxs)(R,{title:"SPOs",children:[(0,n.jsx)($,{label:"Current Signers",children:t.total_signers??0}),(0,n.jsx)($,{label:"Next Signers",children:t.total_next_signers??0}),(0,n.jsxs)($,{label:"Cardano Adoption",children:[(0,w.percent)(t.total_signers,t.total_cardano_spo),"%"," ",(0,n.jsx)(B,{value:t.total_signers??0,total:t.total_cardano_spo??0})]})]}),(0,n.jsxs)(R,{title:"Stakes",children:[(0,n.jsx)($,{label:"Current Signers",children:(0,n.jsx)(T.A,{lovelace:t.total_stakes_signers??0})}),(0,n.jsx)($,{label:"Next Signers",children:(0,n.jsx)(T.A,{lovelace:t.total_next_stakes_signers??0})}),(0,n.jsxs)($,{label:"Cardano Adoption",children:[(0,w.percent)(t.total_stakes_signers,t.total_cardano_stake),"%"," ",(0,n.jsx)(B,{value:(0,w.formatStake)(t.total_stakes_signers)??0,total:(0,w.formatStake)(t.total_cardano_stake)??0})]})]}),(0,n.jsxs)(R,{title:"Protocol Parameters",children:[(0,n.jsx)("em",{children:"Current:"}),(0,n.jsx)(I,{protocolParameters:t.protocol,padding:2}),(0,n.jsx)("em",{children:"Next:"}),(0,n.jsx)(I,{protocolParameters:t.next_protocol,padding:2})]}),(0,n.jsxs)(R,{title:"Versions",children:[(0,n.jsxs)($,{label:"Aggregator",children:[a.number,a.sha&&(0,n.jsxs)("em",{children:[" (",a.sha,")"]})]}),(0,n.jsx)($,{label:"Cardano",children:t.cardano_node_version})]})]})})}),(0,n.jsx)(g.A,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,className:"align-items-stretch justify-content-sm-center border bg-light rounded p-2",children:[(0,n.jsxs)(k.A,{className:"ms-auto",href:d??"#",disabled:void 0===d,children:[(0,n.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,n.jsxs)(k.A,{href:u??"#",disabled:void 0===u,children:[(0,n.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,n.jsx)(N.A,{href:_,variant:"outline-secondary",tooltip:"Aggregator Status Raw JSON",className:"ms-auto"})]})})]})}function O(e){let t=(0,s.d4)(e=>e.settings.updateInterval),r=(0,s.wA)();return(0,n.jsx)(u.A.Group,{as:f.A,...e,children:(0,n.jsxs)(b.A,{children:[(0,n.jsx)(x.A,{type:"button",onClick:()=>r((0,m.XN)()),variant:"primary",children:"Refresh"}),(0,n.jsx)(d.A,{overlay:(0,n.jsx)(h.A,{children:"Set auto-refresh interval"}),children:(0,n.jsxs)(u.A.Select,{"aria-label":"Auto refresh interval",value:t,onChange:e=>r((0,m.PY)(parseInt(e.target.value))),children:[(0,n.jsx)("option",{value:void 0,children:"Off"}),(0,n.jsx)("option",{value:1e3,children:"1 second"}),(0,n.jsx)("option",{value:5e3,children:"5 seconds"}),(0,n.jsx)("option",{value:1e4,children:"10 seconds"})]})})]})})}function D(){let[e,t]=(0,i.useState)(!0);return(0,n.jsxs)(c.A,{gap:2,children:[(0,n.jsx)("h3",{children:(0,n.jsxs)("a",{role:"button",onClick:()=>t(!e),"aria-expanded":e,"aria-controls":"contentRow",children:["Aggregator"," ",(0,n.jsx)(d.A,{overlay:(0,n.jsx)(h.A,{children:"Show/hide Aggregator status"}),children:(0,n.jsx)("i",{className:`bi bi-chevron-${e?"up":"down"}`})})]})}),(0,n.jsx)(u.A,{children:(0,n.jsxs)(g.A,{xs:1,sm:2,className:"row-gap-2",children:[(0,n.jsx)(v,{sm:8}),(0,n.jsx)(O,{sm:4})]})}),(0,n.jsx)(M,{showContent:e})]})}var H=r(9504),U=r(3699);function L({hash:e,index:t}){return(0,n.jsxs)(c.A,{direction:"horizontal",gap:2,children:[(0,n.jsxs)("h6",{className:"text-secondary card-title",children:["#",t+1,"."]}),(0,n.jsx)(A.A.Title,{children:(0,n.jsx)(U.A,{hash:e})})]})}var V=r(6144),W=r.n(V);function q({label:e,children:t,className:r="",...i}){return(0,n.jsxs)(f.A,{className:`mx-2 px-0 py-1 d-flex flex-column justify-content-between ${r}`,...i,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:W().artifactColLabel,children:(0,n.jsxs)("em",{children:[e,":"]})}),(0,n.jsx)("div",{className:"test-end",children:t})]}),(0,n.jsx)("hr",{className:"my-1"})]})}function K({show:e}){return!0===e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.default,{bg:"primary",children:"Latest"})," "]}):(0,n.jsx)(n.Fragment,{})}var G=r(9856),J=r(7978),Q=r(8067),X=r(7140);function Y({signedEntityType:e,table:t=!1}){let r=(0,w.parseSignedEntity)(e);return t?(0,n.jsx)(G.A,{className:"mb-3",children:(0,n.jsxs)("tbody",{children:[(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:2,children:(0,n.jsx)("h6",{children:r.name})})}),Object.entries(r.fields).map(([e,t])=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsxs)("em",{children:[e,":"]})}),(0,n.jsx)("td",{children:t})]},e))]})}):(0,n.jsxs)(z.A,{children:[(0,n.jsx)(z.A.Item,{children:(0,n.jsx)("h6",{children:r.name})}),(0,n.jsx)(z.A.Item,{children:(0,n.jsx)(z.A,{horizontal:"xxl",children:Object.entries(r.fields).map(([e,t])=>(0,n.jsxs)(z.A.Item,{children:[e,": ",t]},e))})})]})}var Z=r(8278),ee=r(6545),et=r(8442),er=r(2691),en=r(4122);function ei({datetime:e}){return(0,n.jsx)(n.Fragment,{children:new Date(e).toLocaleString()})}var es=r(589),ea=r.n(es);let ec=0;function eo({hash:e,onClick:t,showLink:r,linkVariant:i="dark"}){return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{href:"#",target:"_blank",className:`link-${i} link-underline-opacity-0 link-underline-opacity-100-hover`,onClick:function(r){r.preventDefault(),t(e)},children:e})," ",(0,n.jsx)(er.A,{textToCopy:e})]}):(0,n.jsx)(U.A,{hash:e})}function el({client:e,certificate:t,hideSpinner:r=!1,showCertificateLinks:s=!1,onStepChange:a=e=>{},onChainValidationError:c=e=>{},onCertificateClick:o=e=>{}}){let[l,_]=(0,i.useState)(1),[d,h]=(0,i.useState)(void 0),[u,g]=(0,i.useState)(null),[f,b]=(0,i.useState)([]);async function x(e,t){let r=performance.now();await e.verify_certificate_chain(t),g((0,w.formatProcessDuration)(r))}function m(e){let t=e.data,r=(0,n.jsx)(n.Fragment,{}),i=3;switch(t.type){case"CertificateChainValidationStarted":i=1,r=(0,n.jsx)(n.Fragment,{children:"The certificate chain validation has started..."});break;case"CertificateValidated":i=2,r={certificateHash:t.payload.certificate_hash,cached:!1};break;case"CertificateFetchedFromCache":i=2,r={certificateHash:t.payload.certificate_hash,cached:!0};break;case"CertificateChainValidated":r=(0,n.jsxs)(n.Fragment,{children:["The certificate chain is valid ",(0,n.jsx)("i",{className:"text-success bi bi-check-circle-fill"})]});break;default:r=(0,n.jsx)(n.Fragment,{children:t})}b(e=>[...e,{id:ec++,position:i,message:r}])}async function j(){await e.reset_certificate_verifier_cache()}return(0,i.useEffect)(()=>{let e=new BroadcastChannel("mithril-client");return e.addEventListener("message",m),()=>e.close()},[]),(0,i.useEffect)(()=>{a(l)},[l,a]),(0,i.useEffect)(()=>{d&&c(d)},[d,c]),(0,i.useEffect)(()=>{1===l&&(b([]),h(void 0),e&&t&&(_(2),x(e,t.hash).catch(e=>{console.error("Certificate Chain verification error:\n",e),h(e)}).finally(()=>_(3))))},[l,e,t]),(0,n.jsx)(n.Fragment,{children:Object.entries(t).length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{children:"Certificate Details"}),(0,n.jsxs)("div",{children:["Certificate hash:"," ",(0,n.jsx)(eo,{hash:t.hash,onClick:()=>o(t.hash),showLink:s,linkVariant:"primary"})]}),(0,n.jsxs)("div",{children:["Epoch: ",t.epoch]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsxs)("div",{children:["Sealed at: ",(0,n.jsx)(ei,{datetime:t.metadata.sealed_at})]}),2===l&&(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)("div",{className:"ms-1 pe-1",children:"Verifying the certificate chain..."}),!r&&(0,n.jsx)(ee.A,{animation:"border",variant:"primary"})]}),3===l&&(0,n.jsxs)("div",{className:"ms-1 pe-1",children:["Verification duration: ",u]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{className:ea().events,children:[(0,n.jsx)("span",{}),(0,n.jsxs)("div",{children:[f.filter(e=>1===e.position).map(e=>(0,n.jsx)("div",{children:e.message},e.id)),(0,n.jsxs)(G.A,{className:"my-2",responsive:!0,striped:!0,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Certificate hash"}),(0,n.jsx)("th",{children:"Checked"})]})}),(0,n.jsx)("tbody",{children:f.filter(e=>2===e.position).map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)(eo,{hash:e.message.certificateHash,onClick:()=>o(e.message.certificateHash),showLink:s})}),(0,n.jsx)("td",{children:e.message.cached?(0,n.jsx)(en.A,{tooltip:"cached",variant:"warning",icon:"clock-fill"}):(0,n.jsx)(en.A,{tooltip:"yes",variant:"success",icon:"check-circle-fill"})})]},e.id))})]}),f.filter(e=>3===e.position).map(e=>(0,n.jsx)("div",{children:e.message},e.id)),e.is_certificate_verifier_cache_enabled()&&3===l&&(0,n.jsxs)(n.Fragment,{children:["Cache enabled:"," ",(0,n.jsx)("a",{href:"#",onClick:j,children:"reset cache"})]}),void 0!==d&&(0,n.jsxs)(et.A,{variant:"danger",className:"mt-2",children:[(0,n.jsxs)(et.A.Heading,{children:[(0,n.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Invalid certificate chain"]}),(0,n.jsx)("div",{className:ea().error,children:d.toString()})]})]})]})]})})}function e_({show:e,onClose:t,certificateHash:a}){let c=(0,s.d4)(e=>e.settings.selectedAggregator),[o,l]=(0,i.useState)(!1),[_,d]=(0,i.useState)(!1),[h,u]=(0,i.useState)(void 0),[g,f]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{if(e){let{fetchGenesisVerificationKey:e,newMithrilWasmClient:t}=r(6207);d(!1),e(c).then(e=>t(c,e)).then(e=>(u(e),e.get_mithril_certificate(a))).then(e=>f(e)).catch(e=>console.error("VerifyCertificateModal init error:",e))}},[e,c,a]),(0,i.useEffect)(()=>{o||d(!1)},[o]),(0,n.jsxs)(j.A,{show:e,onHide:function(){o?d(!0):t()},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(j.A.Header,{closeButton:!0,children:(0,n.jsx)(j.A.Title,{children:"Verify certificate"})}),(0,n.jsx)(j.A.Body,{children:e&&(0,n.jsxs)(n.Fragment,{children:[_&&(0,n.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."}),h&&g&&(0,n.jsx)(el,{client:h,certificate:g,onStepChange:e=>l(2===e)})]})}),(0,n.jsx)(j.A.Footer,{})]})}function ed({hash:e,hideButtons:t=!1,onHashChange:r=e=>{}}){let[a,c]=(0,i.useState)({}),[o,l]=(0,i.useState)({stakesBreakdown:{}}),[_,d]=(0,i.useState)(!1),h=(0,s.d4)(t=>`${(0,m.z1)(t)}/certificate/${e}`);return(0,i.useEffect)(()=>{e&&(0,F.fetchAggregator)(h).then(e=>200===e.status?e.json():{}).then(e=>{c(e),l({stakesBreakdown:(0,X.an)(e.metadata.signers)})}).catch(e=>{c({}),console.error("Fetch certificate error:",e)})},[h,e]),(0,n.jsxs)(j.A,{show:void 0!==e,onHide:function(){r(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(j.A.Header,{className:"text-break",closeButton:!0,children:(0,n.jsxs)(j.A.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",a.hash]})}),(0,n.jsx)(j.A.Body,{children:0===Object.entries(a).length?(0,n.jsx)("p",{children:"Not found"}):(0,n.jsxs)(C.A,{className:_&&"d-none",children:[(0,n.jsxs)(g.A,{md:1,xl:"auto",children:[(0,n.jsxs)(f.A,{xl:4,className:"mb-3",children:[(0,n.jsx)("h4",{children:"Beacon"}),(0,n.jsx)(Y,{signedEntityType:a.signed_entity_type,table:!0}),(0,n.jsx)("h4",{children:"Protocol Parameters"}),(0,n.jsx)(I,{className:"mb-3",protocolParameters:a.metadata.parameters}),(0,n.jsx)("h4",{children:"Statistics"}),(0,n.jsx)(G.A,{className:"mb-0",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("em",{children:"Number of signers:"})}),(0,n.jsx)("td",{children:a?.metadata.signers.length??0})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("em",{children:"Total stakes:"})}),(0,n.jsx)("td",{children:(0,n.jsx)(T.A,{lovelace:a?.metadata.signers.reduce((e,t)=>e+t.stake,0)??0})})]})]})})]}),(0,n.jsx)(f.A,{xl:8,className:"mb-1",children:""!==a.genesis_signature?(0,n.jsxs)("div",{children:["This is the chain"," ",(0,n.jsx)("em",{children:(0,n.jsx)("strong",{children:"Genesis Certificate"})}),", since it's manually created it doesn't contain any Signers."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{children:"Stakes breakdown"}),(0,n.jsx)(Q.yP,{data:o.stakesBreakdown})]})})]}),(0,n.jsx)(g.A,{children:""===a.genesis_signature&&(0,n.jsx)(J.A,{children:(0,n.jsxs)(J.A.Item,{eventKey:"signers",children:[(0,n.jsx)(J.A.Header,{children:(0,n.jsx)("h4",{children:"Signers"})}),(0,n.jsx)(J.A.Body,{children:0===a.metadata.signers.length?(0,n.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,n.jsx)(Z.A,{signers:a.metadata.signers})})]})})})]})}),(0,n.jsxs)(j.A.Footer,{children:[!t&&(0,n.jsx)(x.A,{size:"sm",onClick:()=>d(!0),className:"text-break",children:"Verify certificate"}),""!==a.genesis_signature?(0,n.jsx)(H.default,{bg:"warning",children:"Genesis"}):!t&&(0,n.jsxs)(x.A,{size:"sm",onClick:function(){r(a.previous_hash)},className:"text-break",children:["Previous hash: ",a.previous_hash]}),(0,n.jsx)(N.A,{href:h,size:"sm"})]}),!t&&(0,n.jsx)(e_,{show:_,onClose:()=>d(!1),certificateHash:a.hash})]})}function eh(e){let[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/snapshots`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Cardano Db Snapshots"," ",(0,n.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsx)(g.A,{children:0===Object.entries(t).length?(0,n.jsx)("p",{children:"No snapshot available"}):t.map((e,t)=>(0,n.jsx)(f.A,{className:"mb-2",children:(0,n.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,n.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,n.jsx)(L,{hash:e.digest,index:t}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(q,{label:"Epoch",children:e.beacon.epoch}),(0,n.jsx)(q,{label:"Immutable file number",children:e.beacon.immutable_file_number}),(0,n.jsx)(q,{label:"Created",children:(0,n.jsx)(ei,{datetime:e.created_at})}),(0,n.jsxs)(q,{label:"Archive size",children:[(0,w.formatBytes)(e.size+(e.ancillary_size??0)),(0,n.jsx)(P,{tooltip:(0,n.jsxs)("span",{children:["Immutable files archive size: ",(0,w.formatBytes)(e.size),(0,n.jsx)("hr",{className:"m-1"}),"Ancillary archive size:"," ",(0,w.formatBytes)(e.ancillary_size??0)]})})]}),(0,n.jsx)(q,{label:"Cardano node",children:e.cardano_node_version}),(0,n.jsx)(q,{label:"Compression",children:e.compression_algorithm}),(0,n.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,n.jsx)(K,{show:0===t}),(0,n.jsx)(H.default,{bg:"secondary",children:e.network}),(0,n.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,n.jsx)(N.A,{href:`${l}/artifact/snapshot/${e.digest}`,size:"sm"})]})})]})},e.digest))})})]})]})}var eu=r(5054),eg=r(4042),ef=r(3878),eb=r.n(ef);let ex=()=>(0,n.jsx)("i",{className:"bi bi-download"}),em=e=>e?.type==="cloud_storage"||e?.type==="aggregator";function ej({ariaLabel:e,locations:t,value:r,onChange:i}){return(0,n.jsx)(u.A.Select,{"aria-label":e,value:r,onChange:i,children:t?.map((e,t)=>(0,n.jsx)("option",{value:t,children:function(e){switch(e){case"cloud_storage":return"Cloud Storage";case"aggregator":return"Aggregator";default:return e}}(e.type)},`digest-${e.type}-${t}`))})}function ep({max:e,value:t,onChange:r}){return(0,n.jsx)(u.A.Control,{type:"number",value:t,onChange:r,required:!0,min:0,max:e})}function ew({artifactUrl:e,...t}){let[r,s]=(0,i.useState)(!1),a=(0,i.useRef)(null),[o,l]=(0,i.useState)(0),[_,d]=(0,i.useState)(0),[h,m]=(0,i.useState)(!1),[j,p]=(0,i.useState)(void 0),[y,v]=(0,i.useState)(0),[A,S]=(0,i.useState)(0),[k,N]=(0,i.useState)(0),[z,I]=(0,i.useState)(!1),E=()=>s(!1);function P(e){window.open(e,"_blank","noopener")}return(0,i.useEffect)(()=>{r&&!h&&(0,F.fetchAggregator)(e).then(e=>e.json()).then(e=>{p(e);let t=e.beacon.immutable_file_number;l(t),d(t)}).catch(e=>{p(void 0),l(0),d(0),console.error("Fetch Cardano DB v2 artifact details error:",e)}).finally(()=>m(!0))},[e,h,r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x.A,{ref:a,variant:"outline-secondary",onClick:()=>s(!r),...t,children:["Download ",(0,n.jsx)(ex,{})]}),(0,n.jsx)(eu.A,{target:a.current,show:r,rootClose:!0,onHide:E,placement:"top-end",children:(0,n.jsxs)(eg.A,{className:eb().downloadPopover,children:[(0,n.jsxs)(eg.A.Header,{children:["Download Options"," ",(0,n.jsx)(x.A,{variant:"close",onClick:E,"aria-label":"Close",size:"sm"})]}),(0,n.jsx)(eg.A.Body,{as:C.A,className:"p-3",children:h?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.A,{gap:2,children:[(0,n.jsxs)(et.A,{variant:"danger",className:"mb-1",children:[(0,n.jsxs)(et.A.Heading,{children:[(0,n.jsx)("i",{className:"bi bi-exclamation-triangle"})," No certification"]}),"To download certified artifacts you ",(0,n.jsx)("strong",{children:"must"})," use the"," ",(0,n.jsx)(et.A.Link,{href:"https://mithril.network/doc/next/manual/develop/nodes/mithril-client",target:"_blank",children:"Mithril client"})," ","which will make sure they are correctly signed by the Mithril protocol."]}),(0,n.jsxs)(u.A.Text,{children:["Immutable (max: ",_,")"]}),(0,n.jsx)(u.A,{noValidate:!0,onSubmit:function(e){if(e.preventDefault(),!0===e.target.checkValidity()){let e=j?.immutables.locations[A];e?.type==="cloud_storage"&&P((0,w.getImmutableUrlFromTemplate)(e.uri.Template,o)),I(!1)}else I(!0)},validated:z,children:(0,n.jsxs)(b.A,{children:[(0,n.jsx)(ep,{type:"text",max:_,value:o,onChange:e=>l(e.target.value)}),(0,n.jsx)(ej,{ariaLabel:"Immutable locations",locations:j?.immutables.locations,onChange:e=>S(e.target.value),value:A}),(0,n.jsx)(x.A,{variant:"primary",type:"submit",children:(0,n.jsx)(ex,{})})]})}),(0,n.jsx)(u.A.Text,{children:"Digests"}),(0,n.jsxs)(b.A,{children:[(0,n.jsx)(ej,{ariaLabel:"Digests locations",locations:j?.digests.locations,onChange:e=>v(e.target.value),value:y}),(0,n.jsx)(x.A,{variant:"primary",onClick:function(){let e=j?.digests.locations[y];em(e)&&P(e.uri)},children:(0,n.jsx)(ex,{})})]}),(0,n.jsx)(u.A.Text,{children:"Ancillary"}),(0,n.jsxs)(b.A,{children:[(0,n.jsx)(ej,{ariaLabel:"Ancillary locations",locations:j?.ancillary.locations,onChange:e=>N(e.target.value),value:k}),(0,n.jsx)(x.A,{variant:"primary",onClick:function(){let e=j?.ancillary.locations[k];em(e)&&P(e.uri)},children:(0,n.jsx)(ex,{})})]})]})}):(0,n.jsx)(g.A,{className:"mb-2",children:(0,n.jsx)(f.A,{children:(0,n.jsx)(ee.A,{animation:"border"})})})})]})})]})}function ey(e){let[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/cardano-database`),_=(0,s.d4)(e=>e.settings.refreshSeed),d=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(l).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),d){let t=setInterval(e,d);return()=>clearInterval(t)}},[l,d,_]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Cardano Db Snapshots v2"," ",(0,n.jsx)(N.A,{href:l,variant:"outline-light",size:"sm"})]}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsx)(g.A,{children:0===Object.entries(t).length?(0,n.jsx)("p",{children:"No cardano database snapshot available"}):t.map((e,t)=>(0,n.jsx)(f.A,{className:"mb-2",children:(0,n.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,n.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,n.jsx)(L,{hash:e.hash,index:t}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(q,{label:"Epoch",children:e.beacon.epoch}),(0,n.jsx)(q,{label:"Immutable file number",children:e.beacon.immutable_file_number}),(0,n.jsx)(q,{label:"Created",children:(0,n.jsx)(ei,{datetime:e.created_at})}),(0,n.jsxs)(q,{label:"DB size",children:[(0,w.formatBytes)(e.total_db_size_uncompressed)," ",(0,n.jsx)(P,{tooltip:"Total uncompressed database size"})]}),(0,n.jsx)(q,{label:"Cardano node",children:e.cardano_node_version}),(0,n.jsx)(q,{label:"Merkle Root",children:e.merkle_root}),(0,n.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,n.jsx)(K,{show:0===t}),(0,n.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,n.jsx)(ew,{size:"sm",artifactUrl:`${l}/${e.hash}`}),(0,n.jsx)(N.A,{href:`${l}/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}function ev(e){let[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/cardano-stake-distributions`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch cardanoStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{aggregator:l,hash:a,onHashChange:function(e){o(e)}}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Cardano Stake Distribution"," ",(0,n.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsx)(g.A,{children:0===Object.entries(t).length?(0,n.jsx)("p",{children:"No cardano stake distribution available"}):t.map((e,t)=>(0,n.jsx)(f.A,{className:"mb-2",children:(0,n.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,n.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,n.jsx)(L,{hash:e.hash,index:t}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(q,{label:"Epoch",children:e.epoch}),(0,n.jsx)(q,{label:"Created",children:(0,n.jsx)(ei,{datetime:e.created_at})}),(0,n.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,n.jsx)(K,{show:0===t}),(0,n.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,n.jsx)(N.A,{href:`${l}/artifact/cardano-stake-distribution/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}function eA({maxAllowedHashesByRequest:e}){let t=Math.max(e,1),r=` *(\\w+ *, *){0,${t-1}}\\w+,? *`;return(0,n.jsx)(p.A,{children:(0,n.jsxs)(b.A,{hasValidation:!0,children:[(0,n.jsx)(x.A,{type:"submit",children:"Certify transactions"}),(0,n.jsx)(u.A.Control,{name:"txHashes",type:"text",placeholder:"comma-separated list of transactions hashes",required:!0,pattern:r}),(0,n.jsx)(u.A.Control.Feedback,{type:"invalid",children:"Please provide a comma-separated list of transactions hashes."})]})})}function eS({currentStep:e,isProofValid:t,isCertificateChainValid:r,onStepClick:i=e=>{}}){let s,a=[{step:eT.fetchingProof,text:"Fetching Transactions Proof"},{step:eT.validatingProof,text:"Verifying Transactions Proof"},{step:eT.validatingCertificateChain,text:"Validating Certificate Chain"}];return(0,n.jsxs)(z.A,{horizontal:"sm",activeKey:e,numbered:!0,children:[a.map(({step:s,text:a})=>(0,n.jsxs)(z.A.Item,{action:!0,eventKey:s,disabled:s>eT.validatingProof&&!t,onClick:()=>i(s),variant:function(e,n){if(e<n)return"light";if(n===e)return"primary";let i="";switch(n){case eT.fetchingProof:i="light";break;case eT.validatingProof:i=t?"light":"danger";break;case eT.validatingCertificateChain:i=t&&r?"light":"danger"}return i}(e,s),children:[a," ",e===s&&(0,n.jsx)(ee.A,{size:"sm"})]},s)),(0,n.jsx)(z.A.Item,{action:!0,onClick:()=>i(eT.done),eventKey:eT.done,variant:(s="light",e===eT.done&&(s=t&&r?"success":"danger"),s),children:"Finish"})]})}var eC=r(592),ek=r(9933);function eN({hash:e}){let t=(0,s.d4)(e=>(0,eC.JN)(e)),r=(0,w.getCExplorerUrl)(t),i=r?`${r}/tx/${e}`:void 0;return(0,n.jsx)(ek.m,{url:i,text:e,textClass:"text-break",showCopyButton:!0})}function ez({certificate:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"mb-2 px-2 fw-light",children:"The point of the Cardano chain used during the verification process."}),(0,n.jsxs)(z.A,{horizontal:!0,children:[(0,n.jsxs)(z.A.Item,{children:[(0,n.jsx)("span",{className:"fst-italic",children:"Epoch: "}),e.epoch]}),(0,n.jsxs)(z.A.Item,{children:[(0,n.jsx)("span",{className:"fst-italic",children:"Block number: "}),e.signed_entity_type.CardanoTransactions[1]]})]})]})}function eI({transactions:e}){return(0,n.jsxs)(G.A,{responsive:!0,striped:!0,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Transaction Hash"}),(0,n.jsx)("th",{children:"Certified"})]})}),(0,n.jsx)("tbody",{children:e.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)(eN,{hash:e.hash})}),(0,n.jsx)("td",{children:e.certified?(0,n.jsx)(en.A,{tooltip:"Certified by Mithril",variant:"success",icon:"mithril"}):(0,n.jsx)(en.A,{tooltip:"Not certified",variant:"danger",icon:"shield-slash-fill"})})]},e.hash))})]})}function eF({certificate:e,isSuccess:t,certifiedTransactions:r,nonCertifiedTransactions:s}){let[a,c]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=r.map(e=>({hash:e,certified:t})).concat(s.map(e=>({hash:e,certified:!1})));e.sort((e,t)=>e.hash<t.hash?-1:+(e.hash>t.hash)),c(e)},[t,r,s]),(0,n.jsxs)(n.Fragment,{children:[t?(0,n.jsx)(et.A,{variant:"success",className:"mb-2",children:(0,n.jsxs)(et.A.Heading,{children:[(0,n.jsx)("i",{className:"mi mi-logo"})," Mithril certified the transactions"]})}):(0,n.jsxs)(et.A,{variant:"danger",className:"mb-2",children:[(0,n.jsxs)(et.A.Heading,{children:[(0,n.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,n.jsx)("p",{className:"mb-1",children:"Either the transactions proof is invalid or none of the transactions is certified."}),(0,n.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,n.jsx)("i",{className:"bi bi-info-circle"})," Mithril may still have to certify those transactions."]})]}),(0,n.jsx)("h5",{children:"Beacon"}),(0,n.jsx)(ez,{certificate:e}),(0,n.jsx)("h5",{className:"mt-2",children:"Transactions"}),(0,n.jsx)(eI,{transactions:a}),t&&s.length>0&&(0,n.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,n.jsx)("i",{className:"bi bi-info-circle"})," Some transactions could not be certified, Mithril may still have to certify those transactions or they don't exist in the blockchain."]})]})}function eE({transactionHashes:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{children:"Fetching a transactions proof of membership from the aggregator"}),(0,n.jsxs)(G.A,{responsive:!0,striped:!0,children:[(0,n.jsx)("thead",{children:(0,n.jsx)("tr",{children:(0,n.jsx)("th",{children:"Transaction Hash to certify"})})}),(0,n.jsx)("tbody",{children:e.map(e=>(0,n.jsx)("tr",{children:(0,n.jsx)("td",{children:(0,n.jsx)(U.A,{hash:e})})},e))})]})]})}function eP({isProofValid:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{children:"Checking transactions proof validity and certificate matching"}),(0,n.jsxs)(G.A,{responsive:!0,striped:!0,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Verification"}),(0,n.jsx)("th",{children:"Verified"})]})}),(0,n.jsx)("tbody",{children:["Transactions proof validity","Certificate matches transactions proof"].map(t=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:t}),(0,n.jsx)("td",{children:e?(0,n.jsx)(en.A,{variant:"success",tooltip:"yes",icon:"check-circle-fill"}):(0,n.jsx)(en.A,{variant:"danger",tooltip:"no",icon:"x-circle"})})]},t))})]})]})}let eT={ready:1,fetchingProof:2,validatingProof:3,validatingCertificateChain:4,done:5};function eR({transactionHashes:e,onHashesChange:t=e=>{}}){let a=(0,s.d4)(e=>e.settings.selectedAggregator),[c,o]=(0,i.useState)(void 0),[_,d]=(0,i.useState)(void 0),[h,u]=(0,i.useState)(void 0),[b,x]=(0,i.useState)(1),[m,p]=(0,i.useState)({}),[w,y]=(0,i.useState)(!1),[v,A]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!0),[k,N]=(0,i.useState)(eT.ready),[z,I]=(0,i.useState)($(eT.ready)),[F,E]=(0,i.useState)(void 0);async function P(e,t){let r=await e.get_cardano_transaction_proofs(t),n=await e.get_mithril_certificate(r.certificate_hash);p(r),d(n)}async function T(e,t,r){let n=await e.verify_cardano_transaction_proof_then_compute_message(t,r),i=await e.verify_message_match_certificate(n,r)===!0;return A(i),i}function R(e){console.error("Cardano Transactions Certification Error:",e),E(e),N(eT.done)}function $(e){switch(e){case eT.validatingCertificateChain:case eT.validatingProof:case eT.done:return`#step-${e}`;case eT.ready:case eT.fetchingProof:default:return`#step-${eT.fetchingProof}`}}return(0,i.useEffect)(()=>{if(y(!1),A(!1),C(!0),d(void 0),N(eT.ready),E(void 0),e?.length>0){let{fetchGenesisVerificationKey:e,newMithrilWasmClient:t}=r(6207);e(a).then(e=>t(a,e)).then(e=>o(e)).then(()=>N(eT.fetchingProof)).catch(e=>R(e))}},[a,e]),(0,i.useEffect)(()=>{3===b&&(N(eT.done),y(!1))},[b]),(0,i.useEffect)(()=>{I($(k))},[k]),(0,i.useEffect)(()=>{k===eT.fetchingProof&&P(c,e).then(()=>setTimeout(()=>{N(eT.validatingProof)},350)).catch(e=>R(e))},[c,k,e]),(0,i.useEffect)(()=>{k===eT.validatingProof&&void 0!==_&&T(c,m,_).then(e=>{if(e)return setTimeout(()=>{N(eT.validatingCertificateChain)},250);N(eT.done)}).catch(e=>R(e))},[c,k,m,_]),(0,n.jsxs)(j.A,{show:void 0!==e&&e.length>0,onHide:function(){k!==eT.done?y(!0):t([])},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(j.A.Header,{className:"text-break",closeButton:!0,children:(0,n.jsx)(j.A.Title,{id:"contained-modal-title-vcenter",children:"Cardano Transactions Certification"})}),(0,n.jsx)(j.A.Body,{children:k>eT.ready&&(0,n.jsxs)(l.A.Container,{activeKey:z,children:[(0,n.jsx)(g.A,{className:"mb-2",children:(0,n.jsxs)(f.A,{children:[(0,n.jsx)(eS,{currentStep:k,isProofValid:v,isCertificateChainValid:S,onStepClick:function(e){k===eT.done&&I($(e))}}),w&&(0,n.jsx)(et.A,{variant:"warning",className:"mt-2",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."})]})}),(0,n.jsx)(g.A,{className:h?"d-none":"",children:(0,n.jsx)(f.A,{children:(0,n.jsxs)(l.A.Content,{children:[(0,n.jsx)(l.A.Pane,{eventKey:$(eT.fetchingProof),children:(0,n.jsx)(eE,{transactionHashes:e})}),(0,n.jsx)(l.A.Pane,{eventKey:$(eT.validatingProof),children:(0,n.jsx)(eP,{isProofValid:v})}),(0,n.jsx)(l.A.Pane,{eventKey:$(eT.validatingCertificateChain),children:k>=eT.validatingCertificateChain&&v&&(0,n.jsx)(el,{client:c,certificate:_,onStepChange:e=>x(e),onChainValidationError:()=>C(!1),onCertificateClick:function(e){k===eT.done&&u(e)},showCertificateLinks:!0,hideSpinner:!0})}),(0,n.jsxs)(l.A.Pane,{eventKey:$(eT.done),children:[k===eT.done&&void 0===F&&(0,n.jsx)(eF,{isSuccess:v&&S,certificate:_,certifiedTransactions:m.transactions_hashes,nonCertifiedTransactions:m.non_certified_transactions}),k===eT.done&&void 0!==F&&(0,n.jsxs)(et.A,{variant:"danger",className:"mb-2",children:[(0,n.jsxs)(et.A.Heading,{children:[(0,n.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,n.jsx)("p",{className:"mb-2",children:"An error occurred during the verification process. Please try again."}),(0,n.jsx)("hr",{}),(0,n.jsx)("pre",{className:"mb-0",children:(0,n.jsx)("code",{children:F.toString()})})]})]})]})})})]})}),(0,n.jsx)(j.A.Footer,{}),(0,n.jsx)(ed,{hash:h,onHashChange:e=>u(e),hideButtons:!0})]})}var e$=r(4442);function eB(e){let[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),[l,_]=(0,i.useState)(!1),[d,h]=(0,i.useState)([]),b=(0,s.d4)(m.z1),j=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/cardano-transactions`),p=(0,s.d4)(e=>e.settings.refreshSeed),w=(0,s.d4)(e=>e.settings.updateInterval),y=(0,s.d4)(e=>(0,m.v)(e));return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(j).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch cardano transactions snapshots error:",e)})};if(e(),w){let t=setInterval(e,w);return()=>clearInterval(t)}},[j,w,p]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,n.jsx)(eR,{transactionHashes:d,onHashesChange:function(e){h(e)}}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Cardano Transactions Snapshots"," ",(0,n.jsx)(N.A,{href:j,variant:"outline-light",size:"sm"})]}),(0,n.jsxs)(C.A,{fluid:!0,children:[(0,n.jsx)(g.A,{className:"mb-2",children:(0,n.jsx)(u.A,{onSubmit:function(e){e.preventDefault();let t=e.target;if(!0===t.checkValidity()){let e=Object.fromEntries(new FormData(t).entries()),r=(e?.txHashes??"").split(",").map(e=>e.trim()).filter(e=>e.length>0);r.sort(),h(r),_(!1)}else _(!0)},noValidate:!0,validated:l,children:(0,n.jsx)(g.A,{children:(0,n.jsx)(eA,{maxAllowedHashesByRequest:y?.cardano_transactions_prover?.max_hashes_allowed_by_request??e$.defaultAggregatorCapabilities.cardano_transactions_prover.max_hashes_allowed_by_request})})})}),(0,n.jsx)(g.A,{children:0===Object.entries(t).length?(0,n.jsx)("p",{children:"No Cardano Transactions Snapshot available"}):t.map((e,t)=>(0,n.jsx)(f.A,{className:"mb-2",children:(0,n.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,n.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,n.jsx)(L,{hash:e.hash,index:t}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(q,{label:"Epoch",children:e.epoch}),(0,n.jsx)(q,{label:"Block Number",children:e.block_number}),(0,n.jsx)(q,{label:"Created",children:(0,n.jsx)(ei,{datetime:e.created_at})}),(0,n.jsx)(q,{label:"Merkle Root",children:e.merkle_root}),(0,n.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,n.jsx)(K,{show:0===t}),(0,n.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,n.jsx)(N.A,{href:`${b}/artifact/cardano-transaction/${e.hash}`,size:"sm"})]})})]})},e.hash))})]})]})]})}function eM({signedEntity:e}){let t=(0,w.parseSignedEntity)(e??{});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(q,{label:"Type",children:(0,n.jsx)("h6",{children:t.name})}),Object.entries(t.fields).map(([e,t])=>(0,n.jsx)(q,{label:e.replace(/_/g," "),children:t},e))]})}function eO(e){let[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/certificates`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch certificates error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{hash:a,onHashChange:function(e){o(e)}}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Certificates"," ",(0,n.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsx)(g.A,{children:0===Object.entries(t).length?(0,n.jsx)("p",{children:"No certificate available"}):t.map((e,t)=>(0,n.jsx)(f.A,{className:"mb-2",children:(0,n.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,n.jsxs)(A.A.Body,{children:[(0,n.jsx)(L,{hash:e.hash,index:t}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(eM,{signedEntity:e.signed_entity_type}),(0,n.jsx)(q,{label:"Number of signers",children:e.metadata.total_signers}),(0,n.jsx)(q,{label:"Initiated at",children:(0,n.jsx)(ei,{datetime:e.metadata.initiated_at})}),(0,n.jsx)(q,{label:"Sealed at",children:(0,n.jsx)(ei,{datetime:e.metadata.sealed_at})}),(0,n.jsxs)(q,{label:"Parent hash",children:[e.previous_hash," "]})]})})]}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,n.jsx)(K,{show:0===t}),(0,n.jsx)(H.default,{bg:"secondary",children:e.metadata.network}),(0,n.jsx)(x.A,{size:"sm",onClick:()=>{o(e.hash)},className:"ms-auto",children:"Show Details"}),(0,n.jsx)(x.A,{size:"sm",onClick:()=>{o(e.previous_hash)},children:"Show Parent"}),(0,n.jsx)(N.A,{href:`${l}/certificate/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}function eD(e){let[t,r]=(0,i.useState)([]),[a,o]=(0,i.useState)(void 0),l=(0,s.d4)(m.z1),_=(0,s.d4)(e=>`${(0,m.z1)(e)}/artifact/mithril-stake-distributions`),d=(0,s.d4)(e=>e.settings.refreshSeed),h=(0,s.d4)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{let e=()=>{(0,F.fetchAggregator)(_).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch mithrilStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[_,h,d]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{aggregator:l,hash:a,onHashChange:function(e){o(e)}}),(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsxs)("h2",{children:["Mithril Stake Distribution"," ",(0,n.jsx)(N.A,{href:_,variant:"outline-light",size:"sm"})]}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsx)(g.A,{children:0===Object.entries(t).length?(0,n.jsx)("p",{children:"No mithril stake distribution available"}):t.map((e,t)=>(0,n.jsx)(f.A,{className:"mb-2",children:(0,n.jsxs)(A.A,{border:0===t?"primary":"",children:[(0,n.jsxs)(A.A.Body,{className:"pt-2 pb-1",children:[(0,n.jsx)(L,{hash:e.hash,index:t}),(0,n.jsx)(C.A,{fluid:!0,children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(q,{label:"Epoch",children:e.epoch}),(0,n.jsx)(q,{label:"Created",children:(0,n.jsx)(ei,{datetime:e.created_at})}),(0,n.jsx)(q,{label:"Certificate hash",children:e.certificate_hash})]})})]}),(0,n.jsx)(A.A.Footer,{children:(0,n.jsxs)(c.A,{direction:"horizontal",gap:1,children:[(0,n.jsx)(K,{show:0===t}),(0,n.jsx)(x.A,{size:"sm",className:"ms-auto",onClick:()=>{o(e.certificate_hash)},children:"Show Certificate"}),(0,n.jsx)(N.A,{href:`${l}/artifact/mithril-stake-distribution/${e.hash}`,size:"sm"})]})})]})},e.hash))})})]})]})}_.t1.register(_.Bs,_.PP,_.kc,_.E8,_.hE,_.m_,_.s$),(0,X.W6)(_.t1);let eH=e$.signedEntityType.CardanoImmutableFilesFull;function eU(){let e=(0,a.useSearchParams)(),t=(0,s.wA)(),[_,d]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),[g,f]=(0,i.useState)(!1),[b,x]=(0,i.useState)(!1),[j,p]=(0,i.useState)(eH),w=(0,s.d4)(m.z1),y=(0,s.d4)(e=>(0,m.CV)(e));return(0,i.useEffect)(()=>{u(y.includes(e$.signedEntityType.CardanoTransactions)),f(y.includes(e$.signedEntityType.CardanoStakeDistribution)),x(y.includes(e$.signedEntityType.CardanoDb))},[y]),(0,i.useEffect)(()=>{h||j!==e$.signedEntityType.CardanoTransactions||p(eH)},[j,h]),(0,i.useEffect)(()=>{(async()=>{let e=await Promise.resolve().then(r.bind(r,7315));await e.default()})().catch(e=>console.error("Mithril-client-wasm init error:",e))},[]),(0,i.useEffect)(()=>{if(w!==e.get(e$.aggregatorSearchParam)){let e=new URLSearchParams;e.set("aggregator",w),d(!0),window.history.pushState(null,"",`?${e.toString()}`)}t((0,eC.Vf)(w))},[w]),(0,i.useEffect)(()=>{if(_)d(!1);else{let r=e.get("aggregator");t((0,m.QB)(r))}},[e]),(0,n.jsxs)(c.A,{gap:3,children:[(0,n.jsx)(D,{}),(0,n.jsxs)(o.A,{activeKey:j,onSelect:e=>p(e),children:[(0,n.jsx)(l.A,{title:"Cardano Db",eventKey:e$.signedEntityType.CardanoImmutableFilesFull,children:(0,n.jsx)(eh,{})}),b&&(0,n.jsx)(l.A,{title:"Cardano Db v2",eventKey:e$.signedEntityType.CardanoDb,children:(0,n.jsx)(ey,{})}),h&&(0,n.jsx)(l.A,{title:"Cardano Transactions",eventKey:e$.signedEntityType.CardanoTransactions,children:(0,n.jsx)(eB,{})}),g&&(0,n.jsx)(l.A,{title:"Cardano Stake Distribution",eventKey:e$.signedEntityType.CardanoStakeDistribution,children:(0,n.jsx)(ev,{})}),(0,n.jsx)(l.A,{title:"Mithril Stake Distribution",eventKey:e$.signedEntityType.MithrilStakeDistribution,children:(0,n.jsx)(eD,{})}),(0,n.jsx)(l.A,{title:"Certificates",eventKey:"certificates",children:(0,n.jsx)(eO,{})})]})]})}},7018:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5155);r(2115);var i=r(8500),s=r.n(i);function a({href:e,children:t,className:r,disabled:i,variant:a="primary",...c}){return!0===i?r=`${r} disabled`:i=!1,(0,n.jsx)(s(),{href:e,"aria-disabled":i,className:`btn btn-${a} link-underline-opacity-0 ${r}`,...c,children:t})}},7140:(e,t,r)=>{"use strict";r.d(t,{W6:()=>a,an:()=>i,h1:()=>s});var n=r(506);function i(e){let t=(e??[]).map(e=>e.stake/1e12);return{labels:["< 1M₳","≥ 1M₳ < 10M₳","≥ 10M₳ < 25M₳","≥ 25M₳ < 50M₳","≥ 50M₳ < 75M₳","≥ 75M₳ < 100M₳","≥ 100M₳"],datasets:[{label:"Number of signers",data:[t.filter(e=>e<1).length,t.filter(e=>e>=1&&e<10).length,t.filter(e=>e>=10&&e<25).length,t.filter(e=>e>=25&&e<50).length,t.filter(e=>e>=50&&e<75).length,t.filter(e=>e>=75&&e<100).length,t.filter(e=>e>100).length]}]}}function s(e){let t=e??[];return{labels:t.map(e=>e.party_id),datasets:[{label:"Stake (₳)",data:t.map(e=>(0,n.toAda)(e.stake))}]}}function a(e){let t=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],r=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];e.defaults.plugins.legend.display=!1,e.defaults.elements.arc.backgroundColor=t,e.defaults.elements.arc.borderColor=r,e.defaults.elements.arc.borderWidth=1,e.defaults.elements.bar.backgroundColor=t,e.defaults.elements.bar.borderColor=r,e.defaults.elements.bar.borderWidth=1}},7315:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{BlockNumber:()=>i,CardanoTransactionsProofs:()=>s,CardanoTransactionsSetProofMessagePart:()=>a,IntoUnderlyingByteSource:()=>c,IntoUnderlyingSink:()=>o,IntoUnderlyingSource:()=>l,JSBroadcastChannelFeedbackReceiver:()=>_,MithrilClient:()=>d,default:()=>J,initSync:()=>G});class i{static __wrap(e){e>>>=0;let t=Object.create(i.prototype);return t.__wbg_ptr=e,j.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,j.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_blocknumber_free(e,0)}get 0(){return BigInt.asUintN(64,n.__wbg_get_blocknumber_0(this.__wbg_ptr))}set 0(e){n.__wbg_set_blocknumber_0(this.__wbg_ptr,e)}}Symbol.dispose&&(i.prototype[Symbol.dispose]=i.prototype.free);class s{static __wrap(e){e>>>=0;let t=Object.create(s.prototype);return t.__wbg_ptr=e,p.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,p.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_cardanotransactionsproofs_free(e,0)}get transactions_hashes(){let e=n.cardanotransactionsproofs_transactions_hashes(this.__wbg_ptr);var t=I(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}get certificate_hash(){let e,t;try{let r=n.__wbg_get_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr);return e=r[0],t=r[1],T(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}get certified_transactions(){let e=n.__wbg_get_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr);var t=I(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}get latest_block_number(){let e=n.__wbg_get_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr);return i.__wrap(e)}get non_certified_transactions(){let e=n.__wbg_get_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr);var t=I(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}set certificate_hash(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;n.__wbg_set_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr,t,r)}set certified_transactions(e){let t=D(e,n.__wbindgen_malloc),r=W;n.__wbg_set_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr,t,r)}set latest_block_number(e){N(e,i);var t=e.__destroy_into_raw();n.__wbg_set_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr,t)}set non_certified_transactions(e){let t=D(e,n.__wbindgen_malloc),r=W;n.__wbg_set_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr,t,r)}}Symbol.dispose&&(s.prototype[Symbol.dispose]=s.prototype.free);class a{static __wrap(e){e>>>=0;let t=Object.create(a.prototype);return t.__wbg_ptr=e,w.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof a?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_cardanotransactionssetproofmessagepart_free(e,0)}get proof(){let e,t;try{let r=n.__wbg_get_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr);return e=r[0],t=r[1],T(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}get transactions_hashes(){let e=n.__wbg_get_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr);var t=I(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}set proof(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;n.__wbg_set_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr,t,r)}set transactions_hashes(e){let t=D(e,n.__wbindgen_malloc),r=W;n.__wbg_set_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr,t,r)}}Symbol.dispose&&(a.prototype[Symbol.dispose]=a.prototype.free);class c{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,y.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_intounderlyingbytesource_free(e,0)}get autoAllocateChunkSize(){return n.intounderlyingbytesource_autoAllocateChunkSize(this.__wbg_ptr)>>>0}cancel(){let e=this.__destroy_into_raw();n.intounderlyingbytesource_cancel(e)}pull(e){return n.intounderlyingbytesource_pull(this.__wbg_ptr,e)}start(e){n.intounderlyingbytesource_start(this.__wbg_ptr,e)}get type(){return f[n.intounderlyingbytesource_type(this.__wbg_ptr)]}}Symbol.dispose&&(c.prototype[Symbol.dispose]=c.prototype.free);class o{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,v.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_intounderlyingsink_free(e,0)}abort(e){let t=this.__destroy_into_raw();return n.intounderlyingsink_abort(t,e)}close(){let e=this.__destroy_into_raw();return n.intounderlyingsink_close(e)}write(e){return n.intounderlyingsink_write(this.__wbg_ptr,e)}}Symbol.dispose&&(o.prototype[Symbol.dispose]=o.prototype.free);class l{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_intounderlyingsource_free(e,0)}cancel(){let e=this.__destroy_into_raw();n.intounderlyingsource_cancel(e)}pull(e){return n.intounderlyingsource_pull(this.__wbg_ptr,e)}}Symbol.dispose&&(l.prototype[Symbol.dispose]=l.prototype.free);class _{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,S.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_jsbroadcastchannelfeedbackreceiver_free(e,0)}}Symbol.dispose&&(_.prototype[Symbol.dispose]=_.prototype.free);class d{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,C.unregister(this),e}free(){let e=this.__destroy_into_raw();n.__wbg_mithrilclient_free(e,0)}compute_cardano_stake_distribution_message(e,t){return n.mithrilclient_compute_cardano_stake_distribution_message(this.__wbg_ptr,e,t)}compute_mithril_stake_distribution_message(e,t){return n.mithrilclient_compute_mithril_stake_distribution_message(this.__wbg_ptr,e,t)}fetch_current_mithril_era(){return n.mithrilclient_fetch_current_mithril_era(this.__wbg_ptr)}get_cardano_database_snapshot(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_get_cardano_database_snapshot(this.__wbg_ptr,t,r)}get_cardano_database_v2(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_get_cardano_database_v2(this.__wbg_ptr,t,r)}get_cardano_stake_distribution(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_get_cardano_stake_distribution(this.__wbg_ptr,t,r)}get_cardano_stake_distribution_by_epoch(e){return n.mithrilclient_get_cardano_stake_distribution_by_epoch(this.__wbg_ptr,e)}get_cardano_stake_distribution_for_latest_epoch(e){return n.mithrilclient_get_cardano_stake_distribution_for_latest_epoch(this.__wbg_ptr,e)}get_cardano_transaction_proofs(e){let t=D(e,n.__wbindgen_malloc),r=W;return n.mithrilclient_get_cardano_transaction_proofs(this.__wbg_ptr,t,r)}get_cardano_transactions_snapshot(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_get_cardano_transactions_snapshot(this.__wbg_ptr,t,r)}get_mithril_certificate(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_get_mithril_certificate(this.__wbg_ptr,t,r)}get_mithril_stake_distribution(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_get_mithril_stake_distribution(this.__wbg_ptr,t,r)}is_certificate_verifier_cache_enabled(){return n.mithrilclient_is_certificate_verifier_cache_enabled(this.__wbg_ptr)}list_cardano_database_snapshots(){return n.mithrilclient_list_cardano_database_snapshots(this.__wbg_ptr)}list_cardano_database_v2(){return n.mithrilclient_list_cardano_database_v2(this.__wbg_ptr)}list_cardano_database_v2_for_latest_epoch(e){return n.mithrilclient_list_cardano_database_v2_for_latest_epoch(this.__wbg_ptr,e)}list_cardano_database_v2_per_epoch(e){return n.mithrilclient_list_cardano_database_v2_per_epoch(this.__wbg_ptr,e)}list_cardano_stake_distributions(){return n.mithrilclient_list_cardano_stake_distributions(this.__wbg_ptr)}list_cardano_transactions_snapshots(){return n.mithrilclient_list_cardano_transactions_snapshots(this.__wbg_ptr)}list_mithril_certificates(){return n.mithrilclient_list_mithril_certificates(this.__wbg_ptr)}list_mithril_stake_distributions(){return n.mithrilclient_list_mithril_stake_distributions(this.__wbg_ptr)}constructor(e,t,r){const i=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),s=W,a=H(t,n.__wbindgen_malloc,n.__wbindgen_realloc),c=W,o=n.mithrilclient_new(i,s,a,c,r);return this.__wbg_ptr=o>>>0,C.register(this,this.__wbg_ptr,this),this}reset_certificate_verifier_cache(){return n.mithrilclient_reset_certificate_verifier_cache(this.__wbg_ptr)}verify_cardano_transaction_proof_then_compute_message(e,t){return N(e,s),n.mithrilclient_verify_cardano_transaction_proof_then_compute_message(this.__wbg_ptr,e.__wbg_ptr,t)}verify_certificate_chain(e){let t=H(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=W;return n.mithrilclient_verify_certificate_chain(this.__wbg_ptr,t,r)}verify_message_match_certificate(e,t){return n.mithrilclient_verify_message_match_certificate(this.__wbg_ptr,e,t)}}function h(){return{__proto__:null,"./mithril_client_wasm_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(e,t){return Error(T(e,t))},__wbg_Number_04624de7d0e8332d:function(e){return Number(e)},__wbg___wbindgen_bigint_get_as_i64_8fcf4ce7f1ca72a2:function(e,t){let r="bigint"==typeof t?t:void 0;P().setBigInt64(e+8,M(r)?BigInt(0):r,!0),P().setInt32(e+0,!M(r),!0)},__wbg___wbindgen_boolean_get_bbbb1c18aa2f5e25:function(e){let t="boolean"==typeof e?e:void 0;return M(t)?0xffffff:+!!t},__wbg___wbindgen_debug_string_0bc8482c6e3508ae:function(e,t){let r=H(function e(t){let r,n=typeof t;if("number"==n||"boolean"==n||null==t)return`${t}`;if("string"==n)return`"${t}"`;if("symbol"==n){let e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==n){let e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){let r=t.length,n="[";r>0&&(n+=e(t[0]));for(let i=1;i<r;i++)n+=", "+e(t[i]);return n+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(r=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}(t),n.__wbindgen_malloc,n.__wbindgen_realloc),i=W;P().setInt32(e+4,i,!0),P().setInt32(e+0,r,!0)},__wbg___wbindgen_in_47fa6863be6f2f25:function(e,t){return e in t},__wbg___wbindgen_is_bigint_31b12575b56f32fc:function(e){return"bigint"==typeof e},__wbg___wbindgen_is_function_0095a73b8b156f76:function(e){return"function"==typeof e},__wbg___wbindgen_is_object_5ae8e5880f2c1fbd:function(e){return"object"==typeof e&&null!==e},__wbg___wbindgen_is_string_cd444516edc5b180:function(e){return"string"==typeof e},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(e){return void 0===e},__wbg___wbindgen_jsval_eq_11888390b0186270:function(e,t){return e===t},__wbg___wbindgen_jsval_loose_eq_9dd77d8cd6671811:function(e,t){return e==t},__wbg___wbindgen_number_get_8ff4255516ccad3e:function(e,t){let r="number"==typeof t?t:void 0;P().setFloat64(e+8,M(r)?0:r,!0),P().setInt32(e+0,!M(r),!0)},__wbg___wbindgen_string_get_72fb696202c56729:function(e,t){let r="string"==typeof t?t:void 0;var i=M(r)?0:H(r,n.__wbindgen_malloc,n.__wbindgen_realloc),s=W;P().setInt32(e+4,s,!0),P().setInt32(e+0,i,!0)},__wbg___wbindgen_throw_be289d5034ed271b:function(e,t){throw Error(T(e,t))},__wbg__wbg_cb_unref_d9b87ff7982e3b21:function(e){e._wbg_cb_unref()},__wbg_abort_2f0584e03e8e3950:function(e){e.abort()},__wbg_abort_d549b92d3c665de1:function(e,t){e.abort(t)},__wbg_append_a992ccc37aa62dc4:function(){return B(function(e,t,r,n,i){e.append(T(t,r),T(n,i))},arguments)},__wbg_arrayBuffer_bb54076166006c39:function(){return B(function(e){return e.arrayBuffer()},arguments)},__wbg_buffer_26d0910f3a5bc899:function(e){return e.buffer},__wbg_byobRequest_80e594e6da4e1af7:function(e){let t=e.byobRequest;return M(t)?0:k(t)},__wbg_byteLength_3417f266f4bf562a:function(e){return e.byteLength},__wbg_byteOffset_f88547ca47c86358:function(e){return e.byteOffset},__wbg_call_389efe28435a9388:function(){return B(function(e,t){return e.call(t)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return B(function(e,t,r){return e.call(t,r)},arguments)},__wbg_cardanotransactionsproofs_new:function(e){return s.__wrap(e)},__wbg_cardanotransactionssetproofmessagepart_new:function(e){return a.__wrap(e)},__wbg_cardanotransactionssetproofmessagepart_unwrap:function(e){return a.__unwrap(e)},__wbg_clearTimeout_42d9ccd50822fd3a:function(e){return clearTimeout(e)},__wbg_close_06dfa0a815b9d71f:function(){return B(function(e){e.close()},arguments)},__wbg_close_36e3b6eed1f8c59d:function(e){e.close()},__wbg_close_a79afee31de55b36:function(){return B(function(e){e.close()},arguments)},__wbg_done_57b39ecd9addfe81:function(e){return e.done},__wbg_enqueue_2c63f2044f257c3e:function(){return B(function(e,t){e.enqueue(t)},arguments)},__wbg_entries_58c7934c745daac7:function(e){return Object.entries(e)},__wbg_fetch_6bbc32f991730587:function(e){return fetch(e)},__wbg_fetch_afb6a4b6cacf876d:function(e,t){return e.fetch(t)},__wbg_getItem_0c792d344808dcf5:function(){return B(function(e,t,r,i){let s=t.getItem(T(r,i));var a=M(s)?0:H(s,n.__wbindgen_malloc,n.__wbindgen_realloc),c=W;P().setInt32(e+4,c,!0),P().setInt32(e+0,a,!0)},arguments)},__wbg_getRandomValues_71d446877d8b0ad4:function(){return B(function(e,t){globalThis.crypto.getRandomValues(F(e,t))},arguments)},__wbg_getTime_1e3cd1391c5c3995:function(e){return e.getTime()},__wbg_get_9b94d73e6221f75c:function(e,t){return e[t>>>0]},__wbg_get_b3ed3ad4be2bc8ac:function(){return B(function(e,t){return Reflect.get(e,t)},arguments)},__wbg_get_with_ref_key_1dc361bd10053bfe:function(e,t){return e[t]},__wbg_has_d4e53238966c12b6:function(){return B(function(e,t){return Reflect.has(e,t)},arguments)},__wbg_headers_59a2938db9f80985:function(e){return e.headers},__wbg_instanceof_ArrayBuffer_c367199e2fa2aa04:function(e){let t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},__wbg_instanceof_Response_ee1d54d79ae41977:function(e){let t;try{t=e instanceof Response}catch(e){t=!1}return t},__wbg_instanceof_Uint8Array_9b9075935c74707c:function(e){let t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},__wbg_instanceof_Window_ed49b2db8df90359:function(e){let t;try{t=e instanceof Window}catch(e){t=!1}return t},__wbg_isArray_d314bb98fcf08331:function(e){return Array.isArray(e)},__wbg_isSafeInteger_bfbc7332a9768d2a:function(e){return Number.isSafeInteger(e)},__wbg_iterator_6ff6560ca1568e55:function(){return Symbol.iterator},__wbg_key_0167bc764945979a:function(){return B(function(e,t,r){let i=t.key(r>>>0);var s=M(i)?0:H(i,n.__wbindgen_malloc,n.__wbindgen_realloc),a=W;P().setInt32(e+4,a,!0),P().setInt32(e+0,s,!0)},arguments)},__wbg_length_32ed9a279acd054c:function(e){return e.length},__wbg_length_35a7bace40f36eac:function(e){return e.length},__wbg_length_7724867d8e59c610:function(){return B(function(e){return e.length},arguments)},__wbg_localStorage_a22d31b9eacc4594:function(){return B(function(e){let t=e.localStorage;return M(t)?0:k(t)},arguments)},__wbg_new_0_73afc35eb544e539:function(){return new Date},__wbg_new_361308b2356cecd0:function(){return{}},__wbg_new_3eb36ae241fe6f44:function(){return[]},__wbg_new_64284bd487f9d239:function(){return B(function(){return new Headers},arguments)},__wbg_new_72b49615380db768:function(e,t){return Error(T(e,t))},__wbg_new_afb8dbb951819ab7:function(){return B(function(e,t){return new BroadcastChannel(T(e,t))},arguments)},__wbg_new_b5d9e2fb389fef91:function(e,t){try{var r={a:e,b:t};return new Promise((e,t)=>{let i=r.a;r.a=0;try{var s,a,c,o;return s=i,a=r.b,c=e,o=t,void n.wasm_bindgen__convert__closures_____invoke__h6dea27d58a62da25(s,a,c,o)}finally{r.a=i}})}finally{r.a=r.b=0}},__wbg_new_b949e7f56150a5d1:function(){return B(function(){return new AbortController},arguments)},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(e){return new Uint8Array(e)},__wbg_new_from_slice_a3d2629dc1826784:function(e,t){return new Uint8Array(F(e,t))},__wbg_new_no_args_1c7c842f08d00ebb:function(e,t){return Function(T(e,t))},__wbg_new_with_byte_offset_and_length_aa261d9c9da49eb1:function(e,t,r){return new Uint8Array(e,t>>>0,r>>>0)},__wbg_new_with_str_and_init_a61cbc6bdef21614:function(){return B(function(e,t,r){return new Request(T(e,t),r)},arguments)},__wbg_next_3482f54c49e8af19:function(){return B(function(e){return e.next()},arguments)},__wbg_next_418f80d8f5303233:function(e){return e.next},__wbg_postMessage_6962a8f13ab51b6a:function(){return B(function(e,t){e.postMessage(t)},arguments)},__wbg_prototypesetcall_bdcdcc5842e4d77d:function(e,t,r){Uint8Array.prototype.set.call(F(e,t),r)},__wbg_queueMicrotask_0aa0a927f78f5d98:function(e){return e.queueMicrotask},__wbg_queueMicrotask_5bb536982f78a56f:function(e){queueMicrotask(e)},__wbg_removeItem_f6369b1a6fa39850:function(){return B(function(e,t,r){e.removeItem(T(t,r))},arguments)},__wbg_resolve_002c4b7d9d8f6b64:function(e){return Promise.resolve(e)},__wbg_respond_bf6ab10399ca8722:function(){return B(function(e,t){e.respond(t>>>0)},arguments)},__wbg_setItem_cf340bb2edbd3089:function(){return B(function(e,t,r,n,i){e.setItem(T(t,r),T(n,i))},arguments)},__wbg_setTimeout_4ec014681668a581:function(e,t){return setTimeout(e,t)},__wbg_set_1eb0999cf5d27fc8:function(e,t,r){return e.set(t,r)},__wbg_set_3f1d0b984ed272ed:function(e,t,r){e[t]=r},__wbg_set_body_9a7e00afe3cfe244:function(e,t){e.body=t},__wbg_set_cache_315a3ed773a41543:function(e,t){e.cache=b[t]},__wbg_set_cc56eefd2dd91957:function(e,t,r){e.set(F(t,r))},__wbg_set_credentials_c4a58d2e05ef24fb:function(e,t){e.credentials=x[t]},__wbg_set_f43e577aea94465b:function(e,t,r){e[t>>>0]=r},__wbg_set_headers_cfc5f4b2c1f20549:function(e,t){e.headers=t},__wbg_set_method_c3e20375f5ae7fac:function(e,t,r){e.method=T(t,r)},__wbg_set_mode_b13642c312648202:function(e,t){e.mode=m[t]},__wbg_set_signal_f2d3f8599248896d:function(e,t){e.signal=t},__wbg_signal_d1285ecab4ebc5ad:function(e){return e.signal},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){let e="u"<typeof global?null:global;return M(e)?0:k(e)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){let e="u"<typeof globalThis?null:globalThis;return M(e)?0:k(e)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){let e="u"<typeof self?null:self;return M(e)?0:k(e)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){let e=window;return M(e)?0:k(e)},__wbg_status_89d7e803db911ee7:function(e){return e.status},__wbg_stringify_8d1cc6ff383e8bae:function(){return B(function(e){return JSON.stringify(e)},arguments)},__wbg_text_083b8727c990c8c0:function(){return B(function(e){return e.text()},arguments)},__wbg_then_0d9fe2c7b1857d32:function(e,t,r){return e.then(t,r)},__wbg_then_b9e7b3b5f1a9e1b5:function(e,t){return e.then(t)},__wbg_url_c484c26b1fbf5126:function(e,t){let r=H(t.url,n.__wbindgen_malloc,n.__wbindgen_realloc),i=W;P().setInt32(e+4,i,!0),P().setInt32(e+0,r,!0)},__wbg_value_0546255b415e96c1:function(e){return e.value},__wbg_view_6c32e7184b8606ad:function(e){let t=e.view;return M(t)?0:k(t)},__wbg_warn_f7ae1b2e66ccb930:function(e){console.warn(e)},__wbindgen_cast_0000000000000001:function(e,t){return O(e,t,n.wasm_bindgen__closure__destroy__hb64565b44a3b67c5,u)},__wbindgen_cast_0000000000000002:function(e,t){return O(e,t,n.wasm_bindgen__closure__destroy__h9225ed5d83de224d,g)},__wbindgen_cast_0000000000000003:function(e){return e},__wbindgen_cast_0000000000000004:function(e,t){return T(e,t)},__wbindgen_cast_0000000000000005:function(e){return BigInt.asUintN(64,e)},__wbindgen_init_externref_table:function(){let e=n.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}}}}function u(e,t){n.wasm_bindgen__convert__closures_____invoke__ha891e6bd7680128b(e,t)}function g(e,t,r){n.wasm_bindgen__convert__closures_____invoke__he59daa8c0c49a771(e,t,r)}Symbol.dispose&&(d.prototype[Symbol.dispose]=d.prototype.free);let f=["bytes"],b=["default","no-store","reload","no-cache","force-cache","only-if-cached"],x=["omit","same-origin","include"],m=["same-origin","no-cors","cors","navigate"],j="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_blocknumber_free(e>>>0,1)),p="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_cardanotransactionsproofs_free(e>>>0,1)),w="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_cardanotransactionssetproofmessagepart_free(e>>>0,1)),y="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_intounderlyingbytesource_free(e>>>0,1)),v="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_intounderlyingsink_free(e>>>0,1)),A="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_intounderlyingsource_free(e>>>0,1)),S="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_jsbroadcastchannelfeedbackreceiver_free(e>>>0,1)),C="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_mithrilclient_free(e>>>0,1));function k(e){let t=n.__externref_table_alloc();return n.__wbindgen_externrefs.set(t,e),t}function N(e,t){if(!(e instanceof t))throw Error(`expected instance of ${t.name}`)}let z="u"<typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>e.dtor(e.a,e.b));function I(e,t){e>>>=0;let r=P(),i=[];for(let s=e;s<e+4*t;s+=4)i.push(n.__wbindgen_externrefs.get(r.getUint32(s,!0)));return n.__externref_drop_slice(e,t),i}function F(e,t){return e>>>=0,$().subarray(e/1,e/1+t)}let E=null;function P(){return(null===E||!0===E.buffer.detached||void 0===E.buffer.detached&&E.buffer!==n.memory.buffer)&&(E=new DataView(n.memory.buffer)),E}function T(e,t){var r,n;return r=e>>>=0,(L+=n=t)>=0x7ff00000&&((U=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0})).decode(),L=n),U.decode($().subarray(r,r+n))}let R=null;function $(){return(null===R||0===R.byteLength)&&(R=new Uint8Array(n.memory.buffer)),R}function B(e,t){try{return e.apply(this,t)}catch(t){let e=k(t);n.__wbindgen_exn_store(e)}}function M(e){return null==e}function O(e,t,r,n){let i={a:e,b:t,cnt:1,dtor:r},s=(...e)=>{i.cnt++;let t=i.a;i.a=0;try{return n(t,i.b,...e)}finally{i.a=t,s._wbg_cb_unref()}};return s._wbg_cb_unref=()=>{0==--i.cnt&&(i.dtor(i.a,i.b),i.a=0,z.unregister(i))},z.register(s,i,i),s}function D(e,t){let r=t(4*e.length,4)>>>0;for(let t=0;t<e.length;t++){let n=k(e[t]);P().setUint32(r+4*t,n,!0)}return W=e.length,r}function H(e,t,r){if(void 0===r){let r=V.encode(e),n=t(r.length,1)>>>0;return $().subarray(n,n+r.length).set(r),W=r.length,n}let n=e.length,i=t(n,1)>>>0,s=$(),a=0;for(;a<n;a++){let t=e.charCodeAt(a);if(t>127)break;s[i+a]=t}if(a!==n){0!==a&&(e=e.slice(a)),i=r(i,n,n=a+3*e.length,1)>>>0;let t=$().subarray(i+a,i+n);a+=V.encodeInto(e,t).written,i=r(i,n,a,1)>>>0}return W=a,i}let U=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});U.decode();let L=0,V=new TextEncoder;"encodeInto"in V||(V.encodeInto=function(e,t){let r=V.encode(e);return t.set(r),{read:e.length,written:r.length}});let W=0;function q(e,t){return n=e.exports,E=null,R=null,n.__wbindgen_start(),n}async function K(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.ok&&function(e){switch(e){case"basic":case"cors":case"default":return!0}return!1}(e.type)&&"application/wasm"!==e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{let r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function G(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=h();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),q(new WebAssembly.Instance(e,t),e)}async function J(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new r.U(r(1751)));let t=h();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:s}=await K(await e,t);return q(i,s)}},8208:(e,t,r)=>{"use strict";r.d(t,{CV:()=>j,Oz:()=>d,PY:()=>h,QB:()=>g,XN:()=>u,rT:()=>f,sI:()=>_,ue:()=>l,v:()=>m,z1:()=>x});var n=r(3769),i=r(1117),s=r.n(i),a=r(9648),c=r(506),o=r(4442);let l={updateInterval:void 0,refreshSeed:0,selectedAggregator:a.A[0],availableAggregators:a.A,aggregatorCapabilities:o.defaultAggregatorCapabilities,canRemoveSelected:!1},_=(0,n.Z0)({name:"settings",initialState:l,reducers:{setUpdateInterval:(e,t)=>{let r=t.payload;e.updateInterval=!Number.isNaN(r)&&Number.isInteger(r)?r:void 0},changeRefreshSeed:e=>{e.refreshSeed=Math.random()},selectAggregator:(e,t)=>{if(!(0,c.checkUrl)(t.payload))return e;let r=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:r,canRemoveSelected:!a.A.includes(t.payload)}},removeSelectedAggregator:e=>a.A.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!a.A.includes(e.availableAggregators.at(0))},updateSelectedAggregatorCapabilities:(e,t)=>({...e,aggregatorCapabilities:t.payload})}}),d=e=>{e.startListening({actionCreator:g,effect:async(e,t)=>{let r=e.payload;if(r){let e=await s().fetchAggregatorCapabilities(r);t.dispatch(b(e))}}})},{setUpdateInterval:h,changeRefreshSeed:u,selectAggregator:g,removeSelectedAggregator:f,updateSelectedAggregatorCapabilities:b}=_.actions,x=e=>e.settings.selectedAggregator,m=e=>e.settings?.aggregatorCapabilities??o.defaultAggregatorCapabilities,j=e=>e.settings?.aggregatorCapabilities?.signed_entity_types??[];_.reducer},9648:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","http://localhost:8080/aggregator"]}},e=>{e.O(0,[996,647,101,678,500,844,956,103,278,441,794,358],()=>e(e.s=4345)),_N_E=e.O()}]);