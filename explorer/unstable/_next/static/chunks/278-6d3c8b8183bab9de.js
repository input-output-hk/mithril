"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{506:e=>{let t=e=>e/1e6,r=(e,t=2)=>e.toLocaleString(void 0,{maximumFractionDigits:t});function a(e){let t,r="cexplorer.io";switch(e){case"mainnet":t=`https://${r}`;break;case"preprod":t=`https://preprod.${r}`;break;case"preview":t=`https://preview.${r}`}return t}function n(e,t){let r=e.map(e=>e.party_id),a=t.map(e=>e.party_id);return{in:[...e.filter(e=>!a.includes(e.party_id))],out:[...t.filter(e=>!r.includes(e.party_id))]}}e.exports={checkUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},percent:function(e,t,r=0){return 0===t?"0":(e/t*100).toFixed(r)},formatStake:function(e){let a=t(e),n=[{suffix:"B",value:1e9},{suffix:"M",value:1e6},{suffix:"K",value:1e3},{suffix:"",value:1}].find(e=>Math.abs(a)>=e.value-.001);return n?`${r(a/n.value)}${n.suffix}₳`:`${r(a)}₳`},toAda:t,formatCurrency:r,formatBytes:function(e,t=2){if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][r]},formatPartyId:function(e){return("string"==typeof e||e instanceof String)&&e.length>15?e.slice(0,10)+"…"+e.slice(-5):e},getCExplorerUrl:a,poolTickerCExplorerUrl:function(e,t){let r=a(e);return r?`${r}/pool/${t}`:void 0},formatProcessDuration:function(e){let t=performance.now()-e,r=Math.floor(t/6e4),a=Math.floor(t%6e4/1e3);return r>0?`${r} minutes and ${a} seconds`:`${a} seconds`},computeAggregatorNetworkFromUrl:function(e){let t=e.match(/aggregator\.(.*?)\.api/);return t&&t[1]?t[1]:null},computeInOutRegistrations:function(e,...t){let r={},a=e.registrations;for(let{registered_at:e,registrations:i}of t){let t=e+1,s=n(a,i);(s.in.length>0||s.out.length>0)&&(r[t]={in:s.in,out:s.out}),a=i}return r},dedupInOutRegistrations:function(e){let t={},r=[],a=[];for(let[n,i]of Object.entries(e).reverse()){let e={in:i.in.filter(e=>!a.includes(e.party_id)),out:i.out.filter(e=>!r.includes(e.party_id))};a.push(...i.out.map(e=>e.party_id)),r.push(...i.in.map(e=>e.party_id)),(e.in.length>0||e.out.length>0)&&(t[n]=e)}return t},compareRegistrations:n,getImmutableUrlFromTemplate:function(e,t){return e.replace("{immutable_file_number}",String(t).padStart(5,"0"))},parseSignedEntity:function(e){let t=Object.keys(e).at(0),r={name:t,fields:{}};return"MithrilStakeDistribution"===t||"CardanoStakeDistribution"===t?r.fields={epoch:e[t]}:"CardanoTransactions"===t?r.fields={epoch:e[t][0],block_number:e[t][1]}:r.fields=e[t]??{},r}}},592:(e,t,r)=>{r.d(t,{CY:()=>d,JN:()=>p,Vf:()=>l,s_:()=>o,wm:()=>u});var a=r(3769),n=r(2842),i=r(1117),s=r.n(i);let o=(0,a.Z0)({name:"pools",initialState:{list:[]},reducers:{},extraReducers:e=>e.addCase(l.fulfilled,(e,t)=>{if(t.payload.keep_cached_data)return;let r=c(e,t.payload.aggregator);r?(r.network=t.payload.network,r.pools=t.payload.pools,r.date=t.payload.date):e.list.push({aggregator:t.payload.aggregator,date:t.payload.date,network:t.payload.network,pools:t.payload.pools})})}),l=(0,a.zD)("pools/updateForAggregator",(e,t)=>{let r=c(t.getState().pools,e),a=Date.now();return a-(r?.date??0)>216e5?s().fetchSignersTickers(e).then(t=>({aggregator:e,date:a,network:t.network,pools:t.signers??[]})):{keep_cached_data:!0}}),c=(e,t)=>e.list.find(e=>e.aggregator===t),d=(0,n.Mz)([e=>e.settings.selectedAggregator,e=>e.pools,(e,t)=>t],(e,t,r)=>{let a=c(t,e),n=a?.pools.find(e=>e.party_id===r);return{network:a?.network,...n}}),u=(0,n.Mz)([e=>e.settings.selectedAggregator,e=>e.pools],(e,t)=>c(t,e)),p=(0,n.Mz)([e=>e.settings.selectedAggregator,e=>e.pools],(e,t)=>{let r=c(t,e);return r?.network});o.reducer},1117:(e,t,r)=>{let{defaultAggregatorCapabilities:a}=r(4442);function n(e){return fetch(e,{headers:{"mithril-origin-tag":"EXPLORER"}})}e.exports={fetchAggregator:n,fetchAggregatorCapabilities:function(e){return n(e).then(e=>200===e.status?e.json():{}).then(e=>e?.capabilities??a).catch(e=>(console.error("Fetch aggregator capabilities error:",e),a))},fetchSignersTickers:function(e){return n(`${e}/signers/tickers`).then(e=>200===e.status?e.json():{}).catch(e=>{console.error("Fetch signers tickers error:",e)})},fetchEpochSettings:function(e){return n(`${e}/epoch-settings`).then(e=>200===e.status?e.json():{}).catch(e=>{console.error("Fetch epoch settings error:",e)})},fetchRegistrations:function(e,t){return n(`${e}/signers/registered/${t}`).then(e=>200===e.status?e.json():{}).catch(e=>{console.error("Fetch registrations error:",e)})}}},2691:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(5155),n=r(2115),i=r(958),s=r(3427),o=r(8956);function l({textToCopy:e,variant:t="link",text:r=""}){let[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)("copy");function p(){window.isSecureContext&&e&&(c(!0),navigator.clipboard.writeText(e).finally(()=>setTimeout(()=>c(!1),400)))}return(0,n.useEffect)(()=>{u(l?"check-circle":"copy")},[l]),(0,a.jsx)(i.A,{overlay:(0,a.jsx)(s.A,{children:"Copy"}),children:"link"===t?(0,a.jsxs)(o.A,{variant:"link",onClick:p,size:"md",className:"p-0",children:[r," ",(0,a.jsx)("i",{className:`text-black bi bi-${d}`})]}):(0,a.jsxs)(o.A,{variant:t,onClick:p,size:"md",children:[r," ",(0,a.jsx)("i",{className:`bi bi-${d}`})]})})}},3699:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(5155);r(2115);var n=r(2691);function i({hash:e,className:t="",...r}){return(0,a.jsxs)("span",{className:`text-break ${t}`,...r,children:[e," ",(0,a.jsx)(n.A,{textToCopy:e})]})}},4122:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(5155);r(2115);var n=r(958),i=r(3427);function s({tooltip:e,variant:t}){return(0,a.jsx)(n.A,{overlay:(0,a.jsx)(i.A,{children:e}),children:(0,a.jsx)("span",{className:`badge bg-${t}`,children:(0,a.jsx)("i",{className:"mi mi-logo"})})})}function o({icon:e,tooltip:t,variant:r}){return(0,a.jsx)(n.A,{overlay:(0,a.jsx)(i.A,{children:t}),children:(0,a.jsx)("span",{className:`badge bg-${r}`,children:(0,a.jsx)("i",{className:`bi bi-${e}`})})})}function l({icon:e,tooltip:t,variant:r="success"}){return"mithril"===e?(0,a.jsx)(s,{tooltip:t,variant:r}):(0,a.jsx)(o,{icon:e,tooltip:t,variant:r})}},4442:(e,t,r)=>{r.r(t),r.d(t,{aggregatorSearchParam:()=>a,defaultAggregatorCapabilities:()=>i,signedEntityType:()=>n});let a="aggregator",n={MithrilStakeDistribution:"MithrilStakeDistribution",CardanoStakeDistribution:"CardanoStakeDistribution",CardanoImmutableFilesFull:"CardanoImmutableFilesFull",CardanoDb:"CardanoDatabase",CardanoTransactions:"CardanoTransactions"},i={signed_entity_types:[],cardano_transactions_prover:{max_hashes_allowed_by_request:100}}},8028:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(5155);r(2115);var n=r(958),i=r(3427),s=r(506);function o({lovelace:e}){return(0,a.jsx)(n.A,{overlay:(0,a.jsxs)(i.A,{children:[(0,s.formatCurrency)((0,s.toAda)(e),20),"₳"]}),children:(0,a.jsx)("span",{children:(0,s.formatStake)(e)})})}},8278:(e,t,r)=>{r.d(t,{A:()=>g});var a=r(5155);r(2115);var n=r(9856),i=r(3699),s=r(4122);function o({tooltip:e="Verified Signer"}){return(0,a.jsx)(s.A,{tooltip:e,icon:"shield-lock",variant:"success"})}var l=r(2834),c=r(592),d=r(506),u=r(9933);function p({partyId:e}){let t=(0,l.d4)(t=>(0,c.CY)(t,e)),r=(0,d.poolTickerCExplorerUrl)(t.network,e);return(0,a.jsx)(u.m,{url:r,text:t?.pool_ticker})}var h=r(8028);function g({signers:e,displayIndexes:t,...r}){return(0,a.jsxs)(n.A,{responsive:!0,striped:!0,...r,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[void 0!==t&&(0,a.jsx)("th",{children:"#"}),(0,a.jsx)("th",{children:"Party id"}),(0,a.jsx)("th",{children:"Pool Ticker"}),(0,a.jsx)("th",{className:"text-end",children:"Stake"})]})}),(0,a.jsx)("tbody",{children:e.map((e,r)=>(0,a.jsxs)("tr",{children:[!0===t&&(0,a.jsx)("td",{children:r}),(0,a.jsxs)("td",{children:[(0,a.jsx)(o,{})," ",(0,a.jsx)(i.A,{hash:e.party_id})]}),(0,a.jsx)("td",{children:(0,a.jsx)(p,{partyId:e.party_id})}),(0,a.jsx)("td",{className:"text-end",children:(0,a.jsx)(h.A,{lovelace:e.stake})})]},e.party_id))})]})}},9933:(e,t,r)=>{r.d(t,{m:()=>l});var a=r(5155);r(2115);var n=r(958),i=r(3427),s=r(5772),o=r(2691);function l({text:e,url:t,textClass:r,showCopyButton:l=!1}){return(0,a.jsxs)(a.Fragment,{children:[void 0!==t?(0,a.jsx)("a",{href:t,target:"_blank",className:`link-dark link-underline-light ${r}`,children:(0,a.jsx)(n.A,{overlay:(0,a.jsx)(i.A,{children:"See in CExplorer"}),children:(0,a.jsxs)("span",{children:[(0,a.jsx)(s.default,{src:"/explorer/cexplorer_logo.png",alt:"CExplorer Logo",style:{verticalAlign:"text-top"},width:20,height:20}),(0,a.jsx)(a.Fragment,{children:" "}),e??"Not available"]})})}):(0,a.jsx)("span",{className:r,children:e}),e&&l&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(o.A,{textToCopy:e})]})]})}}}]);